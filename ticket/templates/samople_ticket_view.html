
<!DOCTYPE html>
<html>
    <head>
        <title>#2 test again</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="icon" type="image/x-icon" sizes="16x16 32x32 48x48" href="/public/favicon.ico" />

        <!-- Stylesheets -->
        <link href="/public/bundles/uvdeskcoreframework/css/_uikit.css" type="text/css" rel="stylesheet" media="all" />
        <link href="/public/bundles/uvdeskcoreframework/css/_custom.css" type="text/css" rel="stylesheet" media="all" />
        <link href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" type="text/css" rel="stylesheet">
        <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/css/bootstrap-datetimepicker.min.css" type="text/css" rel="stylesheet">

        <!-- Custom CSS -->


<style>
    .uv-btn-small,
    .uv-btn,
    .uv-btn-large,
    .uv-btn-action,
    .uv-btn-label {
        background: #7e91f0;
    }

    .uv-btn-small:hover,
    .uv-btn:hover,
    .uv-btn-large:hover,
    .uv-btn-action:hover,
    .btn:hover,
    .uv-btn-label:hover {
        background: #7e91f0;
        opacity: .85;
    }

    .uv-btn-small:active,
    .uv-btn:active,
    .uv-btn-large:active,
    .uv-btn-action:active,
    .btn:active,
    .uv-btn-label:active {
        background: #7e91f0;
        opacity: .65;
    }

    .uv-btn-stroke:active{
        border-color: #7e91f0;
    }

    .uv-dropdown .uv-dropdown-btn-active {
        border: solid 1px #7e91f0;
    }

    .uv-select:focus,
    .uv-field:focus, .uv-search-inline:focus {
        border-color: #7e91f0;
    }

    .uv-sidebar .uv-soft-top .uv-logo svg path,
    .uv-inner-section .uv-view .uv-image-upload-wrapper .uv-image-upload-brick .uv-image-upload-placeholder svg path {
        fill: #7e91f0;
    }

    .uv-inner-section .uv-view .uv-image-upload-wrapper .uv-image-upload-brick:hover .uv-image-upload-placeholder svg path {
    fill: #7e91f0;
    opacity: .85;
    }

    li.uv-active-sidebar {
		color: #7e91f0;
		border-left: solid 3px #7e91f0;
    }

    .uv-sidebar ul.uv-menubar li:not(.uv-active-sidebar) a:hover,
    .uv-sidebar ul.uv-menubar li .uv-item-active {
        color: #7e91f0;
        border-left: solid 3px #7e91f0;
    }

    .uv-sidebar .uv-soft-top .uv-hamburger:hover svg path {
        fill: #7e91f0;
    }

    .uv-sidebar ul.uv-menubar li a:hover .uv-icon svg path,
    .uv-sidebar ul.uv-menubar li .uv-item-active .uv-icon svg path {
    fill: #7e91f0;
    }

    .uv-paper .uv-navbar .uv-notification-icon-count {
        background-color: #7e91f0;
    }

    .uv-paper .uv-container .uv-brick .uv-brick-section .uv-brick-icon:hover svg path {
        fill: #7e91f0;
    }

    .uv-paper .uv-container .uv-brick .uv-brick-section .uv-brick-icon {
        background-image: -webkit-linear-gradient(left, #7e91f0 0%, #7e91f0 100%);
        background-image: -o-linear-gradient(left, #7e91f0 0%, #7e91f0 100%);
        background-image: linear-gradient(to right, #7e91f0 0%, #7e91f0 100%);
    }
    .uv-paper .uv-container .uv-home-tabs ul li{
        border-color: #7e91f0;
    }
    .uv-paper .uv-container .uv-home-tabs ul .home-tab-active{
        background-color: #7e91f0;
    }
    .uv-inner-section .uv-view .uv-tabs ul .uv-tab-active{
        border-bottom-color: #7e91f0;
    }
    .uv-inner-section .uv-view .uv-tabs ul li:hover{
        border-bottom-color: #7e91f0;
    }
    .uv-loader span:before,.uv-loader span:after{
        background: #7e91f0;
    }

    .bootstrap-datetimepicker-widget table td.active, .bootstrap-datetimepicker-widget table td.active:hover {
        background-color: #7e91f0;
    }

    .btn-primary, .btn-primary:hover, .btn-primary:active {
        background-color: #7e91f0;
    }

    .uv-app-screen .uv-app-list-channels .uv-app-list-brick .uv-app-list-brick-lt{
        background-color: #7e91f0;
        background-image: none !important;
    }

    .uv-app-screen .uv-app-list-channels .uv-app-list-brick{
        border-color: #7e91f0;
    }

    .uv-inner-section .uv-view .uv-ticket-section .uv-ticket-accordion .uv-ticket-count-stat, .uv-inner-section .uv-view .uv-ticket-section .uv-ticket-accordion .uv-ticket-count-stat:hover{
        background: #7e91f0;
    }
    .uv-pagination a:hover {
        background-color: #7e91f0;
        border-color: rgba(0,0,0,.1);
    }
    .uv-box-tab ul > li a:hover, .uv-box-tab ul > li .uv-box-tab-active {
        background-color: #333333;
        border-color: #333333;
    }
    .uv-box-tab ul > li a:hover, .uv-box-tab ul > li .uv-box-tab-active {
        background-color: #7e91f0;
        border-color: #7e91f0;
    }
    .uv-paper .uv-search-result-row .uv-brick-icon {
        background-image: -webkit-linear-gradient(left, #7e91f0 0%, #7e91f0 100%) !important;
        background-image: -o-linear-gradient(left, #7e91f0 0%, #7e91f0 100%) !important;
        background-image: linear-gradient(to right, #7e91f0 0%, #7e91f0 100%) !important;
    }
    .uv-onboard-wrapper .uv-onboard-count:before{
        border-right-color: #7e91f0;
    }

    .uv-onboard-wrapper .uv-onboard-container .uv-onboard-navigator-active{
        background-color: #7e91f0;
    }
    .uv-icon-aside-menu,.uv-paper .uv-got-whats-new {
        background-color: #7e91f0;
    }
</style>

        <!-- Custom Stylesheets -->

            <style>
        .uv-aside-ticket-labels.label-list-block .uv-btn-label {
            cursor: pointer;
        }
        .uv-main-info-update-block .uv-element-block {
            margin: 10px 0px !important;
        }
        .uv-tab-ellipsis {
            position: relative;
        }
        .uv-inner-section .uv-view .uv-ticket-section .uv-ticket-accordion .uv-ticket-wrapper {
            display: block;
        }
        .uv-element-block.cc-bcc .uv-dropdown-container {
            padding: 10px 20px 10px 20px;
        }
        .uv-action-buttons .uv-dropdown-list ul li {
            padding: 5px 0px !important;
        }
        .uv-action-buttons{
            margin-bottom: 40px !important;
        }
        .uv-ticket-reply .uv-element-block-textarea, .thread-edit-container .uv-element-block-textarea {
            width: 100% !important;
            max-width: 100% !important;
        }
        .thread-edit-container .uv-field-message {
            color: #FF5656 !important;
        }
        .uv-element-block .mce-tinymce {
            margin-top: 10px;
        }
        .uv-ticket-reply .uv-element-block-textarea .uv-field-message, .thread-edit-container .uv-element-block-textarea .uv-field-message {
            margin-top: 15px;
        }
        .thread-edit-container {
            margin-top: 10px;
        }
        .uv-ticket-viewer-bar{
            transition: 0.2s cubic-bezier(0.4, 0, 0.2, 1);
            position: relative;
            overflow: hidden;
            height: 0px;
        }
        .uv-ticket-viewer-bar.active {
            height: 50px;
            margin-bottom: 10px;
            border-bottom: 1px dotted #f97278;
        }
        .uv-ticket-viewer-single {
            display: inline-block;
            margin-right: 5px;
        }
        .uv-ticket-viewer-single img {
            width: 40px;
            border-radius: 3px;
            display: inline-block;
            vertical-align: middle;
        }
        .uv-ticket-viewer-single.uv-first {
            width: 40px;
            height: 40px;
            background-image: linear-gradient(to right, #f97278 0%, #f181bf 100%);
            text-align: center;
            vertical-align: top;
            line-height: 30px;
            border-radius: 20px;
        }
        .uv-ticket-viewer-close {
            position: absolute;
            top: 0px;
            width: 40px;
            height: 40px;
            background: #f1f1f1;
            text-align: center;
            line-height: 35px;
            border-radius: 2px;
            opacity: .6;
            text-indent: 6px;
        }
        .uv-ticket-viewer-list {
            display: inline;
        }
        span.viewer-firstletter.img-thumbnail {
            width: 40px;
            height: 40px;
            display: block;
            text-align: center;
            font-size: 20px;
            font-style: italic;
            border: 1px dotted;
            border-radius: 4px;
            line-height: 35px;
        }
        .uv-ticket-viewer-close {
            display:none;
        }
        .uv-ticket-viewer-single:hover .uv-ticket-viewer-close {
            display: block;
        }
        .uv-hide{
            display: none;
        }
        .uv-info {
            background: #7C70F4;
        }
        .uv-ticket-viewer-list .uv-icon-eye-light{
            animation: jelly 0.8s infinite alternate ease-in-out;
        }
        .uv-aside-brick .uv-loader {
            position: absolute;
            transform: scale(0.5);
            top: 22px;
            right: 45px;
        }
        .uv-app-glyph-customfields {
            width: 20px;
            height: 20px;
            background-position: center center;
            background-repeat: no-repeat;
            cursor: pointer;
            display: inline-block;
            vertical-align: middle;
            margin: 5px 0px 5px 10px;
            background-image: url("/public/bundles/uvdeskcoreframework/images/app-glyph-custom.svg");
        }
        .uv-no-threads {
            padding: 80px 20px;
            text-align: center;
        }
        .uv-ticket-strip-label {
            position: relative;
        }
        input.input-copy-thread-link {
            position: absolute;
            bottom: 10px;
            width: 400px;
        }
        .uv-ticket-action-bar-fixed {
            position: fixed;
            width: 100%;
            background: #fff;
            z-index: 999;
        }
        .uv-ticket-action-bar-fixed .uv-ticket-action-bar-rt {
            position: fixed;
            right: 0px;
            margin-top: 10px;
        }
        .uv-ticket-action-bar-fixed + .uv-ticket-viewer-bar {
            margin-top: 70px;
        }
        .uv-ticket-main {
            word-wrap: break-word;
        }
        @media only screen and (max-width: 900px) {
            .uv-ticket-action-bar-fixed{
                position: relative;
            }
            .uv-ticket-action-bar-fixed + .uv-ticket-viewer-bar {
                margin-top: 0px;
            }
            .uv-ticket-action-bar-fixed .uv-ticket-action-bar-rt {
                position: relative;
            }
        }
        .uv-icon-pin {
            width: 18px;
            height: 18px;
            display: inline-block;
            vertical-align: middle;
            background-image: url("/public/bundles/uvdeskcoreframework/images/uvdesk-sprite.svg");
            background-position: 0px -396px;
            transition: transform .15s;
            transform: scale(1);
        }
        .uv-icon-pinned {
            background-position: -19px -396px;
        }
        .uv-header-fix{
            display: inline-block;
            margin: 0px 10px 0px 5px;
        }
        .uv-header-fix + .uv-tabs {
            display: inline-block;
        }
        .uv-ticket-section span.uv-mail-status {
            width: 16px;
            height: 16px;
            background: url('../../../../../bundles/webkuldefault/images/mail-status.png');
            cursor: help;
        }
        .uv-ticket-section .uv-mail-status.uv-mail-processed {
            background-position: 0 0;
        }
        .uv-ticket-section .uv-mail-status.uv-mail-open,.uv-ticket-section .uv-mail-status.uv-mail-delivered,.uv-ticket-section .uv-mail-status.uv-mail-click {
            background-position: -38px 0;
        }
        .uv-ticket-section .uv-mail-status.uv-mail-spam,.uv-ticket-section .uv-mail-status.uv-mail-deferred,.uv-ticket-section .uv-mail-spamreport {
            background-position: -55px 0;
        }
        .uv-ticket-section .uv-mail-status.uv-mail-bounce,.uv-ticket-section .uv-mail-status.uv-mail-dropped {
            background-position: -73px 0;
        }
        @media only screen and (max-width: 1480px) {
            .uv-inner-section .uv-view .uv-ticket-action-bar-fixed.uv-ticket-action-bar .uv-ticket-action-bar-rt{
                width: auto;
            }
        }
        @media only screen and (max-width: 1300px) {
            .uv-header-fix{
                margin: 0px 10px 0px 10px;
            }
        }

        @media only screen and (max-width: 900px) {
            .uv-ticket-action-bar-fixed{
                position: relative;
            }
            .uv-ticket-action-bar-fixed + .uv-ticket-viewer-bar {
                margin-top: 0px;
            }
            .uv-ticket-action-bar-fixed .uv-ticket-action-bar-rt {
                position: relative;
            }
            .uv-inner-section .uv-view .uv-ticket-action-bar.uv-ticket-action-bar-fixed .uv-ticket-action-bar-lt{
                width: 70%;
            }
            .uv-inner-section .uv-view .uv-ticket-action-bar.uv-ticket-action-bar-fixed .uv-ticket-action-bar-rt {
                width: 21%;
                padding-right: 33px;
            }
            .uv-header-fix {
                display: none;
            }
        }

        .uv-inner-section .uv-view .uv-ticket-scroll-region {
            margin-bottom: 0px;
        }

        .uv-inner-section .uv-view .uv-ticket-action-bar.uv-ticket-action-bar-fixed .uv-ticket-action-bar-rt {
            width: 21%;
            padding-right: 33px;
        }
        @media print {
            .uv-navbar,.uv-ticket-action-bar, .uv-sidebar, .uv-aside>.uv-aside-brick, .uv-aside-back, .uv-ticket-fixed-region, .uv-ticket-main.uv-ticket-reply, .uv-upload-actions, .uv-filter-view, .uv-dropdown-list>.uv-dropdown-container,.uv-notifications-wrapper,.uv-pop-up-overlay,.uv-loader-view, .uv-loader, .uv-navbar,.uv-ticket-count-wrapper {
                display: none !important;
            }
            .uv-ticket-scroll-region {
                overflow: visible;
                margin-bottom: 0 !important;
            }
            .uv-paper {
                padding-left: 0px !important; /* uv-view */
            }
            .uv-wrapper {
                left: 0 !important;
                margin: 0 !important;
            }
            .uv-inner-section .uv-view .uv-ticket-scroll-region  .uv-ticket-main-rt {
                width: 80%;
            }
            .uv-paper,.uv-view ,.uv-ticket-scroll-region, .uv-wrapper {
                position: initial !important;
            }
        }

        .uv-ticket-action-bar-rt .app-glyph {
            display: inline-block;
            vertical-align: middle;
            margin-right: 10px;
            cursor: pointer;
            height: 20px;
            width: 20px;
        }

        .uv-ticket-action-bar-rt .app-glyph:last-child {
            margin-right: 0px;
        }

        blockquote {
            background: #f9f9f9;
            border-left: 4px solid #ccc;
            margin: 1.5em 10px;
            padding: 0.5em 10px;
            quotes: "\201C""\201D""\2018""\2019";
        }

        blockquote:before {
            color: #ccc;
            content: open-quote;
            font-size: 3em;
            line-height: 0.1em;
            margin-right: 0.05em;
            vertical-align: -0.4em;
        }

        blockquote p {
            display: inline;
        }

        .uv-dropdown-list ul li {
            padding : 8px 0px !important;
        }

        ::-webkit-scrollbar {
            width: 6px;
        }
        ::-webkit-scrollbar-track {
            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        }
        ::-webkit-scrollbar-thumb {
            -webkit-box-shadow: inset 0 0 6px rgba(0,0,0,0.3);
        }

        .uv-aside-select.search .uv-dropdown-list.uv-bottom-left, .uv-aside-select .uv-dropdown-list.uv-bottom-right {
            top: 25px;
            width: 100%;
        }

        .uv-aside-select.search .uv-dropdown-list ul {
            padding: 0px 10px;
        }

        .uv-aside-select.search .uv-dropdown-container {
            padding: 8px 10px 4px;
            overflow-y: auto;
            max-height: 280px;
            border-bottom: solid 1px #D3D3D3;
        }

        .uv-aside-select.search .uv-dropdown-list ul.uv-agents-list li {
            border-bottom: solid 1px #D3D3D3;
            border-top:0px;
        }

        .uv-search-inline {
            width: 100%;
        }

        .uv-dropdown-list ul.uv-search-list li:first-child {
            border-top: none;
        }

        .uv-search-sm input.uv-search-field {
           border: solid 1px #B1B1AE;
           border-radius: 3px;
           color: #333333;
           font-size: 15px;
           box-sizing: border-box;
           padding: 7px 10px 9px 33px;
           width: 100%;
        }

    </style>

        <!-- Scripts -->
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/underscore.js/1.13.1/underscore-min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.4.0/backbone-min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.validation/0.11.5/backbone-validation-min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/backbone.paginator/2.0.8/backbone.paginator.min.js"></script>
        <script src="/public/bundles/uvdeskcoreframework/js/_dropdown.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/6.2.0/d3.min.js"></script>
        <script src="/public/bundles/uvdeskcoreframework/js/viewer.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.0/moment.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datetimepicker/4.17.47/js/bootstrap-datetimepicker.min.js"></script>
    </head>



    <body class=" ">
        <div class="uv-notifications-wrapper">
            <noscript>
                <div class="uv-notification page-load uv-error">
                    <p>Your browser does not support Javascript or Javascript is disabled. Please correct this!</p>
                </div>
                <style>.uv-loader-view {display: none;}</style>
            </noscript>


                                    </div>

        <div class="uv-loader-view">
            <div class="uv-loader">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>

        <div class="uv-pop-up-overlay" id="confirm-modal">
            <div class="uv-pop-up-box uv-pop-up-slim">
                <span class="uv-pop-up-close"></span>
                <h2>Confirm Action</h2>
                <p>Are you sure you want to perform this action?</p>

                <div class="uv-pop-up-actions">
                    <a href="#" class="uv-btn uv-btn-error confirm">Confirm</a>
                    <a href="#" class="uv-btn cancel">Cancel</a>
                </div>
            </div>
        </div>


                                    <style>
    .uv-sidebar:not(.uv-sidebar-active) .uv-language .lang-wrapper {
        width: 300px;
        text-align: center;
        transition: 0.4s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .uv-sidebar ul.uv-menubar.uv-language{
        position: fixed;
        bottom: 0px;
    }

    .uv-sidebar.uv-sidebar-active ul.uv-menubar.uv-language li a{
        width: 58px;
    }

    .uv-sidebar ul.uv-menubar.uv-language li a{
        max-width: 100%;
    }

    .uv-sidebar ul.uv-menubar.uv-language li a:hover, .uv-sidebar ul.uv-menubar.uv-language li .uv-item-active{
        color: #9E9E9E !important;
        border-left: 3px solid transparent;
    }

    .uv-sidebar ul.uv-menubar.uv-language a.uv-cursor{
        padding: 25px 27px;
    }

    .uv-sidebar ul.uv-menubar.uv-language .uv-profile.uv-dropdown-other{
        margin: -25px -27px;
        padding: 17px 18px;
    }

    .uv-wrapper-padding  {
        padding-left: 300px !important;
    }

    @media screen and (min-width: 1400px) {
        .uv-sidebar .uv-soft-top a.uv-logo {
            display: none;
            margin: 10px 7px;
        }

        .uv-sidebar .uv-soft-top .uv-hamburger {
            display: block;
            margin: 24px 20px;
        }
    }

    @media only screen and (max-width: 900px) {
        .uv-sidebar ul.uv-menubar.uv-language li a {
            width: 58px;
        }
    }
</style>

	<script type="text/javascript">
		document.addEventListener("DOMContentLoaded", function(e) {
			window.dispatchEvent(new Event('resize'));
		    var uvView = document.querySelector(".uv-view");
			if(uvView && uvView.offsetWidth <= 1340) {
				document.cookie = "uv-sidebar-status=1; expires=Wed, 01 Jan 2020 00:00:00 GMT;path=/";
			}
		});
	</script>

<div class="uv-sidebar ">
	<div style="overflow: hidden;">
		<div class="uv-soft-top">
			<a href="/public/en/member/dashboard" class="uv-logo">
				<img src="" alt="Logo" width="123" height="48">
			</a>

			<span class="uv-hamburger">
				<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="14px">
                    <path fill-rule="evenodd"  fill="rgb(158, 158, 158)" d="M19.000,2.000 L6.000,2.000 C5.448,2.000 5.000,1.552 5.000,1.000 C5.000,0.448 5.448,-0.000 6.000,-0.000 L19.000,-0.000 C19.552,-0.000 20.000,0.448 20.000,1.000 C20.000,1.552 19.552,2.000 19.000,2.000 ZM20.000,7.000 C20.000,7.552 19.552,8.000 19.000,8.000 L1.000,8.000 C0.448,8.000 0.000,7.552 0.000,7.000 C0.000,6.448 0.448,6.000 1.000,6.000 L19.000,6.000 C19.552,6.000 20.000,6.448 20.000,7.000 ZM3.000,12.000 L15.000,12.000 C15.552,12.000 16.000,12.448 16.000,13.000 C16.000,13.552 15.552,14.000 15.000,14.000 L3.000,14.000 C2.448,14.000 2.000,13.552 2.000,13.000 C2.000,12.448 2.448,12.000 3.000,12.000 Z"/>
				</svg>
			</span>
		</div>
	</div>

	<ul class="uv-menubar">

		<ul class="uv-menubar"><li title = "Home" class = "[[ ATTRIBUTES ]]" data-toggle = "tooltip" data-placement = "right"><a class="" href="/public/en/member/dashboard"><span class="uv-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="18px">
    <path fill-rule="evenodd" fill="rgb(158, 158, 158)" d="M8.000,18.000 L8.000,12.000 L12.000,12.000 L12.000,18.000 L17.000,18.000 L17.000,10.000 L20.000,10.000 L10.000,0.000 L-0.000,10.000 L3.000,10.000 L3.000,18.000 L8.000,18.000 Z"></path>
</svg></span><span class="uv-menu-item">Home</span></a></li><li title = "Tickets" class = "[[ ATTRIBUTES ]]" data-toggle = "tooltip" data-placement = "right"><a class="" href="/public/en/member/tickets"><span class="uv-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="18px">
    <path fill-rule="evenodd" fill="rgb(158, 158, 158)" d="M19.000,4.000 L17.000,4.000 L16.995,12.998 L4.000,13.000 L4.000,15.000 C4.000,15.550 4.450,16.000 5.000,16.000 L16.000,16.000 L20.000,20.000 L20.000,5.000 C20.000,4.450 19.550,4.000 19.000,4.000 ZM15.000,10.000 L15.000,1.000 C15.000,0.450 14.550,0.000 14.000,0.000 L1.000,0.000 C0.450,0.000 -0.000,0.450 -0.000,1.000 L-0.000,15.000 L4.000,11.000 L14.000,11.000 C14.550,11.000 15.000,10.550 15.000,10.000 Z"></path>
</svg></span><span class="uv-menu-item">Tickets</span></a></li><li title = "Reports" class = "[[ ATTRIBUTES ]]" data-toggle = "tooltip" data-placement = "right"><a class="" href="/public/en/member/agent/activity/list"><span class="uv-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="19px" height="20px">
    <path fill-rule="evenodd" fill="rgb(158, 158, 158)" d="M14.000,20.000 L19.000,20.000 L19.000,6.000 L14.000,6.000 L14.000,20.000 ZM5.026,19.987 L5.000,10.000 L-0.000,9.994 L-0.000,20.000 L5.026,19.987 ZM12.000,20.000 L12.000,0.000 L7.000,0.000 L7.000,20.000 L12.000,20.000 Z"></path>
</svg></span><span class="uv-menu-item">Reports</span></a></li><li title = "Apps" class = "[[ ATTRIBUTES ]]" data-toggle = "tooltip" data-placement = "right"><a class="" href="/public/en/member/apps"><span class="uv-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="20px">
    <path fill-rule="evenodd" fill="rgb(158, 158, 158)" d="M18,14H16v4a2,2,0,0,1-2,2H10V18.5a2.5,2.5,0,0,0-5,0V20H2a2,2,0,0,1-2-2V14H1.5a2.5,2.5,0,0,0,0-5H0V6A2,2,0,0,1,2,4H6V2a2,2,0,0,1,4,0V4h4a2,2,0,0,1,2,2v4h2A2,2,0,0,1,18,14Z"></path>
</svg></span><span class="uv-menu-item">Apps</span></a></li><li title = "Knowledgebase" class = "[[ ATTRIBUTES ]]" data-toggle = "tooltip" data-placement = "right"><a class="" href="/public/en/member/knowledgebase/folders"><span class="uv-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20px" height="18px">
    <path fill-rule="evenodd" fill="rgb(158, 158, 158)" d="M14.000,0.000 L2.000,0.000 C0.969,0.000 0.000,0.901 0.000,2.000 L0.000,18.000 C0.000,19.099 0.969,20.000 2.000,20.000 L14.000,20.000 C15.031,20.000 16.000,19.099 16.000,18.000 L16.000,2.000 C16.000,0.901 15.031,0.000 14.000,0.000 ZM3.000,3.000 L9.000,3.000 L9.000,11.000 L6.000,9.000 L3.000,11.000 L3.000,3.000 Z"></path>
</svg></span><span class="uv-menu-item">Knowledgebase</span></a></li></ul>
	</ul>

    <ul class="uv-menubar uv-language">
	    		<li>
			<a class="uv-cursor">
				<span style="position: relative">
					<div class="uv-profile uv-dropdown-other">
						<span class="uv-icon uv-skin-svg">
							<svg xmlns="http://www.w3.org/2000/svg"
								xmlns:xlink="http://www.w3.org/1999/xlink"
								width="20px" height="20px">
								<path fill-rule="evenodd"  fill="rgb(158, 158, 158)"
								d="M13.076,5.199 L11.543,3.000 L14.505,3.000 L13.076,5.199 ZM12.000,12.000 L12.000,8.763 L13.105,7.061 L15.161,10.010 L16.001,9.395 L13.717,6.119 L15.744,3.000 L17.000,3.000 L17.000,2.000 L15.174,2.000 L15.161,1.990 L15.154,2.000 L13.000,2.000 L13.000,1.000 L12.000,1.000 L12.000,2.000 L10.846,2.000 L10.839,1.990 L10.826,2.000 L9.000,2.000 L9.000,3.000 L10.275,3.000 L12.464,6.141 L11.906,7.000 L7.000,7.000 L7.000,-0.000 L19.000,-0.000 L19.000,12.000 L12.000,12.000 ZM11.000,8.394 L10.999,8.395 L11.000,8.396 L11.000,19.000 L-0.000,19.000 L-0.000,8.000 L11.000,8.000 L11.000,8.394 ZM6.288,9.992 L4.773,9.992 L2.005,16.994 L3.458,16.994 L4.208,15.017 L6.842,15.017 L7.587,16.994 L9.014,16.994 L6.288,9.992 ZM5.538,11.205 C5.555,11.266 5.872,12.215 6.488,14.052 L4.557,14.052 L5.538,11.205 ZM15.000,13.000 L17.000,13.000 L17.000,16.025 L15.000,18.000 C15.000,18.000 14.983,18.000 14.951,18.000 C14.564,18.000 12.000,18.000 12.000,18.000 L12.000,16.000 L15.000,16.000 L15.000,13.000 Z"/>
							</svg>
						</span>
						<span class="uv-menu-item">
							<span class="" style="color: #BABABA;font-weight: normal;">Language: </span>
							<span style="text-transform:capitalize;color: black;font-weight: normal;">English</span>
							<span aria-hidden="true" style="color: rgb(155, 155, 155);">▼</span>
						</span>
					</div>
					<div class="uv-dropdown-list uv-bottom-left">
						<div class="uv-dropdown-container">
							<ul>
																	<li data-value="/public/en/member/ticket/view/2" class="uv-active" onclick="window.location = this.getAttribute('data-value')">
										English
									</li>
																	<li data-value="/public/fr/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										French
									</li>
																	<li data-value="/public/it/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										Italian
									</li>
																	<li data-value="/public/de/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										German
									</li>
																	<li data-value="/public/da/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										Danish
									</li>
																	<li data-value="/public/ar/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										Arabic
									</li>
																	<li data-value="/public/es/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										Spanish
									</li>
																	<li data-value="/public/tr/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										Turkish
									</li>
																	<li data-value="/public/zh/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										Chinese
									</li>
																	<li data-value="/public/pl/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										Polish
									</li>
																	<li data-value="/public/he/member/ticket/view/2"  onclick="window.location = this.getAttribute('data-value')">
										Hebrew
									</li>
															</ul>
						</div>
					</div>
				</span>
			</a>
		</li>
	</ul>
</div>

<script type="text/javascript">
    document.addEventListener("DOMContentLoaded", function() {
        fetch('/public/tracker/xhr/get/cacheImage')
            .then(response => response.json())
            .then(data => {
                const logoImg = document.querySelector('.uv-logo img');
                if (logoImg) {
                    // Set the image source to the URL provided by the server
                    logoImg.src = data;
                }
            })
            .catch(error => console.error('Error fetching the image path:', error));
    });
</script>
                    <div class="uv-paper">
                                    <!-- Navbar -->
<style>
    .uv-navbar .uv-notification-list li {
        cursor: default;
        font-size: 15px !important;
    }
    .uv-navbar .uv-notification-list li * {
        display: inline-block !important;
    }
    .uv-navbar .uv-notification-list li a {
         color: #2750C4 !important;
    }
    .uv-navbar .uv-notification-list ul {
        max-height: 320px !important;
    }
    .uv-navbar .uv-notification-list .timeago {
        color: #9E9E9E;
        margin-top: 5px;
        font-size: 13px;
    }
    .uv-navbar .uv-dropdown-container.load-more {
        border-top: solid 1px #D3D3D3;
        text-align: center;
    }
    .uv-navbar .uv-dropdown-container.load-more a {
        color: #333;
        text-transform: capitalize;
        font-size: 15px;
        font-weight: 500;
    }
    .uv-text-left .uv-dropdown-container {
        overflow:  unset !important;
        max-height: unset !important;
    }
    .uv-navbar .uv-icon-load-more {
        margin-right: 5px;
    }
    .uv-plan-list-item .uv-text-light-color {
        color: #9E9E9E;
    }
    .uv-plan-list-item .uv-plan-badge {
        color: #FFFFFF;
        font-size: 12px;
        padding: 1px 5px;
        border-radius: 3px;
        margin-left: 5px;
        display: inline-block;
        text-transform: uppercase;
    }
    .uv-plan-list-item .uv-plan-badge-color-free {
        background: #4486ee;
    }
    .uv-plan-list-item .uv-plan-badge-color-pro {
        background: #f5d02a;
    }
    .uv-plan-list-item .uv-plan-badge-color-enterprise {
        background: #fd9a9a;
    }
    .uv-plan-list-item .uv-plan-badge-color-customized {
        background: #b77af5;
    }
    .uv-onboard-navigator {
        cursor: pointer;
    }
    .uv-margin-icon-srch {
        margin: 5px 0px 0px 5px;
    }

    .uv-mob-aside{
        position: fixed;
        z-index: 999;
        top: 105px;
        left: 288px;
        transition: 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .uv-sidebar.uv-sidebar-active ~ .uv-paper .uv-mob-aside{
        left: 320px;
    }
    .uv-mob-aside.uv-mob-aside-collapsed{
        left: 286px;
    }
    .uv-sidebar.uv-sidebar-active ~ .uv-paper .uv-mob-aside.uv-mob-aside-collapsed{
        left: 45px;
    }
    .uv-view.uv-aside-view{
        padding: 25px 0px 25px 25px;
    }
    .uv-inner-section .uv-view.uv-aside-view .uv-ticket-scroll-region.uv-aside-view-tv{
        left: 20px;
    }
    .uv-mob-aside .uv-icon-aside-menu,.uv-mob-aside .uv-icon-aside-menu:hover {
        background-position: 1px -497px;
    }
    .uv-mob-aside-collapsed .uv-icon-aside-menu, .uv-mob-aside-collapsed .uv-icon-aside-menu:hover {
        background-position: 5px -497px;
    }
    .uv-mob-aside:not(.uv-mob-aside-collapsed) .uv-icon-aside-menu,.uv-mob-aside:not(.uv-mob-aside-collapsed) .uv-icon-aside-menu:hover {
        -ms-transform: rotate(180deg);
        -webkit-transform: rotate(180deg);
        transform: rotate(180deg);
    }
    .uv-mob-aside:not(.uv-mob-aside-collapsed) .uv-icon-aside-menu:hover,.uv-rtl .uv-mob-aside.uv-mob-aside-collapsed .uv-icon-aside-menu:hover {
        box-shadow: 0px -8px 15px 3px rgba(0, 0, 0, 0.15), 0px -2px 3px 0px rgba(0, 0, 0, 0.2);
    }
    .uv-rtl .uv-mob-aside:not(.uv-mob-aside-collapsed) .uv-icon-aside-menu,.uv-rtl .uv-mob-aside:not(.uv-mob-aside-collapsed) .uv-icon-aside-menu:hover {
        -ms-transform: unset;
        -webkit-transform: unset;
        transform: unset;
    }
    .uv-rtl .uv-mob-aside.uv-mob-aside-collapsed .uv-icon-aside-menu,.uv-rtl .uv-mob-aside.uv-mob-aside-collapsed .uv-icon-aside-menu:hover {
        -ms-transform: rotate(180deg)!important;
        -webkit-transform: rotate(180deg)!important;
        transform: rotate(180deg)!important;
    }
    .uv-rtl .uv-sidebar.uv-sidebar-active ~ .uv-paper .uv-mob-aside{
        right: 320px;
        left: unset;
    }
    .uv-rtl .uv-mob-aside.uv-mob-aside-collapsed{
        right: 286px;
    }
    .uv-rtl .uv-sidebar.uv-sidebar-active ~ .uv-paper .uv-mob-aside.uv-mob-aside-collapsed{
        right: 45px;
    }
    .uv-rtl .uv-inner-section .uv-view.uv-aside-view .uv-ticket-scroll-region.uv-aside-view-tv{
        right: 20px;
    }
    .uv-rtl .uv-sidebar:not(.uv-sidebar-active) ~ .uv-paper .uv-mob-aside:not(.uv-mob-aside-collapsed) {
        right: 560px
    }
    .uv-rtl .uv-mob-aside{
        left: unset;
    }
    .uv-menubar.uv-language .uv-dropdown-list {
        z-index: 19999;
    }

    .user-name {
        font-weight: 800;
        margin-top: 2px;
        font-size: medium;
    }

    @media screen and (min-width: 901px) and (max-width: 1400px) {
        .uv-sidebar.uv-sidebar-active ~ .uv-paper .uv-mob-aside{
            left: 290px;
        }
        .uv-mob-aside.uv-mob-aside-collapsed{
            left: 40px;
        }
        .uv-rtl .uv-sidebar.uv-sidebar-active ~ .uv-paper .uv-mob-aside{
            right: 290px;
        }
        .uv-rtl  .uv-mob-aside.uv-mob-aside-collapsed{
            right: 52px;
        }
    }
    @media screen and (max-width: 1024px) {
        .uv-mob-aside{
            top: 48px;
            left: 80px!important;
        }
        .uv-mob-aside-collapsed .uv-icon-aside-menu, .uv-mob-aside-collapsed .uv-icon-aside-menu:hover {
            background-position: 1px -497px;
        }
        .uv-sidebar ul.uv-menubar li a {
            max-width: 60px !important;
        }
        .uv-sidebar .uv-soft-top .uv-company-logo {
            width: unset;
        }
        #google_translate_element .goog-te-gadget-simple {
            width: 26px;
            overflow: hidden;
            font-size: 0px;
            padding: 3px 2px 2px 2px;
        }
    }
    @media screen and (max-width: 400px) {
        #google_translate_element {
            display: none;
        }
    }
    .uv-rtl .uv-mob-aside{
        right: 320px;
    }
    .uv-pop-up-body .uv-mob-aside {
        display: none;
        transition: none;
    }
    .uv-rtl .uv-view.uv-aside-view{
        padding: 25px 25px 25px 0px;
    }
    .uv-rtl .uv-inner-section .uv-view.uv-aside-view .uv-ticket-scroll-region.uv-aside-view-tv{
        left: 0px;
        right: 20px;
    }
    .uv-filter-view .uv-filter-head .uv-filter-toggle span{
        background-position: -21px -245px;
    }
    .uv-view.uv-aside-view{
        padding: 25px 0px 25px 25px;
    }
    .uv-inner-section .uv-view.uv-aside-view .uv-ticket-scroll-region.uv-aside-view-tv{
        left: 20px;
    }
    .uv-rtl .uv-view.uv-aside-view{
        padding: 25px 25px 25px 0px;
    }
    .uv-rtl .uv-inner-section .uv-view.uv-aside-view .uv-ticket-scroll-region.uv-aside-view-tv{
        left: 0px;
        right: 20px;
    }
    .uv-filter-view .uv-filter-head .uv-filter-toggle span{
        background-position: -21px -245px;
    }


    .uv-inner-section .uv-view.uv-aside-view .uv-ticket-fixed-region{
        left: 20px;
    }

    .uv-rtl .uv-inner-section .uv-view.uv-aside-view .uv-ticket-fixed-region {
        left: 0px;
        right: 20px;
    }

    div.mce-edit-area {
        margin-right: 1px!important;
    }

    .uv-whats-newlist li img {
        width: 40px;
    }
    .uv-got-whats-new {
        background-color: #7C70F4;
        border-radius: 50%;
        padding: 4px;
        border: 2px solid white;
        position: absolute;
        top: -3px;
        right: -3px;
    }
    .uv-feature-title {
        vertical-align: top;
        font-size: 18px;
        margin: 5px 0 0 5px;
        word-wrap: break-word;
        display: inline-block;
    }
    .uv-feature-content {
        margin: 2px 0 0 0;
    }
    .uv-dropdown-list ul .uv-feature-link, .uv-dropdown-list ul .uv-feature-link:link, .uv-dropdown-list ul .uv-feature-link:active, .uv-dropdown-list ul .uv-feature-link:visited, .uv-dropdown-list ul .uv-feature-link:focus {
        color: #2750C4;
        font-size: 15px;
        margin-top: 10px;
    }
    .uv-dropdown-list ul.uv-search-list li.uv-whats-li {
        border-top: none;
        padding-top: 5px;
    }
    .uv-whats-newlist + .uv-notification-list {
        margin-left: 15px;
    }
    .uv-search-result-wrapper a:focus > .uv-search-result-row {
        background-color: #f0f0f0;
    }
    .uv-loader-view ~ .uv-notifications-wrapper {
        z-index: 9999;
    }
    .mce-notification-error {
        display: none;
    }
    ul.uv-flag-notice-list {
        color: #333333;
        border-top: solid 1px #D3D3D3;
        border-bottom: solid 1px #D3D3D3;
        padding: 15px 20px;
        background: #FAFAFA;
    }
    .uv-dropdown-list ul.uv-search-list.flags-active li:first-child {
        border-top: unset;
    }

    .dropdown-divider {
        border-top: 1px solid #e1e4e8;
        display: block;
        height: 0;
        margin: 10px 0 10px -19px;
        width: 195px;
    }
</style>

<!-- Navigation -->
<div class="uv-navbar">
    <!-- Banner -->
    <div class="uv-mob-aside ">
        <span class="uv-icon-aside-menu"></span>
    </div>

    <!-- Search Box -->
    <div class="uv-search-wrapper uv-no-error-success-icon">
	<input placeholder="Search" class="uv-search-bar" type="text" name="">
	<div class="uv-search-result-wrapper" id="beauty-scroll">
		<h6>Results</h6>

					<a href="/public/en/member/agent/activity/list">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 20 17">
    <path id="activity" class="cls-1" d="M0,10v4H5L8,9l5,10h1l3-6h3V9H15l-1.364,3.854L8,2H7.015L3,10H0Z" transform="translate(0 -2)"></path>
</svg></div>
					<p>Agent Activity</p>
				</div>
			</a>
					<a href="/public/en/member/agents">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M30.5,2.974A22.308,22.308,0,0,0,8,25.081V42c0,4.078,2.85,8,7,8h8V29.994H13V25.081A17.337,17.337,0,0,1,30.5,7.887,17.337,17.337,0,0,1,48,25.081v4.913H38V50H48v2H31v5H46c4.15,0,7-3.278,7-7.355V25.081A22.308,22.308,0,0,0,30.5,2.974Z"></path>
</svg></div>
					<p>Agents</p>
				</div>
			</a>
					<a href="/public/en/member/apps">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M17,26a4,4,0,1,1-4,4A4,4,0,0,1,17,26Zm13,0a4,4,0,1,1-4,4A4,4,0,0,1,30,26Zm13,0a4,4,0,1,1-4,4A4,4,0,0,1,43,26Z"></path>
</svg></div>
					<p>Apps</p>
				</div>
			</a>
					<a href="/public/en/member/theme/helpdesk">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M30,6a24,24,0,0,0,0,48,4,4,0,0,0,2.96-6.693,3.985,3.985,0,0,1,2.987-6.64h4.72A13.338,13.338,0,0,0,54,27.333C54,15.547,43.253,6,30,6ZM15.333,30a4,4,0,1,1,4-4A3.995,3.995,0,0,1,15.333,30Zm8-10.667a4,4,0,1,1,4-4A3.995,3.995,0,0,1,23.333,19.333Zm13.333,0a4,4,0,1,1,4-4A3.995,3.995,0,0,1,36.667,19.333Zm8,10.667a4,4,0,1,1,4-4A3.995,3.995,0,0,1,44.667,30Z"></path>
</svg></div>
					<p>Branding</p>
				</div>
			</a>
					<a href="/public/en/member/settings/email/settings">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M49.224,54.979H10.813a4.783,4.783,0,0,1-4.8-4.736V26.566a4.7,4.7,0,0,1,2.281-4.025l3.082-1.78,3.4,2.779-4.582,2.648,19.83,12.218,19.83-12.218-4.6-2.66,3.4-2.779,3.1,1.793A4.68,4.68,0,0,1,54,26.566l0.024,23.678A4.783,4.783,0,0,1,49.224,54.979Zm-9.287-35.7a8.723,8.723,0,0,0,0-2.549l2.821-2.145a0.644,0.644,0,0,0,.16-0.832l-2.674-4.5a0.681,0.681,0,0,0-.815-0.286l-3.328,1.3a9.841,9.841,0,0,0-2.259-1.275L33.334,5.549A0.646,0.646,0,0,0,32.679,5H27.332a0.646,0.646,0,0,0-.655.546L26.169,8.994a10.347,10.347,0,0,0-2.259,1.275l-3.328-1.3a0.661,0.661,0,0,0-.816.286l-2.673,4.5a0.63,0.63,0,0,0,.16.832l2.82,2.145a10.052,10.052,0,0,0-.094,1.275,10.049,10.049,0,0,0,.094,1.274l-2.82,2.146a0.644,0.644,0,0,0-.16.832l2.673,4.5a0.681,0.681,0,0,0,.816.286l3.328-1.3a9.835,9.835,0,0,0,2.259,1.274l0.508,3.446a0.647,0.647,0,0,0,.655.546h5.347a0.646,0.646,0,0,0,.655-0.546l0.508-3.446A10.337,10.337,0,0,0,36.1,25.743l3.328,1.3a0.661,0.661,0,0,0,.815-0.286l2.674-4.5a0.644,0.644,0,0,0-.16-0.832Zm-9.932,3.277a4.553,4.553,0,1,1,4.678-4.551A4.621,4.621,0,0,1,30.006,22.558Z"></path>
</svg></div>
					<p>Email Settings</p>
				</div>
			</a>
					<a href="/public/en/member/templates">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M49.224,52.979H10.813a4.783,4.783,0,0,1-4.8-4.736V24.566a4.7,4.7,0,0,1,2.281-4.025l3.082-1.78,3.4,2.779-4.582,2.648,19.83,12.218,19.83-12.218-4.6-2.66,3.4-2.779,3.1,1.793A4.68,4.68,0,0,1,54,24.566l0.024,23.678A4.783,4.783,0,0,1,49.224,52.979ZM30.018,32.4L16,24V7H44V23.748L30.018,32V32.4ZM20,11h4v4H20V11Zm6,0h8v4H26V11Zm-6,7h4v4H20V18Zm6,0H40v4H26V18Z"></path>
</svg></div>
					<p>Email Templates</p>
				</div>
			</a>
					<a href="/public/en/member/groups">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M54,36V52H45V36H42V24a3.807,3.807,0,0,1,4-4h7a3.807,3.807,0,0,1,4,4V36H54ZM49.5,18A4.5,4.5,0,1,1,54,13.5,4.487,4.487,0,0,1,49.5,18ZM33,52H27V39H20l6.37-16.081A4.224,4.224,0,0,1,30.379,20h0.253a4.244,4.244,0,0,1,4.009,2.922L40,39H33V52ZM30.49,18a4.5,4.5,0,1,1,4.5-4.5A4.487,4.487,0,0,1,30.49,18ZM15,52H6V36H3V24a3.807,3.807,0,0,1,4-4h7a3.807,3.807,0,0,1,4,4V36H15V52ZM10.5,18A4.5,4.5,0,1,1,15,13.5,4.487,4.487,0,0,1,10.5,18Z"></path>
</svg></div>
					<p>Groups</p>
				</div>
			</a>
					<a href="/public/en/member/reports/achievements">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M6,53h9V26H6V53ZM53.985,28.255A3.936,3.936,0,0,0,50,24H36l1.932-10.515L38,12.766a3.437,3.437,0,0,0-.96-2.383l-2.312-2.36L20.375,22.837A4.526,4.526,0,0,0,19,26V49c0,2.473,2.051,3.983,4.45,3.983L43,53a4.458,4.458,0,0,0,4.093-2.759L53.68,34.392a4.559,4.559,0,0,0,.305-1.641V28.457l-0.022-.022Z"></path>
</svg></div>
					<p>Kudos</p>
				</div>
			</a>
					<a href="/public/en/member/privileges">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M44.985,21H43V16A13.239,13.239,0,0,0,30,3,13.24,13.24,0,0,0,17,16v5H14.989a5.087,5.087,0,0,0-5,5.143V51.857a5.087,5.087,0,0,0,5,5.143h30a5.087,5.087,0,0,0,5-5.143V26.143A5.087,5.087,0,0,0,44.985,21Zm-15,22.987a4.987,4.987,0,1,1,5-4.987A5.008,5.008,0,0,1,29.987,43.987ZM38,21H22V16a8,8,0,1,1,16,0v5Z"></path>
</svg></div>
					<p>Privileges</p>
				</div>
			</a>
					<a href="/public/en/member/saved-replies">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M49.206,6.014H10.789a4.794,4.794,0,0,0-4.778,4.8L5.987,54,15,45H49c2.641,0,5.008-1.753,5.008-4.393V10.813A4.815,4.815,0,0,0,49.206,6.014ZM45,36H15V31H45v5Zm0-8H15V23H45v5Zm0-8H15V15H45v5Z"></path>
</svg></div>
					<p>Saved Replies</p>
				</div>
			</a>
					<a href="/public/en/member/support-tags">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M42.935,14.247A4.683,4.683,0,0,0,39,12H11a5.182,5.182,0,0,0-5.015,5.313V43.74A5.164,5.164,0,0,0,11.036,49l27.782,0.026a4.972,4.972,0,0,0,4.117-2.22L53.972,30.526Z"></path>
</svg></div>
					<p>Tags</p>
				</div>
			</a>
					<a href="/public/en/member/teams">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M45,36V52H36V36H33V24a3.807,3.807,0,0,1,4-4h7a3.807,3.807,0,0,1,4,4V36H45ZM40.5,18A4.5,4.5,0,1,1,45,13.5,4.487,4.487,0,0,1,40.5,18ZM24,52H15V36H12V24a3.807,3.807,0,0,1,4-4h7a3.807,3.807,0,0,1,4,4V36H24V52ZM19.5,18A4.5,4.5,0,1,1,24,13.5,4.487,4.487,0,0,1,19.5,18Z"></path>
</svg></div>
					<p>Teams</p>
				</div>
			</a>
					<a href="/public/en/member/ticket-types">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M6,44v5H22V44H6ZM6,11v5H33V11H6ZM33,54V49H54V44H33V39H28V54h5ZM17,23v5H6v5H17v5h5V23H17ZM54,33V28H28v5H54ZM39,21h5V16H54V11H44V6H39V21Z"></path>
</svg></div>
					<p>Ticket Types</p>
				</div>
			</a>
					<a href="/public/en/member/tickets">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" class="uv-margin-icon-srch">
    <path fill-rule="evenodd" fill="rgb(158, 158, 158)" d="M19.000,4.000 L17.000,4.000 L16.995,12.998 L4.000,13.000 L4.000,15.000 C4.000,15.550 4.450,16.000 5.000,16.000 L16.000,16.000 L20.000,20.000 L20.000,5.000 C20.000,4.450 19.550,4.000 19.000,4.000 ZM15.000,10.000 L15.000,1.000 C15.000,0.450 14.550,0.000 14.000,0.000 L1.000,0.000 C0.450,0.000 -0.000,0.450 -0.000,1.000 L-0.000,15.000 L4.000,11.000 L14.000,11.000 C14.550,11.000 15.000,10.550 15.000,10.000 Z"></path>
</svg></div>
					<p>Tickets</p>
				</div>
			</a>
					<a href="/public/en/member/prepared-responses">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M25.783,21.527L10.245,6.019,6.016,10.248,21.524,25.756ZM37.512,6.019l6.119,6.119L6.016,49.783l4.229,4.229L47.89,16.4l6.119,6.119V6.019h-16.5ZM38.5,34.245l-4.229,4.229,9.389,9.389-6.149,6.149h16.5v-16.5L47.89,43.634Z"></path>
</svg></div>
					<p>Prepared Responses</p>
				</div>
			</a>
					<a href="/public/en/member/workflows">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M25.783,21.527L10.245,6.019,6.016,10.248,21.524,25.756ZM37.512,6.019l6.119,6.119L6.016,49.783l4.229,4.229L47.89,16.4l6.119,6.119V6.019h-16.5ZM38.5,34.245l-4.229,4.229,9.389,9.389-6.149,6.149h16.5v-16.5L47.89,43.634Z"></path>
</svg></div>
					<p>Workflows</p>
				</div>
			</a>
					<a href="/public/en/member/apps">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M17,26a4,4,0,1,1-4,4A4,4,0,0,1,17,26Zm13,0a4,4,0,1,1-4,4A4,4,0,0,1,30,26Zm13,0a4,4,0,1,1-4,4A4,4,0,0,1,43,26Z"></path>
</svg></div>
					<p>Apps</p>
				</div>
			</a>
					<a href="/public/en/member/settings/mailbox">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M30,33L6,18V12L30,27,54,12v6ZM5.9,5.992A5.589,5.589,0,0,0,1.745,7.817,5.882,5.882,0,0,0-.016,12.027v35.93a5.875,5.875,0,0,0,1.761,4.211A5.581,5.581,0,0,0,5.9,53.992H54.069a5.588,5.588,0,0,0,4.155-1.825A5.8,5.8,0,0,0,60,48V12a5.847,5.847,0,0,0-1.776-4.183,5.6,5.6,0,0,0-4.155-1.825H5.9Z"></path>
</svg></div>
					<p>Mailbox</p>
				</div>
			</a>
					<a href="/public/en/member/settings/swiftmailer">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M30,33L6,18V12L30,27,54,12v6ZM5.9,5.992A5.589,5.589,0,0,0,1.745,7.817,5.882,5.882,0,0,0-.016,12.027v35.93a5.875,5.875,0,0,0,1.761,4.211A5.581,5.581,0,0,0,5.9,53.992H54.069a5.588,5.588,0,0,0,4.155-1.825A5.8,5.8,0,0,0,60,48V12a5.847,5.847,0,0,0-1.776-4.183,5.6,5.6,0,0,0-4.155-1.825H5.9Z"></path>
</svg></div>
					<p>SwiftMailer</p>
				</div>
			</a>
					<a href="/public/en/member/announcement/list">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M42.935,14.247A4.683,4.683,0,0,0,39,12H11a5.182,5.182,0,0,0-5.015,5.313V43.74A5.164,5.164,0,0,0,11.036,49l27.782,0.026a4.972,4.972,0,0,0,4.117-2.22L53.972,30.526Z"></path>
</svg></div>
					<p>Marketing Announcement</p>
				</div>
			</a>
					<a href="/public/en/member/articles">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M34.743,5.977h-19a4.769,4.769,0,0,0-4.726,4.8L11,49.19a4.77,4.77,0,0,0,4.726,4.8h28.52a4.79,4.79,0,0,0,4.749-4.8V20.381ZM32,23V9L46,23H32Z"></path>
</svg></div>
					<p>Articles</p>
				</div>
			</a>
					<a href="/public/en/member/categories">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M6,18h6V12l-6,.014V18Zm10-6v6H54V12H16ZM6,28h6V22l-6,.014V28Zm10-6v6H54V22H16ZM6,38h6V32l-6,.014V38Zm10-6v6H54V32H16ZM6,48h6V42l-6,.014V48Zm10-6v6H54V42H16Z"></path>
</svg></div>
					<p>Categories</p>
				</div>
			</a>
					<a href="/public/en/member/customers">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M39.025,28a7,7,0,1,0-7.013-7A6.976,6.976,0,0,0,39.025,28ZM22.013,28A7,7,0,1,0,15,21,6.976,6.976,0,0,0,22.013,28Zm-0.751,4.29c-5.082,0-15.267,2.674-15.267,8V46H37V40C37,34.675,26.344,32.287,21.262,32.287Zm17.449,0c-0.633,0-1.352.046-2.116,0.114,2.53,1.92,4.4,4.216,4.4,7.6v6H53.978V40.287C53.978,34.961,43.793,32.287,38.711,32.287Z"></path>
</svg></div>
					<p>Customers</p>
				</div>
			</a>
					<a href="/public/en/member/knowledgebase/folders">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M25.216,11.023h-14.4a4.708,4.708,0,0,0-4.777,4.624L6.011,43.394a4.729,4.729,0,0,0,4.8,4.625H49.223a4.729,4.729,0,0,0,4.8-4.625L54,21a5.234,5.234,0,0,0-5-5H30Z"></path>
</svg></div>
					<p>Folders</p>
				</div>
			</a>
					<a href="/public/en/member/module/list">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M42.935,14.247A4.683,4.683,0,0,0,39,12H11a5.182,5.182,0,0,0-5.015,5.313V43.74A5.164,5.164,0,0,0,11.036,49l27.782,0.026a4.972,4.972,0,0,0,4.117-2.22L53.972,30.526Z"></path>
</svg></div>
					<p>Marketing Module</p>
				</div>
			</a>
					<a href="/public/en/member/block/spam">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M29.994,5.98A24.007,24.007,0,1,0,53.974,29.987,24,24,0,0,0,29.994,5.98ZM12,29.365A17.359,17.359,0,0,1,29.36,12a17.148,17.148,0,0,1,10.634,3.668L15.666,40A17.156,17.156,0,0,1,12,29.365ZM30.629,48a14.544,14.544,0,0,1-9.634-3.537L44.455,21a14.549,14.549,0,0,1,3.536,9.636A17.358,17.358,0,0,1,30.629,48Z"></path>
</svg></div>
					<p>Spam Settings</p>
				</div>
			</a>
					<a href="/public/en/member/settings/api">
				<div class="uv-search-result-row">
					<div class="uv-brick-icon"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="30px" height="30px" viewBox="0 0 60 60">
    <path fill-rule="evenodd" d="M6,44v5H22V44H6ZM6,11v5H33V11H6ZM33,54V49H54V44H33V39H28V54h5ZM17,23v5H6v5H17v5h5V23H17ZM54,33V28H28v5H54ZM39,21h5V16H54V11H44V6H39V21Z"></path>
</svg></div>
					<p>API</p>
				</div>
			</a>

		<div class="uv-search-result-row uv-no-results" style="display: none">
			<p>No result found</p>
		</div>
	</div>
</div>


    <div class="uv-actions">
        <!-- Google Translation -->
        <div id="google_translate_element"></div>
            <script type="text/javascript">
                function googleTranslateElementInit() {
                    new google.translate.TranslateElement({layout: google.translate.TranslateElement.InlineLayout.SIMPLE, autoDisplay: false}, 'google_translate_element');
                    $(document).click(function(e) {
                        if($('.goog-te-menu-frame.skiptranslate').is(':visible') ) {
                            $('.skiptranslate.goog-te-gadget').addClass('uv-no-pointer-events');
                        } else {
                            $('.skiptranslate.goog-te-gadget').removeClass('uv-no-pointer-events');
                        }
                    });
                    $($('.goog-te-menu-frame.skiptranslate').contents()[0], window).find('body').bind("focusout", function(e) {
                            $('.skiptranslate.goog-te-gadget').removeClass('uv-no-pointer-events');
                    });
                }
            </script>
            <script type="text/javascript" src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit" async="async"></script>
        <!-- Google Translation  -->

        <!-- Profile Navigations -->
        <span style="position: relative" class="">
            <div class="uv-profile uv-dropdown-other">
                                    <img class='uv-avatar' src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/>
                            </div>

            <div class="uv-dropdown-list uv-bottom-right uv-text-left">
                <div class="uv-dropdown-container">

                    <label>Signed in as </label>
                        <p class="user-name">dev </p>
                    <div role="none" class="dropdown-divider"></div>

                    <ul>
                        <li><a href="/public/en/member/profile" class='profiler'>Your Profile</a></li>
                    </ul>

                    <ul>
                                                    <li data-action="create" class="uv-open-popup" data-target="create-ticket-modal">Create Ticket</li>
                        						                            <li><a href="/public/en/member/create/agent">Create Agent</a></li>
                        						                            <li><a href="/public/en/member/create/customer">Create Customer</a></li>

                        <div role="none" class="dropdown-divider"></div>
                        <li><a class="uv-text-danger" href="/public/en/member/logout">Sign Out</a></li>
                    </ul>
                </div>
            </div>
        </span>
    </div>
</div>

<script type="text/template" id="notification_flags_temp">
    <% if (typeof undeliveredMessages != 'undefined') { %>
        <li>
            <span class="uv-notification-message">
                <%= undeliveredMessages %>
            </span>
        </li>
        <span class="timeago">Learn more about <a href="https://support.uvdesk.com/en/blog/uvdesk-ticket-delivery-status" target="_blank">ticket delivery status</a>.</span>
    <% } %>
</script>

<script type="text/javascript">
    $(function () {
        var FeatureSearch = Backbone.View.extend({
            el: $('.uv-search-wrapper'),
            events: {
                'keyup .uv-search-bar': 'searchFeature',
                'click .uv-search-bar': 'openFeatureSearch',
            },
            searchFeature: function(e) {
                var currentElement = Backbone.$(e.currentTarget);
                if(currentElement.val().trim() != '') {
                    var flag = 0;
                    $('.uv-search-wrapper').find('.uv-search-result-row').each(function() {
                        if(!$(this).hasClass('uv-no-results')) {
                            var text = $(this).text().trim().toLowerCase();
                            var isTextContained = text.search(currentElement.val().trim().toLowerCase());
                            if(isTextContained < 0) {
                                $(this).parent().hide();
                                $(this).parent().attr('tabIndex', -1);
                            } else {
                                $(this).parent().show();
                                $(this).parent().removeAttr('tabIndex');
                                flag = 1;
                            }
                        }
                    });
                    if(flag == 0)
                        $('.uv-search-wrapper').find(".uv-no-results").show();
                    else
                        $('.uv-search-wrapper').find(".uv-no-results").hide();

                    this.$el.find('.uv-search-result-wrapper').addClass('uv-search-result-active').addClass('uv-search-flap-up')
                } else {
                    this.$el.find('.uv-search-result-wrapper').removeClass('uv-search-result-active').removeClass('uv-search-flap-up')
                }
            },
            openFeatureSearch: function(e) {
                var currentElement = Backbone.$(e.currentTarget);
                if(currentElement.val().trim() != '') {
                    this.$el.find('.uv-search-result-wrapper').addClass('uv-search-result-active').addClass('uv-search-flap-up')
                }
            }
        });

        var SidePanelUV = Backbone.View.extend({
            el: $('.uv-paper'),
            events: {
                'click .uv-mob-aside span': 'toggleAsideBar'
            },
            initialize : function() {
                var ele = $('.uv-paper');
                if(ele.css('padding-left') == '60px'){
                    $('.uv-mob-aside').removeClass('uv-mob-aside-left');
                }else{
                    $('.uv-mob-aside').addClass('uv-mob-aside-left');
                }

                var asideView = '';
                if(asideView == 'true')
                    this.toggleAsideBar();
            },
            toggleAsideBar: function(){
                var asideView = true;
                var ele = $('.uv-inner-section .uv-aside');
                var eleSidePanel = $('.uv-inner-section .uv-view');
                var eleTicketView = $('.uv-inner-section .uv-view .uv-ticket-scroll-region');
                var mobAside = $('.uv-mob-aside');
                if(ele.css('display') == 'none'){
                    asideView = false;
                    ele.css('display', 'block');
                    eleSidePanel.removeClass('uv-aside-view');
                    eleTicketView.removeClass('uv-aside-view-tv');
                    mobAside.removeClass('uv-mob-aside-collapsed')
                }else{
                    ele.css('display', 'none');
                    eleSidePanel.addClass('uv-aside-view');
                    eleTicketView.addClass('uv-aside-view-tv');
                    mobAside.addClass('uv-mob-aside-collapsed')
                }
                if(asideView) {
                    document.cookie = ("uv-asideView=1; expires=Wed, 01 Jan 2020 00:00:00 GMT;path=/");
                } else {
                    document.cookie = ("uv-asideView=0; expires=Wed, 01 Jan 2020 00:00:00 GMT;path=/");
                }
            }
        });

        var featureSearch =  new FeatureSearch();
        var sidePanelUV =  new SidePanelUV();
    });
</script>

    <style>
    .mce-path {
      		display: none !important;
	}
</style>


<div class="uv-pop-up-overlay uv-no-error-success-icon" id="create-ticket-modal">
    <div class="uv-pop-up-box uv-pop-up-wide">
        <span class="uv-pop-up-close"></span>
        <h2>Create Ticket</h2>
        <form action="/public/en/member/ticket/save" method="post" id="create-ticket-form" enctype="multipart/form-data">
                                                        <span class="uv-field-info">Ticket will be created with current ticket&#039;s customer</span>

                        <div class="uv-element-block">
                <label class="uv-field-label">Type</label>
                <div class="uv-field-block">
                    <select name="type" class="uv-select create-ticket" id="type">
                        <option value="">Select type</option>
                                                            <option value="1" >support
                                </option>
                                                </select>
                </div>
                <span class="uv-field-info">Choose ticket type</span>
            </div>

                        <div class="uv-element-block">
                <label class="uv-field-label">Subject</label>
                <div class="uv-field-block">
                    <input name="subject" class="uv-field create-ticket" type="text" value="">
                </div>

                <span class="uv-field-info">Ticket subject</span>
            </div>

                        <div class="uv-element-block">
                <label class="uv-field-label">Message</label>
                <div class="uv-field-block">
                    <textarea name="reply" id="create-reply" class="uv-field create-ticket" type="text"></textarea>
                </div>

                <span class="uv-field-info">Ticket content</span>
            </div>

                        <div class="uv-element-block attachment-block uv-no-error-success-icon" id="uv-attachment-option">
                <label>
                    <span class="uv-file-label">Add Attachment</span>
                </label>
            </div>


            <div class="uv-element-block">
                <button type="submit" id="create-ticket-btn" class="uv-btn">Create Ticket</button>
            </div>
        </form>
    </div>
</div>


<script src="/public/bundles/uvdeskcoreframework/js/tinymce/tinymce.min.js"></script>
<script src="/public/bundles/uvdeskcoreframework/js/tinymce/themes/modern/theme.min.js"></script>
<script scr="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script type="text/javascript">

    var sfTinyMce = {
        tinymce : tinymce,
        options : {
            browser_spellcheck : true,
            selector: '.uv-view textarea',
            branding: false,
            relative_urls : false,
            remove_script_host : false,
            convert_urls: true,
            image_title: true,
            autoresize_max_height: 350,
            theme: 'modern',
            menubar: false,
            height: 150,
            toolbar: '| undo redo | bold italic forecolor | bullist numlist | link image',
            spellchecker_languages: 'English=en',
            plugins: [
                'spellchecker  autolink lists link charmap print preview hr anchor pagebreak',
                'searchreplace wordcount visualblocks visualchars code fullscreen',
                'media nonbreaking table directionality',
                'emoticons template paste textcolor colorpicker textpattern codesample toc',
                'autoresize image imagetools',
                'mention',
            ],
            invalid_elements : 'script,style,input,textarea,form,onmouseover,onmouseout,onclick',
            // paste_as_text: true,
            paste_data_images: true,
            image_advtab: true,
            mentions : {
                source: function(){
                    return [];
                },
            },
        },
        init : function (options){
            if (typeof(options.setup) === 'function') {
                let optionsSetup = options.setup;
                this.options.setup = function(editor){
                    sfTinyMce.initImageUpload(editor);
                    optionsSetup(editor);
                }
                delete options.setup;
            } else {
                this.options.setup = function(editor){
                    sfTinyMce.initImageUpload(editor);
                }

                delete options.setup;
            }

            this.options = $.extend({}, this.options, options)
            window.tinymce.dom.Event.domLoaded = true;
            tinymce.init(this.options);
        },
        html : function(selector, html){
            tinymce.get(selector).setContent(html);
        },
        initImageUpload : function(editor) {
            // create input and insert in the DOM
            var inp = $('<input id="tinymce-uploader" type="file" name="pic" accept="image/*" style="display:none">');
            $(editor.getElement()).parent().append(inp);

            // add the image upload button to the editor toolbar
            editor.addButton('imageupload', {
                text: '',
                icon: 'image',
                onclick: function(e) { // when toolbar button is clicked, open file select modal
                    inp.trigger('click');
                }
            });

            // when a file is selected, upload it to the server
            inp.on("change", function(e){
                sfTinyMce.uploadFile($(this), editor);
            });
        },
        uploadFile : function(input, editor) {
            sendFile(input.get(0).files).done(function(json){
                    //remove loading image
                    if (json['error'] != '') {
                        var response = {
                            'alertClass' : 'danger',
                            'alertMessage' : json['error'],
                        };
                        app.appView.hideLoader();
                        app.appView.renderResponseAlert(response);
                    } else if (json['fileNames']) {
                        $.each(json['fileNames'], function(key, path){
                            editor.insertContent('<img class="content-img" src="' + path + '"/>');
                        });
                    }
                    if (json.location != undefined)
                        window.location = json.location;
                })
                .fail(function(xhr) {
                    if (url = xhr.getResponseHeader('Location'))
                        window.location = url;

                    app.appView.hideLoader();
                    app.appView.renderResponseAlert(warningResponse);
                })
            ;
        },
    }

    function sendFile(files) {
        var data = new FormData();
        var nonEmptyFlag;
        $.each(files, function(key, file){
            var patt = new RegExp("(image/)(?!tif)");
            if (file.type && patt.test(file.type)) {
                data.append("attachments[]", file);
                nonEmptyFlag = true;
            }
        });
            }

    function sendUrls(url) {
            }

    function removeFile(file) {
            }
    addTranslateButton = function(editor) {
            }
</script>

<script type="text/javascript">
    $(function () {
        if (typeof(customFieldValidation) == 'undefined') {
            customFieldValidation = {};
        }
                    $.each([], function(key, value){
                $('label[for="' + value + '"]').parent().hide();
            });

        $('.uv-header-date').datetimepicker({
            format: 'YYYY-MM-DD',
        });
        $('.uv-header-time').datetimepicker({
            format: 'LT',
        });
        $('.uv-header-datetime').datetimepicker({
            format: 'YYYY-MM-DD H:m:s'
        });

        var CreateTicketModel = Backbone.Model.extend({
            idAttribute : "id",
            defaults : {
                path : "",
            },
            validation: _.extend(customFieldValidation, {
                                'type' : {
                    required : true,
                    msg : "This field is mandatory"
                },
                'subject' : {
                    required : true,
                    msg : "This field is mandatory"
                },
                'reply' : {
                    fn: function(value) {
                            if(!tinyMCE.get("uv-edit-create-thread"))
                                return false;
                            var html = tinyMCE.get("uv-edit-create-thread").getContent();
                            if(app.appView.stripHTML(html) != '') {
                                return false;
                            }
                            return true;
                        },
                    msg : "This field is mandatory"
                },
            }),
            urlRoot : "/public/en/member/ticket/save"
        });

        sfTinyMce.init({
            height: '155px',
			selector : '#create-reply',
			images_upload_url: "",
            setup: function(editor) {
            },
			plugins: [
            ],
			toolbar: '| undo redo | bold italic forecolor ',
		});

        var CreateTicketForm = Backbone.View.extend({
            el : $("#create-ticket-modal #create-ticket-form"),
            model: new CreateTicketModel(),
            initialize : function() {
                Backbone.Validation.bind(this);
                var jsonContext = JSON.parse('{}');
                for (var field in jsonContext) {
                    Backbone.Validation.callbacks.invalid(this, field, jsonContext[field], 'input');
                }
            },
            events : {
                'click #create-ticket-btn': "saveTicket",
                'change #type': "updateCustomFields",
                'blur input.create-ticket:not(input[type=file]), textarea.create-ticket, select.create-ticket, checkbox.create-ticket': 'formChanged',
                'change input[type=file].create-ticket': 'formChanged',
            },
            formChanged: function(e) {
                this.model.set(Backbone.$(e.currentTarget).attr('name'), Backbone.$(e.currentTarget).val())
                this.model.isValid([Backbone.$(e.currentTarget).attr('name')])
            },
            saveTicket: function (e) {
                e.preventDefault();
                var currentElement = Backbone.$(e.currentTarget);
                var data = currentElement.closest('form').serializeObject();
                this.model = new CreateTicketModel();
                this.model.set(data);
                Backbone.Validation.bind(this);

                if (this.model.isValid(true)) {
                    $('#create-ticket-form').submit();
                    $('form').find('#create-ticket-btn').attr('disabled', 'disabled');
                }
            },
            updateCustomFields: function (e) {
                const dependentFields = e.currentTarget.value;
                this.$('.dependent').hide();
                this.$('.dependency' + dependentFields).show();
            }
        });

        new CreateTicketForm();
    });
</script>

                <div class="uv-wrapper">
                    <div class="uv-container">

    <div class="uv-inner-section">
                <div class="uv-aside"  >
            <div class="uv-main-info-block">
                <div class="uv-aside-head">
                    <div class="uv-aside-title">
                        <h6>Ticket #2</h6>
                    </div>
                    <div class="uv-aside-back">
                        <span onclick="history.length > 1 ? history.go(-1) : window.location = '/public/en/member/tickets';">Back</span>
                    </div>
                </div>

                                <div class="uv-aside-brick">
                                        <div class="uv-aside-customer-block">
                        <h3>Customer Information</h3>
                        <div class="uv-aside-avatar">
                                                            <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-ironman.png">
                                                    </div>

                        <div class="uv-aside-customer-info">
                            <span>test user 1</span>
                            <span>test@user.com</span>

                                                            <span class="uv-customize" data-toggle="tooltip" title="Edit Customer Information"></span>
                                                    </div>
                    </div>

                                        <div class="uv-aside-ticket-block">
                        <div class="uv-aside-ticket-brick">
                            <h3>Total Replies</h3>
                            <span class="uv-icon-replies"></span> <span>0</span>
                        </div>

                        <div class="uv-aside-ticket-brick">
                            <h3>TimeStamp</h3>
                            <span class="uv-icon-timestamp"></span> <span>29-08-2025 01:27am</span>
                        </div>

                        <div class="uv-aside-ticket-brick">
                            <h3>Channel</h3>
                                                            <span class="uv-icon-channel uv-channel-web"></span> <span>Website</span>
                                                    </div>

                                            </div>
                </div>
            </div>

                                        <div class="uv-main-info-update-block uv-no-error-success-icon" style="display: none">
                    <div class="uv-aside-head">
                        <div class="uv-aside-title"><h6>Edit Customer</h6></div>
                        <div class="uv-aside-back"><span>Back</span></div>
                    </div>

                    <div class="uv-aside-brick">
                        <form method="post">
                            <input class="uv-field" name="id" type="hidden" value="2">

                            <div class="uv-element-block">
                                <label class="uv-field-label">Name</label>
                                <div class="uv-field-block">
                                    <input class="uv-field" name="name" type="text" value="test user 1">
                                </div>
                            </div>

                            <div class="uv-element-block">
                                <label class="uv-field-label">Email</label>
                                <div class="uv-field-block">
                                    <input class="uv-field" name="email" type="text" value="test@user.com">
                                </div>
                            </div>

                            <div class="uv-element-block">
                                <label class="uv-field-label">Contact Number</label>
                                <div class="uv-field-block">
                                    <input class="uv-field" name="contactNumber" type="text" value="">
                                </div>
                            </div>

                            <div class="uv-action-buttons">
                                <a class="uv-btn update-btn" href="#">Update</a>
                                <a class="uv-btn cancel-btn" href="#">Cancel</a>
                            </div>

                            <input type="hidden" name="_token" value="5295.g4xQeq_faR6XQeCKp2JRCUKDmjvZQebpMNgbSc-PiOQ.4vgiV8O9OmTIDtj-1RAQYSbU3F6gFJGod5BXcL28z7PCxhI3-uoHfPgAuQ"/>
                        </form>
                    </div>
                </div>

                        <div class="uv-aside-brick">
                <div class="uv-aside-ticket-actions">
                                        <div class="uv-aside-select search">
                        <label class="uv-aside-select-label">Agent</label>
                        <div>
                                                                                        <span class="uv-aside-select-value uv-dropdown-other uv-aside-drop-icon" data-id="">Not Assigned</span>
                                <div class="uv-dropdown-list uv-bottom-left">
                                    <div class="uv-dropdown-container">
                                        <label>Agent</label>
                                        <div class="uv-search-sm">
                                            <input type="text" class="uv-search-field uv-search-inline" placeholder="Search">
                                        </div>
                                    </div>

                                    <ul class="uv-agents-list agent" data-action="agent">
                                                                                    <li data-index="1">
                                                <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/> dev
                                            </li>
                                                                                    <li data-index="3">
                                                <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/> test agent
                                            </li>
                                                                            </ul>
                                </div>
                                                    </div>
                    </div>

                                        <div class="uv-aside-select">
                        <label class="uv-aside-select-label">Priority</label>
                        <div>
                            <span class="uv-list-ticket-priority" style="background: #2DD051"></span>
                                                            <span class="uv-aside-select-value uv-dropdown-other uv-aside-drop-icon" data-id="1">Low</span>
                                <div class="uv-dropdown-list uv-bottom-left">
                                    <div class="uv-dropdown-container">
                                        <label>Priority</label>
                                        <ul class="priority" data-action="priority">
                                                                                            <li data-index="1" data-color="#2DD051"><a href="#">Low</a></li>
                                                                                            <li data-index="2" data-color="#F5D02A"><a href="#">Medium</a></li>
                                                                                            <li data-index="3" data-color="#FA8B3C"><a href="#">High</a></li>
                                                                                            <li data-index="4" data-color="#FF6565"><a href="#">Urgent</a></li>
                                                                                    </ul>
                                    </div>
                                </div>
                                                    </div>
                    </div>

                                        <div class="uv-aside-select">
                        <label class="uv-aside-select-label">Status</label>
                        <div>
                                                            <span class="uv-aside-select-value uv-dropdown-other uv-aside-drop-icon" data-id="1">Open</span>
                                <div class="uv-dropdown-list uv-bottom-left">
                                    <div class="uv-dropdown-container">
                                        <label>Status</label>
                                        <ul class="status" data-action="status">
                                                                                            <li data-index="1"><a href="#">Open</a></li>
                                                                                            <li data-index="2"><a href="#">Pending</a></li>
                                                                                            <li data-index="3"><a href="#">Answered</a></li>
                                                                                            <li data-index="4"><a href="#">Resolved</a></li>
                                                                                            <li data-index="5"><a href="#">Closed</a></li>
                                                                                            <li data-index="6"><a href="#">Spam</a></li>
                                                                                    </ul>
                                    </div>
                                </div>
                                                    </div>
                    </div>

                                        <div class="uv-aside-select search">
                        <label class="uv-aside-select-label">Type</label>
                        <div>
                                                            <span class="uv-aside-select-value uv-dropdown-other uv-aside-drop-icon" data-id="1">support</span>
                                <div class="uv-dropdown-list uv-bottom-left">
                                    <div class="uv-dropdown-container">
                                        <label>Type</label>
                                        <div class="uv-search-sm">
                                            <input type="text" class="uv-search-field uv-search-inline" placeholder="Search">
                                        </div>
                                    </div>

                                    <ul class="uv-search-list type" data-action="type">
                                                                                    <li data-index="1"><a href="#">support</a></li>
                                                                            </ul>
                                </div>
                                                    </div>
                    </div>

                                        <div class="uv-aside-select search">
                        <label class="uv-aside-select-label">Group</label>
                        <div>
                                                            <span class="uv-aside-select-value uv-dropdown-other uv-aside-drop-icon" data-id="-- --">
                                    Not Assigned
                                </span>
                                <div class="uv-dropdown-list uv-bottom-left">
                                    <div class="uv-dropdown-container">
                                        <label>Group</label>
                                        <div class="uv-search-sm">
                                            <input type="text" class="uv-search-field uv-search-inline" placeholder="Search">
                                        </div>
                                    </div>
                                    <ul class="uv-search-list group" data-action="group">
                                        <li data-index=""><a href="#">Not Assigned</a></li>

                                                                                    <li data-index="1"><a href="#">Default</a></li>
                                                                                    <li data-index="2"><a href="#">Group 1</a></li>
                                                                            </ul>
                                </div>
                                                    </div>
                    </div>

                                        <div class="uv-aside-select search">
                        <label class="uv-aside-select-label">Team</label>
                        <div>
                                                            <span class="uv-aside-select-value uv-dropdown-other uv-aside-drop-icon" data-id="-- --">
                                    Not Assigned
                                </span>
                                <div class="uv-dropdown-list uv-bottom-left">
                                    <div class="uv-dropdown-container">
                                        <label>Team</label>
                                        <div class="uv-search-sm">
                                            <input type="text" class="uv-search-field uv-search-inline" placeholder="Search">
                                        </div>
                                    </div>
                                    <ul class="uv-search-list team" data-action="team">
                                        <li data-index=""><a href="#">Not Assigned</a></li>
                                                                                    <li data-index="1"><a href="#">Team 1</a></li>
                                                                            </ul>
                                </div>
                                                    </div>
                    </div>

                                        <div class="uv-aside-select search">
                        <label class="uv-aside-select-label">Country</label>

                        <div class="auto_focus">
                                                            <span class="uv-aside-select-value uv-dropdown-other uv-aside-drop-icon" data-id="-- --">

                                                                            Not Assigned
                                                                    </span>

                                <div class="uv-dropdown-list uv-bottom-left">
                                    <div class="uv-dropdown-container">
                                        <label>Country</label>

                                        <div class="uv-search-sm">
                                            <input type="text" class="uv-search-field uv-search-inline">
                                        </div>
                                    </div>

                                    <ul class="uv-search-list country" data-action="country">
                                        <li data-index=""><a href="#">Not Assigned</a></li>

                                                                                    <li data-index="AF"><a href="#">Afghanistan</a></li>
                                                                                    <li data-index="AX"><a href="#">Åland Islands</a></li>
                                                                                    <li data-index="AL"><a href="#">Albania</a></li>
                                                                                    <li data-index="DZ"><a href="#">Algeria</a></li>
                                                                                    <li data-index="AS"><a href="#">American Samoa</a></li>
                                                                                    <li data-index="AD"><a href="#">Andorra</a></li>
                                                                                    <li data-index="AO"><a href="#">Angola</a></li>
                                                                                    <li data-index="AI"><a href="#">Anguilla</a></li>
                                                                                    <li data-index="AQ"><a href="#">Antarctica</a></li>
                                                                                    <li data-index="AG"><a href="#">Antigua &amp; Barbuda</a></li>
                                                                                    <li data-index="AR"><a href="#">Argentina</a></li>
                                                                                    <li data-index="AM"><a href="#">Armenia</a></li>
                                                                                    <li data-index="AW"><a href="#">Aruba</a></li>
                                                                                    <li data-index="AU"><a href="#">Australia</a></li>
                                                                                    <li data-index="AT"><a href="#">Austria</a></li>
                                                                                    <li data-index="AZ"><a href="#">Azerbaijan</a></li>
                                                                                    <li data-index="BS"><a href="#">Bahamas</a></li>
                                                                                    <li data-index="BH"><a href="#">Bahrain</a></li>
                                                                                    <li data-index="BD"><a href="#">Bangladesh</a></li>
                                                                                    <li data-index="BB"><a href="#">Barbados</a></li>
                                                                                    <li data-index="BY"><a href="#">Belarus</a></li>
                                                                                    <li data-index="BE"><a href="#">Belgium</a></li>
                                                                                    <li data-index="BZ"><a href="#">Belize</a></li>
                                                                                    <li data-index="BJ"><a href="#">Benin</a></li>
                                                                                    <li data-index="BM"><a href="#">Bermuda</a></li>
                                                                                    <li data-index="BT"><a href="#">Bhutan</a></li>
                                                                                    <li data-index="BO"><a href="#">Bolivia</a></li>
                                                                                    <li data-index="BA"><a href="#">Bosnia &amp; Herzegovina</a></li>
                                                                                    <li data-index="BW"><a href="#">Botswana</a></li>
                                                                                    <li data-index="BV"><a href="#">Bouvet Island</a></li>
                                                                                    <li data-index="BR"><a href="#">Brazil</a></li>
                                                                                    <li data-index="IO"><a href="#">British Indian Ocean Territory</a></li>
                                                                                    <li data-index="VG"><a href="#">British Virgin Islands</a></li>
                                                                                    <li data-index="BN"><a href="#">Brunei</a></li>
                                                                                    <li data-index="BG"><a href="#">Bulgaria</a></li>
                                                                                    <li data-index="BF"><a href="#">Burkina Faso</a></li>
                                                                                    <li data-index="BI"><a href="#">Burundi</a></li>
                                                                                    <li data-index="KH"><a href="#">Cambodia</a></li>
                                                                                    <li data-index="CM"><a href="#">Cameroon</a></li>
                                                                                    <li data-index="CA"><a href="#">Canada</a></li>
                                                                                    <li data-index="CV"><a href="#">Cape Verde</a></li>
                                                                                    <li data-index="BQ"><a href="#">Caribbean Netherlands</a></li>
                                                                                    <li data-index="KY"><a href="#">Cayman Islands</a></li>
                                                                                    <li data-index="CF"><a href="#">Central African Republic</a></li>
                                                                                    <li data-index="TD"><a href="#">Chad</a></li>
                                                                                    <li data-index="CL"><a href="#">Chile</a></li>
                                                                                    <li data-index="CN"><a href="#">China</a></li>
                                                                                    <li data-index="CX"><a href="#">Christmas Island</a></li>
                                                                                    <li data-index="CC"><a href="#">Cocos (Keeling) Islands</a></li>
                                                                                    <li data-index="CO"><a href="#">Colombia</a></li>
                                                                                    <li data-index="KM"><a href="#">Comoros</a></li>
                                                                                    <li data-index="CG"><a href="#">Congo - Brazzaville</a></li>
                                                                                    <li data-index="CD"><a href="#">Congo - Kinshasa</a></li>
                                                                                    <li data-index="CK"><a href="#">Cook Islands</a></li>
                                                                                    <li data-index="CR"><a href="#">Costa Rica</a></li>
                                                                                    <li data-index="CI"><a href="#">Côte d’Ivoire</a></li>
                                                                                    <li data-index="HR"><a href="#">Croatia</a></li>
                                                                                    <li data-index="CU"><a href="#">Cuba</a></li>
                                                                                    <li data-index="CW"><a href="#">Curaçao</a></li>
                                                                                    <li data-index="CY"><a href="#">Cyprus</a></li>
                                                                                    <li data-index="CZ"><a href="#">Czechia</a></li>
                                                                                    <li data-index="DK"><a href="#">Denmark</a></li>
                                                                                    <li data-index="DJ"><a href="#">Djibouti</a></li>
                                                                                    <li data-index="DM"><a href="#">Dominica</a></li>
                                                                                    <li data-index="DO"><a href="#">Dominican Republic</a></li>
                                                                                    <li data-index="EC"><a href="#">Ecuador</a></li>
                                                                                    <li data-index="EG"><a href="#">Egypt</a></li>
                                                                                    <li data-index="SV"><a href="#">El Salvador</a></li>
                                                                                    <li data-index="GQ"><a href="#">Equatorial Guinea</a></li>
                                                                                    <li data-index="ER"><a href="#">Eritrea</a></li>
                                                                                    <li data-index="EE"><a href="#">Estonia</a></li>
                                                                                    <li data-index="SZ"><a href="#">Eswatini</a></li>
                                                                                    <li data-index="ET"><a href="#">Ethiopia</a></li>
                                                                                    <li data-index="FK"><a href="#">Falkland Islands</a></li>
                                                                                    <li data-index="FO"><a href="#">Faroe Islands</a></li>
                                                                                    <li data-index="FJ"><a href="#">Fiji</a></li>
                                                                                    <li data-index="FI"><a href="#">Finland</a></li>
                                                                                    <li data-index="FR"><a href="#">France</a></li>
                                                                                    <li data-index="GF"><a href="#">French Guiana</a></li>
                                                                                    <li data-index="PF"><a href="#">French Polynesia</a></li>
                                                                                    <li data-index="TF"><a href="#">French Southern Territories</a></li>
                                                                                    <li data-index="GA"><a href="#">Gabon</a></li>
                                                                                    <li data-index="GM"><a href="#">Gambia</a></li>
                                                                                    <li data-index="GE"><a href="#">Georgia</a></li>
                                                                                    <li data-index="DE"><a href="#">Germany</a></li>
                                                                                    <li data-index="GH"><a href="#">Ghana</a></li>
                                                                                    <li data-index="GI"><a href="#">Gibraltar</a></li>
                                                                                    <li data-index="GR"><a href="#">Greece</a></li>
                                                                                    <li data-index="GL"><a href="#">Greenland</a></li>
                                                                                    <li data-index="GD"><a href="#">Grenada</a></li>
                                                                                    <li data-index="GP"><a href="#">Guadeloupe</a></li>
                                                                                    <li data-index="GU"><a href="#">Guam</a></li>
                                                                                    <li data-index="GT"><a href="#">Guatemala</a></li>
                                                                                    <li data-index="GG"><a href="#">Guernsey</a></li>
                                                                                    <li data-index="GN"><a href="#">Guinea</a></li>
                                                                                    <li data-index="GW"><a href="#">Guinea-Bissau</a></li>
                                                                                    <li data-index="GY"><a href="#">Guyana</a></li>
                                                                                    <li data-index="HT"><a href="#">Haiti</a></li>
                                                                                    <li data-index="HM"><a href="#">Heard &amp; McDonald Islands</a></li>
                                                                                    <li data-index="HN"><a href="#">Honduras</a></li>
                                                                                    <li data-index="HK"><a href="#">Hong Kong SAR China</a></li>
                                                                                    <li data-index="HU"><a href="#">Hungary</a></li>
                                                                                    <li data-index="IS"><a href="#">Iceland</a></li>
                                                                                    <li data-index="IN"><a href="#">India</a></li>
                                                                                    <li data-index="ID"><a href="#">Indonesia</a></li>
                                                                                    <li data-index="IR"><a href="#">Iran</a></li>
                                                                                    <li data-index="IQ"><a href="#">Iraq</a></li>
                                                                                    <li data-index="IE"><a href="#">Ireland</a></li>
                                                                                    <li data-index="IM"><a href="#">Isle of Man</a></li>
                                                                                    <li data-index="IL"><a href="#">Israel</a></li>
                                                                                    <li data-index="IT"><a href="#">Italy</a></li>
                                                                                    <li data-index="JM"><a href="#">Jamaica</a></li>
                                                                                    <li data-index="JP"><a href="#">Japan</a></li>
                                                                                    <li data-index="JE"><a href="#">Jersey</a></li>
                                                                                    <li data-index="JO"><a href="#">Jordan</a></li>
                                                                                    <li data-index="KZ"><a href="#">Kazakhstan</a></li>
                                                                                    <li data-index="KE"><a href="#">Kenya</a></li>
                                                                                    <li data-index="KI"><a href="#">Kiribati</a></li>
                                                                                    <li data-index="KW"><a href="#">Kuwait</a></li>
                                                                                    <li data-index="KG"><a href="#">Kyrgyzstan</a></li>
                                                                                    <li data-index="LA"><a href="#">Laos</a></li>
                                                                                    <li data-index="LV"><a href="#">Latvia</a></li>
                                                                                    <li data-index="LB"><a href="#">Lebanon</a></li>
                                                                                    <li data-index="LS"><a href="#">Lesotho</a></li>
                                                                                    <li data-index="LR"><a href="#">Liberia</a></li>
                                                                                    <li data-index="LY"><a href="#">Libya</a></li>
                                                                                    <li data-index="LI"><a href="#">Liechtenstein</a></li>
                                                                                    <li data-index="LT"><a href="#">Lithuania</a></li>
                                                                                    <li data-index="LU"><a href="#">Luxembourg</a></li>
                                                                                    <li data-index="MO"><a href="#">Macao SAR China</a></li>
                                                                                    <li data-index="MG"><a href="#">Madagascar</a></li>
                                                                                    <li data-index="MW"><a href="#">Malawi</a></li>
                                                                                    <li data-index="MY"><a href="#">Malaysia</a></li>
                                                                                    <li data-index="MV"><a href="#">Maldives</a></li>
                                                                                    <li data-index="ML"><a href="#">Mali</a></li>
                                                                                    <li data-index="MT"><a href="#">Malta</a></li>
                                                                                    <li data-index="MH"><a href="#">Marshall Islands</a></li>
                                                                                    <li data-index="MQ"><a href="#">Martinique</a></li>
                                                                                    <li data-index="MR"><a href="#">Mauritania</a></li>
                                                                                    <li data-index="MU"><a href="#">Mauritius</a></li>
                                                                                    <li data-index="YT"><a href="#">Mayotte</a></li>
                                                                                    <li data-index="MX"><a href="#">Mexico</a></li>
                                                                                    <li data-index="FM"><a href="#">Micronesia</a></li>
                                                                                    <li data-index="MD"><a href="#">Moldova</a></li>
                                                                                    <li data-index="MC"><a href="#">Monaco</a></li>
                                                                                    <li data-index="MN"><a href="#">Mongolia</a></li>
                                                                                    <li data-index="ME"><a href="#">Montenegro</a></li>
                                                                                    <li data-index="MS"><a href="#">Montserrat</a></li>
                                                                                    <li data-index="MA"><a href="#">Morocco</a></li>
                                                                                    <li data-index="MZ"><a href="#">Mozambique</a></li>
                                                                                    <li data-index="MM"><a href="#">Myanmar (Burma)</a></li>
                                                                                    <li data-index="NA"><a href="#">Namibia</a></li>
                                                                                    <li data-index="NR"><a href="#">Nauru</a></li>
                                                                                    <li data-index="NP"><a href="#">Nepal</a></li>
                                                                                    <li data-index="NL"><a href="#">Netherlands</a></li>
                                                                                    <li data-index="NC"><a href="#">New Caledonia</a></li>
                                                                                    <li data-index="NZ"><a href="#">New Zealand</a></li>
                                                                                    <li data-index="NI"><a href="#">Nicaragua</a></li>
                                                                                    <li data-index="NE"><a href="#">Niger</a></li>
                                                                                    <li data-index="NG"><a href="#">Nigeria</a></li>
                                                                                    <li data-index="NU"><a href="#">Niue</a></li>
                                                                                    <li data-index="NF"><a href="#">Norfolk Island</a></li>
                                                                                    <li data-index="KP"><a href="#">North Korea</a></li>
                                                                                    <li data-index="MK"><a href="#">North Macedonia</a></li>
                                                                                    <li data-index="MP"><a href="#">Northern Mariana Islands</a></li>
                                                                                    <li data-index="NO"><a href="#">Norway</a></li>
                                                                                    <li data-index="OM"><a href="#">Oman</a></li>
                                                                                    <li data-index="PK"><a href="#">Pakistan</a></li>
                                                                                    <li data-index="PW"><a href="#">Palau</a></li>
                                                                                    <li data-index="PS"><a href="#">Palestinian Territories</a></li>
                                                                                    <li data-index="PA"><a href="#">Panama</a></li>
                                                                                    <li data-index="PG"><a href="#">Papua New Guinea</a></li>
                                                                                    <li data-index="PY"><a href="#">Paraguay</a></li>
                                                                                    <li data-index="PE"><a href="#">Peru</a></li>
                                                                                    <li data-index="PH"><a href="#">Philippines</a></li>
                                                                                    <li data-index="PN"><a href="#">Pitcairn Islands</a></li>
                                                                                    <li data-index="PL"><a href="#">Poland</a></li>
                                                                                    <li data-index="PT"><a href="#">Portugal</a></li>
                                                                                    <li data-index="PR"><a href="#">Puerto Rico</a></li>
                                                                                    <li data-index="QA"><a href="#">Qatar</a></li>
                                                                                    <li data-index="RE"><a href="#">Réunion</a></li>
                                                                                    <li data-index="RO"><a href="#">Romania</a></li>
                                                                                    <li data-index="RU"><a href="#">Russia</a></li>
                                                                                    <li data-index="RW"><a href="#">Rwanda</a></li>
                                                                                    <li data-index="WS"><a href="#">Samoa</a></li>
                                                                                    <li data-index="SM"><a href="#">San Marino</a></li>
                                                                                    <li data-index="ST"><a href="#">São Tomé &amp; Príncipe</a></li>
                                                                                    <li data-index="SA"><a href="#">Saudi Arabia</a></li>
                                                                                    <li data-index="SN"><a href="#">Senegal</a></li>
                                                                                    <li data-index="RS"><a href="#">Serbia</a></li>
                                                                                    <li data-index="SC"><a href="#">Seychelles</a></li>
                                                                                    <li data-index="SL"><a href="#">Sierra Leone</a></li>
                                                                                    <li data-index="SG"><a href="#">Singapore</a></li>
                                                                                    <li data-index="SX"><a href="#">Sint Maarten</a></li>
                                                                                    <li data-index="SK"><a href="#">Slovakia</a></li>
                                                                                    <li data-index="SI"><a href="#">Slovenia</a></li>
                                                                                    <li data-index="SB"><a href="#">Solomon Islands</a></li>
                                                                                    <li data-index="SO"><a href="#">Somalia</a></li>
                                                                                    <li data-index="ZA"><a href="#">South Africa</a></li>
                                                                                    <li data-index="GS"><a href="#">South Georgia &amp; South Sandwich Islands</a></li>
                                                                                    <li data-index="KR"><a href="#">South Korea</a></li>
                                                                                    <li data-index="SS"><a href="#">South Sudan</a></li>
                                                                                    <li data-index="ES"><a href="#">Spain</a></li>
                                                                                    <li data-index="LK"><a href="#">Sri Lanka</a></li>
                                                                                    <li data-index="BL"><a href="#">St. Barthélemy</a></li>
                                                                                    <li data-index="SH"><a href="#">St. Helena</a></li>
                                                                                    <li data-index="KN"><a href="#">St. Kitts &amp; Nevis</a></li>
                                                                                    <li data-index="LC"><a href="#">St. Lucia</a></li>
                                                                                    <li data-index="MF"><a href="#">St. Martin</a></li>
                                                                                    <li data-index="PM"><a href="#">St. Pierre &amp; Miquelon</a></li>
                                                                                    <li data-index="VC"><a href="#">St. Vincent &amp; Grenadines</a></li>
                                                                                    <li data-index="SD"><a href="#">Sudan</a></li>
                                                                                    <li data-index="SR"><a href="#">Suriname</a></li>
                                                                                    <li data-index="SJ"><a href="#">Svalbard &amp; Jan Mayen</a></li>
                                                                                    <li data-index="SE"><a href="#">Sweden</a></li>
                                                                                    <li data-index="CH"><a href="#">Switzerland</a></li>
                                                                                    <li data-index="SY"><a href="#">Syria</a></li>
                                                                                    <li data-index="TW"><a href="#">Taiwan</a></li>
                                                                                    <li data-index="TJ"><a href="#">Tajikistan</a></li>
                                                                                    <li data-index="TZ"><a href="#">Tanzania</a></li>
                                                                                    <li data-index="TH"><a href="#">Thailand</a></li>
                                                                                    <li data-index="TL"><a href="#">Timor-Leste</a></li>
                                                                                    <li data-index="TG"><a href="#">Togo</a></li>
                                                                                    <li data-index="TK"><a href="#">Tokelau</a></li>
                                                                                    <li data-index="TO"><a href="#">Tonga</a></li>
                                                                                    <li data-index="TT"><a href="#">Trinidad &amp; Tobago</a></li>
                                                                                    <li data-index="TN"><a href="#">Tunisia</a></li>
                                                                                    <li data-index="TR"><a href="#">Türkiye</a></li>
                                                                                    <li data-index="TM"><a href="#">Turkmenistan</a></li>
                                                                                    <li data-index="TC"><a href="#">Turks &amp; Caicos Islands</a></li>
                                                                                    <li data-index="TV"><a href="#">Tuvalu</a></li>
                                                                                    <li data-index="UM"><a href="#">U.S. Outlying Islands</a></li>
                                                                                    <li data-index="VI"><a href="#">U.S. Virgin Islands</a></li>
                                                                                    <li data-index="UG"><a href="#">Uganda</a></li>
                                                                                    <li data-index="UA"><a href="#">Ukraine</a></li>
                                                                                    <li data-index="AE"><a href="#">United Arab Emirates</a></li>
                                                                                    <li data-index="GB"><a href="#">United Kingdom</a></li>
                                                                                    <li data-index="US"><a href="#">United States</a></li>
                                                                                    <li data-index="UY"><a href="#">Uruguay</a></li>
                                                                                    <li data-index="UZ"><a href="#">Uzbekistan</a></li>
                                                                                    <li data-index="VU"><a href="#">Vanuatu</a></li>
                                                                                    <li data-index="VA"><a href="#">Vatican City</a></li>
                                                                                    <li data-index="VE"><a href="#">Venezuela</a></li>
                                                                                    <li data-index="VN"><a href="#">Vietnam</a></li>
                                                                                    <li data-index="WF"><a href="#">Wallis &amp; Futuna</a></li>
                                                                                    <li data-index="EH"><a href="#">Western Sahara</a></li>
                                                                                    <li data-index="YE"><a href="#">Yemen</a></li>
                                                                                    <li data-index="ZM"><a href="#">Zambia</a></li>
                                                                                    <li data-index="ZW"><a href="#">Zimbabwe</a></li>
                                                                            </ul>
                                </div>
                                                    </div>
                    </div>
                </div>
            </div>

                        <div class="uv-aside-brick">
                <div class="uv-aside-ticket-labels label-list-block">
                    <div class="uv-element-block">
                        <label class="uv-field-label">Labels</label>

                        <div class="uv-field-block">
                            <input class="uv-field uv-dropdown-other" type="text" data-type="label">
                            <div class="uv-dropdown-list uv-top-left">
                                <div class="uv-dropdown-container">
                                    <label>Filter With</label>
                                    <ul class="">
                                        <span class="uv-filter-info">Type at least 2 letters</span>
                                        <span class="uv-no-results" style="display: none;">No result found</span>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="label-list"></div>
                </div>
            </div>

                        <div class="uv-aside-brick collaborator-list-block">
                <div class="uv-aside-ticket-labels">
                    <div class="uv-element-block">
                        <label class="uv-field-label">Collaborators</label>

                                                    <div class="uv-field-block">
                                <input class="uv-field" type="text" name="email" type="text" value="" placeholder="Type email to add">
                            </div>
                                            </div>
                    <div class="collaborator-list" style="margin-top: 10px"></div>
                </div>
            </div>

                        <div class="uv-aside-brick tag-list-block">
                <div class="uv-aside-ticket-labels">
                    <div class="uv-element-block">
                        <label class="uv-field-label">Tags</label>

                                                    <div class="uv-field-block">
                                <input class="uv-field uv-dropdown-other" name="tag-name" type="text" data-type="tag" value="">
                                <div class="uv-dropdown-list uv-bottom-left">
                                    <div class="uv-dropdown-container">
                                        <label>Filter With</label>
                                        <ul class="">
                                            <span class="uv-filter-info">Type at least 2 letters</span>
                                            <span class="uv-no-results" style="display: none;">No result found</span>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                                            </div>

                    <div class="tag-list" style="margin-top: 10px"></div>
                </div>
            </div>
        </div>

        <div class="uv-view " >
            <div class="uv-ticket-scroll-region " >
                                <div class="uv-ticket-action-bar">
                    <div class="uv-ticket-action-bar-lt">
                        <div class="uv-header-fix"><a href="#" class="uv-icon-pin"></a></div>

                                                <div class="uv-tabs">
                            <ul>
                                                                <li for="default" data-type="all" class="uv-tab-active">All Threads</li>
                                <li for="default" data-type="reply">Replies</li>
                                <li for="default" data-type="forward">Forwards</li>
                                <li for="default" data-type="note">Notes</li>
                                <li for="default" data-type="pinned">Pinned</li>

                                                                                                    <li class="uv-tab-ellipsis uv-ticket-action">
                                        <span class="uv-icon-ellipsis uv-dropdown-other"></span>

                                        <div class="uv-dropdown-list uv-bottom-right">
                                            <div class="uv-dropdown-container">
                                                <ul class="priority" data-action="priority">
                                                                                                            <li data-action="edit" class="uv-open-popup" data-target="edit-ticket-modal">Edit Ticket</li>

                                                    <li data-action="print">Print Ticket</li>

                                                                                                            <li data-action="spam" data-index="6">Mark as Spam</li>
                                                        <li data-action="closed" data-index="5">Mark as Closed</li>

                                                                                                            <li data-action="delete" class="uv-text-danger">Delete Ticket</li>
                                                                                                    </ul>
                                            </div>
                                        </div>
                                    </li>
                                                            </ul>
                        </div>
                    </div>

                    <div class="uv-ticket-action-bar-rt">

                    </div>
                </div>

                                <div class="uv-ticket-viewer-bar">
                    <div class="uv-ticket-viewer-list">
                        <div class="uv-ticket-viewer-single uv-first" title="Currently active agents on ticket...">
                            <span class="uv-icon-eye-light"></span>
                        </div>
                    </div>
                </div>

                                <div class="uv-ticket-head">
                    <div class="uv-ticket-head-lt">
                        <span class="uv-star-large  uv-star uv-margin-right-5"></span>
                    </div>

                    <div class="uv-ticket-head-rt">
                        <h1>test again</h1>
                    </div>
                </div>

                <div class="uv-ticket-strip">
                    <span>
                        <span class="uv-ticket-strip-label">Created - </span>
                        <span class="timeago uv-margin-0" data-timestamp="1756430869" title="29-08-2025 01:27am">29-08-2025 01:27am</span>
                    </span>

                    <span>
                        <span class="uv-ticket-strip-label">By - </span> test user 1
                                                    (<a id="more-tickets-btn" href="/public/en/member/tickets#customer/2" target="_blank">1 more tickets</a>)
                                            </span>

                    <span class="agent-info" style="display: none">
                        <span class="uv-ticket-strip-label">Agent - </span>
                        <span class="name"></span>
                    </span>
                </div>

                                <div class="uv-tab-view uv-tab-view-active" id="default">
                    <div class="uv-ticket-section">
                        <div class="uv-ticket-main create">
                            <div class="uv-ticket-strip">
                                <span>
                                    <span class="timeago uv-margin-0" data-timestamp="1756430869" title="29-08-2025 01:27am">29-08-2025 01:27am</span>
                                    - test user 1 <span class="uv-ticket-strip-label">created Ticket</span>
                                </span>

                            </div>

                            <div class="uv-ticket-main-lt">
                               <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-ironman.png">
                            </div>

                            <div class="uv-ticket-main-rt">
                                                                    <a href="/public/en/member/customer/2" class="uv-ticket-member-name">test user 1</a>

                                                                <div class="message">
                                    <p>
                                                                                    <p>test again</p>
                                                                            </p>
                                </div>

                                                                                            </div>
                        </div>

                        <div class="uv-ticket-accordion">
                            <div class="uv-ticket-count-wrapper">
                                <span class="uv-ticket-count-stat">0</span>
                            </div>

                            <div class="uv-ticket-wrapper thread-list"></div>
                        </div>
                    </div>
                </div>

                                <div class="uv-ticket-main uv-ticket-reply uv-no-error-success-icon">
                    <div class="uv-ticket-main-lt">
                        <span class="uv-icon-ellipsis"></span>
                        <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png" />
                    </div>

                    <div class="uv-ticket-main-rt">
                        <span class="uv-ticket-member-name">dev</span>
                        <div class="uv-tabs">
                            <ul>
                                <li for="reply" class="uv-tab-active">Reply</li>
                                <li for="forward">Forward</li>
                                                                    <li for='note'>Note</li>
                                                            </ul>
                        </div>

                                                <div class="uv-tab-view uv-tab-view-active" id="reply">
                            <form enctype="multipart/form-data" method="post" action="/public/en/member/thread/add/2">
                                <input name="threadType" value="reply" type="hidden">
                                <input name="status" value="" type="hidden" class="reply-status">
                                <div class="uv-element-block collaborators" style="display: none">
                                    <label class="uv-field-label">Collaborators</label>
                                    <div class="uv-field-block"></div>
                                </div>

                                <div class="uv-element-block cc-bcc">
                                    <label>
                                        <div class="uv-checkbox">
                                            <input type="checkbox" class="cc-bcc-toggle">
                                            <span class="uv-checkbox-view"></span>
                                        </div>
                                        <span class="uv-checkbox-label">CC/BCC</span>
                                    </label>

                                    <div class="uv-field-block" style="display: none">
                                        <div class="uv-group">
                                            <input class="uv-group-field uv-dropdown-other preloaded uv-manual-enter" type="text">
                                            <div class="uv-dropdown-list uv-bottom-left">
                                                <div class="uv-dropdown-container">
                                                    <label>Agent</label>
                                                </div>

                                                <ul class="uv-agents-list">
                                                                                                            <li data-id="seyi@admin.com">
                                                            <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/> dev
                                                        </li>
                                                                                                            <li data-id="seyiidowu24@yahoo.com">
                                                            <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/> test agent
                                                        </li>

                                                    <li class="uv-no-results" style="display: none;">No result found</li>
                                                </ul>
                                            </div>
                                            <select class="uv-group-select cc-bcc-select">
                                                <option value="bcc">BCC</option>
                                                <option value="cc">CC</option>
                                            </select>
                                        </div>

                                        <div class="cc-bcc-list"></div>
                                    </div>
                                </div>

                                <div class="uv-element-block uv-element-block-textarea">
                                    <label class="uv-field-label">Write a reply</label>
                                    <div class="uv-field-block">
                                        <textarea class="uv-field" name="reply" id="reply-area"></textarea>
                                    </div>
                                </div>

                                <div class="uv-element-block attachment-block">
                                    <label>
                                        <span class="uv-file-label">Add Attachment</span>
                                    </label>
                                </div>

                                <div class="uv-action-buttons">
                                    <div class="uv-dropdown next-view">
                                        <input type="hidden" name="nextView" value="stay"/>
                                        <div class="uv-dropdown-btn" style="padding: 9px 27px 9px 10px;">Stay on ticket</div>
                                        <div class="uv-dropdown-list uv-top-left" style="opacity: 1;">
                                            <div class="uv-dropdown-container">
                                                <label>After Reply</label>
                                                <ul>
                                                    <li data-value="stay">Stay on ticket</li>
                                                    <li data-value="redirect">Redirect to list</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="uv-dropdown reply">
                                        <div class="uv-btn uv-dropdown-other">Reply <span class="uv-icon-down-light"></span></div>
                                        <div class="uv-dropdown-list uv-top-left">
                                            <div class="uv-dropdown-container">
                                                <label>Reply</label>
                                                <ul>
                                                    <li data-id="">Submit</li>
                                                                                                            <li data-id="open">Submit And Open</li>
                                                        <li data-id="pending">Submit And Pending</li>
                                                        <li data-id="answered">Submit And Answered</li>
                                                        <li data-id="resolved">Submit And Resolved</li>
                                                        <li data-id="closed">Submit And Closed</li>
                                                                                                    </ul>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </form>
                        </div>

                                                <div class="uv-tab-view" id="forward">
                            <form enctype="multipart/form-data" method="post" action="/public/en/member/thread/add/2">
                                <input name="threadType" value="forward" type="hidden">
                                <input name="status" value="" type="hidden" class="reply-status">

                                <div class="uv-element-block">
                                    <label class="uv-field-label">Subject</label>
                                    <div class="uv-field-block">
                                        <input class="uv-field" type="text" name="subject">
                                    </div>
                                </div>

                                <div class="uv-element-block to">
                                    <label class="uv-field-label">To</label>
                                    <div class="uv-field-block">
                                        <input class="uv-field uv-dropdown-other preloaded uv-to-message uv-manual-enter" type="text">

                                        <div class="uv-dropdown-list uv-bottom-left">
                                            <div class="uv-dropdown-container">
                                                <label>Agent</label>
                                            </div>

                                            <ul class="uv-agents-list">
                                                                                                    <li data-id="seyi@admin.com">
                                                        <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/> dev
                                                    </li>
                                                                                                    <li data-id="seyiidowu24@yahoo.com">
                                                        <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/> test agent
                                                    </li>

                                                <li class="uv-no-results" style="display: none;">No result found</li>
                                            </ul>
                                        </div>

                                        <div class="to-list"></div>
                                    </div>
                                </div>

                                <div class="uv-element-block cc-bcc">
                                    <label>
                                        <div class="uv-checkbox">
                                            <input type="checkbox" class="cc-bcc-toggle">
                                            <span class="uv-checkbox-view"></span>
                                        </div>
                                        <span class="uv-checkbox-label">CC/BCC</span>
                                    </label>
                                    <div class="uv-field-block" style="display: none">
                                        <div class="uv-group">
                                            <input class="uv-group-field uv-dropdown-other preloaded uv-manual-enter" type="text">
                                            <div class="uv-dropdown-list uv-bottom-left">
                                                <div class="uv-dropdown-container"><label>Agent</label></div>

                                                <ul class="uv-agents-list">
                                                                                                            <li data-id="seyi@admin.com">
                                                            <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/> dev
                                                        </li>
                                                                                                            <li data-id="seyiidowu24@yahoo.com">
                                                            <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png"/> test agent
                                                        </li>

                                                    <li class="uv-no-results" style="display: none;">No result found</li>
                                                </ul>
                                            </div>
                                            <select class="uv-group-select cc-bcc-select">
                                                <option value="bcc">BCC</option>
                                                <option value="cc">CC</option>
                                            </select>
                                        </div>

                                        <div class="cc-bcc-list"></div>
                                    </div>
                                </div>

                                <div class="uv-element-block uv-element-block-textarea">
                                    <label class="uv-field-label">Write a reply</label>
                                    <div class="uv-field-block">
                                        <textarea class="uv-field" name="reply" id="forward-area"></textarea>
                                    </div>
                                </div>

                                <div class="uv-element-block attachment-block">
                                    <label><span class="uv-file-label">Add Attachment</span></label>
                                </div>

                                <div class="uv-action-buttons">
                                    <div class="uv-dropdown next-view">
                                        <input type="hidden" name="nextView" value="stay"/>
                                        <div class="uv-dropdown-btn" style="padding: 9px 27px 9px 10px;">Stay on ticket</div>
                                        <div class="uv-dropdown-list uv-top-left" style="opacity: 1;">
                                            <div class="uv-dropdown-container">
                                                <label>After Reply</label>
                                                <ul>
                                                    <li data-value="stay">Stay on ticket</li>
                                                    <li data-value="redirect">Redirect to list</li>
                                                </ul>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="uv-btn forward">Forward</div>
                                </div>
                            </form>
                        </div>

                                                                            <div class="uv-tab-view" id="note">
                                <form enctype="multipart/form-data" method="post" action="/public/en/member/thread/add/2">
                                    <input name="threadType" value="note" type="hidden">
                                    <input name="status" value="" type="hidden" class="reply-status">

                                    <div class="uv-element-block uv-element-block-textarea">
                                        <label class="uv-field-label">Write a reply</label>
                                        <div class="uv-field-block">
                                            <textarea class="uv-field" name="reply" id="note-area"></textarea>
                                        </div>
                                    </div>

                                    <div class="uv-element-block attachment-block">
                                        <label><span class="uv-file-label">Add Attachment</span></label>
                                    </div>

                                    <div class="uv-action-buttons">
                                        <div class="uv-dropdown next-view">
                                            <input type="hidden" name="nextView" value="stay"/>
                                            <div class="uv-dropdown-btn" style="padding: 9px 27px 9px 10px;">Stay on ticket</div>
                                            <div class="uv-dropdown-list uv-top-left" style="opacity: 1;">
                                                <div class="uv-dropdown-container">
                                                    <label>After Reply</label>
                                                    <ul>
                                                        <li data-value="stay">Stay on ticket</li>
                                                        <li data-value="redirect">Redirect to list</li>
                                                    </ul>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="uv-dropdown reply">
                                            <div class="uv-btn uv-dropdown-other">Reply<span class="uv-icon-down-light"></span></div>

                                            <div class="uv-dropdown-list uv-top-left">
                                                <div class="uv-dropdown-container">
                                                    <label>Add note</label>
                                                    <ul>
                                                        <li data-id="">Submit</li>
                                                                                                                    <li data-id="open">Submit And Open</li>
                                                            <li data-id="pending">Submit And Pending</li>
                                                            <li data-id="answered">Submit And Answered</li>
                                                            <li data-id="resolved">Submit And Resolved</li>
                                                            <li data-id="closed">Submit And Closed</li>
                                                                                                            </ul>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                                            </div>
                </div>
            </div>

            <!-- Bottom Action Block -->
            <div class="uv-ticket-fixed-region">
                <div class="uv-ticket-fixed-region-lt">
                    <div class="uv-dropdown saved-reply">
    <div class="uv-dropdown-btn">Saved Replies</div>
    <div class="uv-dropdown-list uv-top-left" style="width:360px !important;">
        <div class="uv-dropdown-container">
            <label>Saved Replies</label>
            <ul id="listSavedReplies">
                <input id="filterSavedreplies" type="text" class="uv-search-inline" autofocus="autofocus"  style="width:98%">
                <li data-id="">
                    <a href="/public/en/member/saved-replies" target="_blank" style="color: #2750C4">create new</a>
                </li>
                                    <li class="savedReplyData" data-id="1">
                        Save Reply 1
                    </li>
                            </ul>
        </div>
    </div>
</div>
    <div class="uv-dropdown">
        <div class="uv-dropdown-btn">Prepared Responses</div>
        <div class="uv-dropdown-list uv-top-left">
            <div class="uv-dropdown-container prepared-responses">
                <label>Prepared Responses</label>
                <ul>
                    <li>
                        <a class="create-new" href="/public/en/member/prepared-responses" target="_blank" style="color: #2750C4">Create New</a>
                    </li>

                                    </ul>
            </div>
        </div>
    </div>



                                    </div>

                <div class="uv-ticket-fixed-region-rt"></div>
            </div>
            <!-- //Bottom Action Block -->
        </div>
    </div>

                <div class="uv-pop-up-overlay uv-no-error-success-icon" id="edit-ticket-modal">
            <div class="uv-pop-up-box uv-pop-up-wide">
                <span class="uv-pop-up-close"></span>
                <h2>Edit Ticket</h2>

                                <form method="post" action="/public/en/member/ticket/update/details/2" id="edit-ticket-form">
                    <div class="uv-element-block">
                        <label class="uv-field-label">Subject</label>
                        <div class="uv-field-block">
                            <input type="text" name="subject" class="uv-field" value="test again" />
                        </div>
                    </div>

                    <div class="uv-element-block">
                        <label class="uv-field-label">Reply</label>
                        <div class="uv-field-block">
                                                            <textarea name="reply" id="uv-edit-create-thread" class="uv-field"><p>test again</p></textarea>
                                                    </div>
                    </div>

                    <div class="uv-pop-up-actions">
                        <input class="uv-btn update" href="#" value="Update" type="submit">
                        <input class="uv-btn cancel" href="#" value="Discard" type="button">
                    </div>
                </form>
            </div>
        </div>


                    </div>
                </div>
            </div>

                        <script>
                // Show loader by default
                document.addEventListener('DOMContentLoaded', function() {
                    // Ensure the loader is visible
                    document.querySelector('.uv-loader-view').style.display = 'block';
                });

                // Hide loader once the page is fully loaded
                window.onload = function() {
                    // Hide the loader
                    document.querySelector('.uv-loader-view').style.display = 'none';
                };
            </script>

            <script src="/public/bundles/uvdeskcoreframework/js/_common.js"></script>
            <script id="pagination_tmp" type="text/template">
    <% if(pageCount > 1) { %>
        <div class="uv-pagination">
            <% if(previous) { %>
                <a data-page="<%= previous %>" href="<%= url.replace('replacePage', previous) %>" id="previous" class="uv-pagination-previous">
                </a>
            <% } else { %>
                <a class="uv-pagination-previous">
                </a>
            <% } %>

            <% if(startPage > 1) { %>
                <a data-page="1" href="<%= url.replace('replacePage', 1) %>">1</a>
                <% if(startPage == 3) { %>
                    <a data-page="2" href="<%= url.replace('replacePage', 2) %>">2</a>
                <% } else if(startPage != 2) { %>
                    <a class="uv-page-active" style="text-decoration: none">&hellip;</a>
                <% } %>
            <% } %>

            <% _.each(pagesInRange, function(page) { %>
                <% if(page != current) { %>
                    <a data-page="<%= page %>" href="<%= url.replace('replacePage', page) %>">
                        <%= page %>
                    </a>
                <% } else { %>
                    <a class="uv-page-active"><%= page %></a>
                <% } %>
            <% }) %>

            <% if(pageCount > endPage) { %>
                <% if(pageCount > (endPage + 1) ) { %>
                    <% if(pageCount > (endPage + 2) ) { %>
                        <a class="uv-page-active" style="text-decoration: none">&hellip;</a>
                    <% } else { %>
                        <a data-page="<%= pageCount - 1 %>" href="<%= url.replace('replacePage', pageCount - 1) %>">
                            <%= pageCount - 1 %>
                        </a>
                    <% } %>
                <% } %>
                <a data-page="<%= pageCount %>" href="<%= url.replace('replacePage', pageCount) %>">
                    <%= pageCount %>
                </a>
            <% } %>

            <% if(next) { %>
                <a href="<%= url.replace('replacePage',next) %>" data-page="<%= next %>" id="next" class="uv-pagination-next">
                </a>
            <% } else { %>
                <a class="uv-pagination-next">
                </a>
            <% } %>
        </div>
    <% } %>
</script>
                        <div class="uv-pop-up-overlay" id="confirm-modal">
                <div class="uv-pop-up-box uv-pop-up-slim">
                    <span class="uv-pop-up-close"></span>
                    <h2>Confirm Action</h2>
                    <p>Are you sure you want to perform this action?</p>

                    <div class="uv-pop-up-actions">
                        <a href="#" class="uv-btn uv-btn-error confirm">Confirm</a>
                        <a href="#" class="uv-btn cancel">Cancel</a>
                    </div>
                </div>
            </div>

                        <script type="text/template" id="loader-tmp">
                <div class="uv-loader">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </script>

                        <script type="text/template" id="full-view-loader">
                <div class="uv-loader-view">
                    <div class="uv-loader">
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                </div>
            </script>

                        <script type="text/template" id="notification-template">
                <div class="uv-notification <% if(alertClass == 'danger') { %>uv-error<% } else { %> <%= 'uv-' + alertClass %> <% } %>">
                    <span class="uv-notification-close"></span>
                    <p><%= alertMessage %> </p>
                </div>
            </script>

            <script type="text/javascript">
                var warningResponse = {
                    'alertClass' : 'danger',
                    'alertMessage' : 'Error: Something went wrong, please try again later',
                };
            </script>



    <style>
    input.attachment {
        display: none;
    }

    .uv-element-block .uv-added-attachment {
        color: #333333;
        margin: -14px 5px;
    }
</style>

<script type="text/javascript">
    $(function () {
        var FileView = Backbone.View.extend({
            fileCounter: 0,
            max_post_size: 8388608,
            max_file_uploads: 20,
            upload_max_filesize: 2097152,
            el: '.attachment-block',
            events : {
                'click .uv-file-label': 'createFileType',
                'change .attachment': 'selectFile',
                'click .uv-added-attachment span': 'removeFile',
                'click .uv-field-message': 'removeError',
            },
            createFileType: function(e) {
                this.removeError(e)
                var currentElement = Backbone.$(e.currentTarget),
                    attachmentBlock = currentElement.parents('.attachment-block')
                if (attachmentBlock.children('.uv-added-attachment').length + 1 > this.max_file_uploads) {
                    attachmentBlock.append(this.getDefaultErrorMessage())
                    return;
                }
                this.fileCounter += 1;
                attachmentBlock.append('<div class="uv-added-attachment" style="display: none" id="file-' + this.fileCounter + '"><div class="uv-attachment"><input type="file" name="attachments[]" class="attachment" multiple="multiple"></div></div>')
                $('#file-' + this.fileCounter).find('.attachment').trigger('click')
            },
            labelTemplate: _.template('<div data-name="<%- fileName %>" class="uv-selected-attachment-item"><span></span><label class="file-name"><%- fileName %></label></div>'),
            selectFile: function(e) {
                var currentElement = Backbone.$(e.currentTarget);
                var attachmentBlock = currentElement.parents(".uv-added-attachment");
                var isError = false;

                if (currentElement.length) {
                    files = currentElement[0].files;

                    if (files.length) {
                        for (var i = 0; i < files.length; i++) {
                            var fileName = files[i].name;
                            if (files[i].size > this.upload_max_filesize) {
                                isError = true;
                                break;
                            }

                            // Validating Form Size
                            var formSize = 0
                            var formData = new FormData(currentElement.parents('form')[0])

                            for (var pair of formData.entries()) {
                                if (pair[1] instanceof Blob) {
                                    formSize += pair[1].size
                                } else {
                                    formSize += pair[1].length
                                }
                            }

                            if (formSize > this.max_post_size) {
                                isError = true
                            }

                            attachmentBlock.append(this.labelTemplate({
                                'fileName': fileName
                            }));
                        }
                    }
                }

                if (isError) {
                    attachmentBlock.parents('.attachment-block').append(this.getDefaultErrorMessage())
                    attachmentBlock.remove()
                    return
                }

                attachmentBlock.show()
            },
            removeFile: function(e) {
                this.removeError(e);
                let el = $(e.currentTarget).parent('.uv-selected-attachment-item');
                let inputEl = el.siblings('.uv-attachment').find('input');

                let fileCount = $("input[name='attachments[]']")[0].files.length;
                if (fileCount > 1) {
                    console.log(fileCount);
                    let fileName = el.data('name');
                    let files = inputEl[0].files;
                    let dt = new DataTransfer();

                    for (let i = 0; i < files.length; i++) {
                        let file = files[i];
                        if (el.data('name') != files[i].name) {
                            dt.items.add(file);
                        }
                    }

                    $("input[name='attachments[]']")[0].files = dt.files;
                    el.remove();

                    if ($("input[name='attachments[]']")[0].files.length == 0) {
                        $('.uv-added-attachment').remove();
                    }
                }

                Backbone.$(e.currentTarget).parents('.uv-added-attachment').remove();
            },
            getDefaultErrorMessage: function() {
                return '<span class="uv-field-message">You can send up to ' + Math.floor(this.upload_max_filesize/(1024*1024)) + ' MB in attachments. If you have more than one attachment, they can\'t add up to more than ' + Math.floor(this.max_post_size/(1024*1024))  + ' MB and ' + this.max_file_uploads + ' attachments in total.</span>'
            },
            removeError: function(e) {
                Backbone.$(e.currentTarget).parents('.attachment-block').find('.uv-field-message').remove()
            }
        });

        var fileView = new FileView();
    });
</script>
    <script src="/public/bundles/uvdeskcoreframework/js/tinymce/tinymce.min.js"></script>

<script type="text/javascript">
    var sfTinyMce = {
        tinymce : tinymce,
        options : {
            browser_spellcheck : true,
            selector: '.uv-view textarea',
            branding: false,
            relative_urls : false,
            remove_script_host : false,
            image_title: true,
            autoresize_max_height: 350,
            theme: 'modern',
            menubar: false,
            height: 150,
            toolbar: 'undo redo | bold italic | forecolor | bullist | numlist | link | spellchecker | code | image | styleselect',
            spellchecker_languages: 'English=en',
            plugins: [
                'spellchecker advlist autolink lists link charmap print preview hr anchor pagebreak',
                'searchreplace wordcount visualblocks visualchars code fullscreen',
                'media nonbreaking table directionality',
                'emoticons template paste textcolor colorpicker textpattern codesample toc',
                'autoresize image imagetools',
                'mention',
            ],
            invalid_elements : 'script,style,iframe,input,textarea,form,onmouseover,onmouseout,onclick',
            paste_data_images: true,
            mentions : {
                source: function(){
                    return [];
                },
            },
        },
        init : function (options){
            if (typeof(options.setup) === 'function') {
                let optionsSetup = options.setup;
                this.options.setup = function(editor){
                    sfTinyMce.initImageUpload(editor);
                    optionsSetup(editor);
                }

                delete options.setup;
            } else {
                this.options.setup = function(editor){
                    sfTinyMce.initImageUpload(editor);
                }

                delete options.setup;
            }

            this.options = $.extend({}, this.options, options)
            window.tinymce.dom.Event.domLoaded = true;
            tinymce.init(this.options);
        },
        html : function(selector, html){
            tinymce.get(selector).setContent(html);
        },
        initImageUpload : function(editor) {
            // create input and insert in the DOM
            var inp = $('<input id="tinymce-uploader" type="file" name="pic" accept="image/*" style="display:none">');
            $(editor.getElement()).parent().append(inp);

            // add the image upload button to the editor toolbar
            editor.addButton('imageupload', {
                text: '',
                icon: 'image',
                onclick: function(e) { // when toolbar button is clicked, open file select modal
                    inp.trigger('click');
                }
            });

            // when a file is selected, upload it to the server
            inp.on("change", function(e){
                sfTinyMce.uploadFile($(this), editor);
            });
        },
        uploadFile : function(input, editor) {
            sendFile(input.get(0).files).done(function(json){
                    // remove loading image
                    if (json['error'] != '') {
                        var response = {
                            'alertClass' : 'danger',
                            'alertMessage' : json['error'],
                        };
                        app.appView.hideLoader();
                        app.appView.renderResponseAlert(response);
                    } else if (json['fileNames']) {
                        $.each(json['fileNames'], function(key, path){
                            editor.insertContent('<img class="content-img" src="' + path + '"/>');
                        });
                    }
                    if (json.location != undefined)
                        window.location = json.location;
                })
                .fail(function(xhr) {
                    if(url = xhr.getResponseHeader('Location'))
                        window.location = url;

                    app.appView.hideLoader();
                    app.appView.renderResponseAlert(warningResponse);
                })
            ;
        },
    }

    function sendFile(files) {

    }

    function sendUrls(url) {

    }

    function removeFile(file) {

    }
    addTranslateButton = function(editor) {

    }
</script>

    <script id="thread_list_empty_tmp" type="text/template">
        <div class="uv-no-threads">Nothing interesting here</div>
    </script>

    <script>
        $(document).ready(function() {
            $("#filterSavedreplies").on("keyup", function() {
                if (this.value.length && this.value.length != '') {
                    var that = this;
                    $("#listSavedReplies li").hide().filter(function() {
                        return $(this).html().toLowerCase().indexOf(that.value.toLowerCase()) !== -1;
                    }).show();
                } else {
                    $("#listSavedReplies li").show()
                }
            });

            $(".uv-dropdown-btn").click(function(event) {
                setTimeout(function() {
                    $(".uv-search-inline").focus();
                }, 100);
            });
        });
    </script>

    <script id="thread_list_item_tmp" type="text/template">
        <div class="uv-ticket-strip">
            <span>
                <% if(typeof(mailStatus) != 'undefined' && mailStatus) { %>
                    <a href="https://support.uvdesk.com/en/blog/uvdesk-ticket-delivery-status" target="_blank">
                        <span class="uv-mail-status uv-mail-<%- mailStatus.split(',')[0] %>" <% if(mailStatus !== 'pending') { %>data-toggle="tooltip" data-placement="right" title="Mail status: <%- mailStatus.split(',')[0] %> <% if(mailStatus.split(',').length > 1) { print('Reason:' + mailStatus.split(',')[1] ); } %> "<% } %> ></span>
            </a>
            <% } %>
            <span class="timeago uv-margin-0" data-timestamp="<%- timestamp %>" title="<%- formatedCreatedAt %>">
                    <%- formatedCreatedAt %>
                </span>
            - <%- fullname %>
            <span class="uv-ticket-strip-label">
                <% if(threadType == 'reply') { %>
                    replied
                <% } else if(threadType == 'note') { %>
                    added note
                <% } else if(threadType == 'forward') { %>
                    forwarded
                <% } %>
                - <a href="#thread/<%- id %>" id="thread<%- id %>" class="copy-thread-link">#<%- id %></a>
                </span>
            </span>

            <% if((replyTo && threadType ==  'forward') || cc || bcc) { %>
                <div class="uv-ticket-strip">
                    <% if(replyTo && threadType ==  'forward') { %>
                    <span><span class="uv-ticket-strip-label">TO -</span> <%- replyTo %></span>
                    <% } if(cc) { %>
                    <span><span class="uv-ticket-strip-label">CC -</span> <%- cc %></span>
                    <% } if(bcc) { %>
                    <span><span class="uv-ticket-strip-label">BCC -</span> <%- bcc %></span>
                    <% } %>
                </div>
            <% } %>
        </div>

        <div class="uv-ticket-strip uv-margin-top-5" <% if(!bookmark && !isLocked) { %>style="display: none"<% } %> >
            <span <% if(!bookmark) { %>style="display: none"<% } %> >
                    <span class="uv-icon-pinned"></span>
                    Pinned
                    </span>
            <span <% if(!isLocked) { %>style="display: none"<% } %> >
                <span class="uv-icon-locked"></span>
                Locked
            </span>
        </div>
        <div class="uv-ticket-main-lt">
            <span class="uv-thread-action">
                <span class="uv-icon-ellipsis uv-dropdown-other"></span>
                <div class="uv-dropdown-list uv-bottom-left">
                    <div class="uv-dropdown-container">
                        <ul>
                                                            <% if (userType != 'system' && userType != 'System') { %>
                                    <li data-action="edit">Edit Thread</li>
                                <% } %>
                                                                                        <li data-action="delete">Delete Thread</li>
                                                        <li data-action="forward">Forward</li>
                            <% if(bookmark) { %>
                                <li data-action="pin" data-id="1">Unpin Thread</li>
                            <% } else { %>
                                <li data-action="pin" data-id="0">Pin Thread</li>
                            <% } %>
                            <% if(threadType != 'note') { %>
                                                                    <% if(isLocked) { %>
                                        <li data-action="lock" data-id="1">Unlock Thread</li>
                                    <% } else { %>
                                        <li data-action="lock" data-id="0">Lock Thread</li>
                                    <% } %>
                                                            <% } %>
                            <li style="display: none;" data-action="translate">Translate Thread</li>
                        </ul>
                    </div>
                </div>
            </span>
            <span class="p-relative">

            </span>
            <% if (userType != 'system' && userType != 'System') { %>
                <% if(user && user.smallThumbnail != null) { %>
                    <img src="http://localhost:8888/public/<%- user.smallThumbnail %>" />
                <% } else { %>
                    <img src="<% if(userType == 'agent') { %> /public/bundles/uvdeskcoreframework/images/uv-avatar-batman.png <% } else { %> /public/bundles/uvdeskcoreframework/images/uv-avatar-ironman.png <% } %>" />
                <% } %>
            <% } else { %>
                <img src="/public/bundles/uvdeskcoreframework/images/uv-avatar-uvdesk.png" />
            <% } %>
        </div>
        <div class="uv-ticket-main-rt">
            <% if(userType == 'customer') { %>
                <a <% if(user) { %>href="/public/en/member/customer/<%- user.id %>"<% } %> class="uv-ticket-member-name">
                <%- fullname %>
                </a>
            <% } else if(userType == 'agent') { %>
                <a <% if(user) { %>href="/public/en/member/agent/<%- user.id %>"<% } %> class="uv-ticket-member-name">
                <%- fullname %>
                </a>
            <% } else { %>
                <span class="uv-ticket-member-name">
                    <%- fullname %>
                </span>
            <% } %>

            <!-- Message Block -->
            <div class="message">
                <%= reply %>
            </div>

            <!-- Attachment Block -->
            <% if(attachments.length) { %>
            <div class="uv-ticket-uploads">
                <h4>Uploaded Files</h4>
                <div class="uv-ticket-uploads-strip">
                    <% _.each(attachments, function(file) { %>
                    <a href="<%-file.downloadURL %>" target ="_blank" class="uv-ticket-uploads-brick uv-no-pointer-events" data-toggle="tooltip" title="<%- file.name %>">
                        <img src="<%-file.iconURL %>" class="uv-auto-pointer-events">
                    </a>
                    <% }) %>
                </div>

                <% if (attachments.length > 1) { %>
                <div class="thread-attachments-zip pull-left">
                    <div class="uv-upload-actions">
                        <a href="#" class="uv-open-in-files" data-thread="<%- id %>" style="display: none"><span class="uv-icon-open-in-files"></span>Open in Files</a>
                        <% if(attachments.length > 0) { %>
                        <a href="/public/en/member/ticket/download-zip/<%- id %>" target="_blank"><span class="uv-icon-attachment"></span> Download ( as .zip)</a>
                        <% } %>
                    </div>
                </div>
                <% } %>

            </div>
            <% } %>
        </div>
    </script>

    <script id="edit_thread_tmp" type="text/template">
        <div class="thread-edit-container">
            <div class="uv-element-block uv-element-block-textarea">
                <div class="uv-field-block">
                    <textarea id="uv-edit-thread">
                    </textarea>
                </div>
            </div>
            <div class="uv-action-buttons">
                <a class="uv-btn cancel-edit" type="button">Cancel</a>
                <a class="uv-btn saveThread" type="button" style="margin-right: 10px;">Update</a>
            </div>
        </div>
    </script>

    <script id="ticket_quick_navigation_tmp" type="text/template">
        <% if(prev) { %>
            <a class="uv-btn-stroke" href="/public/en/member/ticket/view/<%- prev %>">
                <span class="uv-icon-previous"></span>
                Previous Ticket
            </a>
        <% } else { %>
            <a class="uv-btn-stroke" disabled="disabled">
                <span class="uv-icon-previous"></span>
                Previous Ticket
            </a>
        <% } %>

        <% if(next) { %>
            <a class="uv-btn-stroke" href="/public/en/member/ticket/view/<%- next %>">
                Next Ticket
                <span class="uv-icon-next"></span>
            </a>
        <% } else { %>
            <a class="uv-btn-stroke" disabled="disabled">
                Next Ticket
                <span class="uv-icon-next"></span>
            </a>
        <% } %>
    </script>

    <script type="text/javascript">
        uvdesk = {
            ticket: {}
        };

        var ticketApp = {};

        viewerImages = function() {
            if (typeof($().viewer == 'function')) {
                $('.uv-ticket-uploads .uv-ticket-uploads-strip').viewer({
                    'url': 'data-url',
                    'downloadBase': "/public/en/member/ticket/download",
                    'download': 'data-download',
                });
            }
        };

        $(function () {
            var threadIds = [];
            viewerImages();

            _.extend(Backbone.Model.prototype, Backbone.Validation.mixin);

            // Ticket Model
            var TicketModel = Backbone.Model.extend({
                idAttribute : "id",
                urlRoot : "/public/en/member/ticket/update/attributes",
                validation: {
                    'email': [{
                        required: true,
                        msg: 'This field is mandatory'
                    },{
                        pattern: /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,
                        msg: 'Please enter a valid email'
                    }],
                    'subject' : {
                        required : true,
                        msg : 'This field is mandatory'
                    },
                    'reply' : {
                        fn: function(value) {
                            var content = tinyMCE.activeEditor.getContent();
							content = content.replace(/&nbsp;/g, '').replace(/<[^>]*>/g, '');

							if (content.trim() == '') {
								return true;
							} else {
								return false;
							}

                            if (! tinyMCE.get("uv-edit-create-thread"))
                                return false;
                            var html = tinyMCE.get("uv-edit-create-thread").getContent();
                            if (app.appView.stripHTML(html) != '') {
                                return false;
                            }

                            return true;
                        },
                        msg : 'This field is mandatory'
                    }
                },
            });

            // Thread Model
            var ThreadModel = Backbone.Model.extend({
                idAttribute : "id",
                defaults : {
                    hasTask : 0,
                    task: null
                }
            });

            // Customer Model
            var CustomerModel = Backbone.Model.extend({
                validation: {
                    'name': [{
                        required: true,
                        msg: 'This field is mandatory'
                    }, {
                        pattern: /^((?![!@#$%^&*()<_+]).)*$/,
                        msg: 'This field must have characters only'
                    }],
                    'email': [{
                        required: true,
                        msg: 'This field is mandatory'
                    },{
                        pattern: /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,
                        msg: 'Email address is invalid'
                    }],
                    'contactNumber': function(value) {
                        if(value != undefined && value !== '') {
                            if (!value.match('^\\s*(?:\\+?(\\d{1,3}))?[-. (]*(\\d{3})[-. )]*(\\d{3})[-. ]*(\\d{4})(?: *x(\\d+))?\\s*$'))
                                return 'Contact number is invalid';
                        }
                    }
                },
                urlRoot : "/public/en/member/customer"
            });

            // Ticket Collaborator Model
            var CollaboratorModel = Backbone.Model.extend({
                idAttribute : "id",
                validation: {
                    'email': [{
                        required: true,
                        msg: 'This field is mandatory'
                    },{
                        pattern: /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,
                        msg: 'Please enter a valid email'
                    }]
                },
                defaults : {
                    ticketId : 2,
                    email: ''
                },
                parse: function (resp, options) {
                    return resp.collaborator;
                },
                urlRoot : "/public/en/member/ticket/collaborator"
            });

            // Ticket Tag Model
            var TagModel = Backbone.Model.extend({
                idAttribute : "id",
                defaults : {
                    ticketId : 2
                },
                parse: function (resp, options) {
                    return resp.tag;
                },
                urlRoot : "/public/en/member/support-tags/create"
            });

            // Ticket Label Model
            var LabelModel = Backbone.Model.extend({
                idAttribute : "id",
                defaults : {
                    ticketId : 2
                },
                parse: function (resp, options) {
                    return resp.label;
                },
                urlRoot : "/public/en/member/ticket/labels/save"
            });

            // Ticket Thread Collection
            var ThreadCollection = AppCollection.extend({
                model : ThreadModel,
                mode: "infinite",
                url : "/public/en/member/threads/ajax/2",
                firstScrollCheck: false,
                threadRequestedId: false,
                template : $("#thread_list_empty_tmp").html(),
                parseRecords: function (resp, options) {
                    return resp.threads;
                },
                syncData : function() {
                    type = $(".uv-ticket-action-bar-lt .uv-tabs .uv-tab-active").attr('data-type')
                    var self = this;
                    var data = {
                        threadType: type
                    };

                    if(this.threadRequestedId)
                        data.threadRequestedId = this.threadRequestedId;

                    app.appView.showLoader()
                    this.fetch({
                        data : data,
                        remove: false,
                        success: function(model, response) {
                            app.appView.hideLoader();
                            self.threadRequestedId = false;
                            pagination.renderPagination(response.pagination);
                            threadCollection.state.currentPage = parseInt(response.pagination.current) + 1;
                            if(response.pagination.totalCount <= 0){
                                this.$('.uv-ticket-wrapper.thread-list').html(self.template);
                            }
                        },
                        error: function (model, xhr, options) {
                            if(url = xhr.getResponseHeader('Location'))
                                window.location = url;
                        }
                    }).done(function(){
                        viewerImages();
                        if(!self.firstScrollCheck){
                            self.firstScrollCheck = true;
                            var fragment = Backbone.history.fragment.trim();
                            if(fragment == '') {
                                router.scrollPage('#reply');
                            } else
                                router.scrollPage('#' + fragment.replace('thread/', 'thread'));
                        }
                    });
                }
            });

            // Ticket Collaborator Collection
            var CollaboratorCollection = Backbone.PageableCollection.extend({
                model : CollaboratorModel
            });

            // Ticket Tag Collection
            var TagCollection = Backbone.PageableCollection.extend({
                model : TagModel,
                isTagExist : function(name) {
                    var flag = 1;
                    _.each(tagCollection.models, function (item) {
                        if(item.get('name').toUpperCase() == name.toUpperCase())
                            flag = 0;
                    }, this);

                    return flag;
                }
            });

            // Ticket Label Collection
            var LabelCollection = Backbone.PageableCollection.extend({
                model : TagModel,
                isLabelExist : function(name) {
                    var flag = 1;
                    _.each(labelCollection.models, function (item) {
                        if(item.get('name').toUpperCase() == name.toUpperCase())
                            flag = 0;
                    }, this);
                    return flag;
                }
            });

            // Customer Form View
            var CustomerForm = Backbone.View.extend({
                events : {
                    'click .uv-btn.update-btn' : "saveCustomer",
                    'blur input': 'formChanged',
                    'click .cancel-btn': 'backToInfo',
                    'click .uv-aside-back': 'backToInfo'
                },
                initialize : function() {
                    Backbone.Validation.bind(this);
                },
                formChanged: function(e) {
                    this.model.set(Backbone.$(e.currentTarget).attr('name'), Backbone.$(e.currentTarget).val())
                    this.model.isValid([Backbone.$(e.currentTarget).attr('name')])
                },
                saveCustomer: function (e) {
                    e.preventDefault();
                    currentElement = Backbone.$(e.currentTarget);
                    this.model.clear();
                    this.model.set(this.$el.find('form').serializeObject());
                    self = this;
                    if (this.model.isValid(true)) {
                        app.appView.showLoader();
                        currentElement.attr('disabled', 'disabled');
                        this.model.save({}, {
                            success: function (model, response, options) {
                                app.appView.hideLoader();
                                currentElement.removeAttr("disabled");
                                if (response.alertClass == "success") {
                                    app.appView.renderResponseAlert(response);
                                    $('.uv-aside-customer-info').html("<span>" + self.model.attributes.name + "</span><span>" + self.model.attributes.email + "</span><span>" + self.model.attributes.contactNumber + "</span><span class='uv-customize'></span>")
                                    self.backToInfo();
                                } else if (response.errors) {
                                    self.addErrors(JSON.parse(response.errors));
                                } else if (response.alertMessage) {
                                    app.appView.renderResponseAlert(response);
                                }
                            },
                            error: function (model, xhr, options) {
                                if (url = xhr.getResponseHeader('Location'))
                                    window.location = url;

                                app.appView.hideLoader();
                                app.appView.renderResponseAlert(warningResponse);
                            }
                        });
                    }
                },
                addErrors: function(jsonContext) {
                    for (var field in jsonContext) {
                        Backbone.Validation.callbacks.invalid(this, field, jsonContext[field], 'input');
                    }
                },
                backToInfo: function(e) {
                    if (e)
                        e.preventDefault()

                    $('.uv-main-info-update-block').hide()
                    $('.uv-main-info-block').show()
                },
            });

            // Ticket View
            var TicketView = Backbone.View.extend({
                el: $('.uv-wrapper'),
                stopDraftSaveFlag: 0,
                events: {
                    'click .uv-ticket-action .uv-dropdown-list li[data-action="spam"], .uv-ticket-action .uv-dropdown-list li[data-action="closed"]': 'markSpamAndClosed',
                    'click .uv-aside-ticket-actions .uv-aside-select .uv-dropdown-list li': 'editTicketProperty',
                    'click .uv-aside-customer-info .uv-customize': 'showCustomerUpdateBlock',
                    'click .uv-ticket-head .uv-star-large': 'updateStar',
                    'click .uv-ticket-action-bar .uv-tabs li': 'filterThread',
                    'click .uv-ticket-action .uv-dropdown-list li[data-action="delete"]': 'confirmRemove',
                    'click .uv-ticket-action .uv-dropdown-list li[data-action="lock"]': 'lockAndUnlockThread',
                    'click .uv-element-block.collaborators .uv-btn-tag': 'removeCcCollaborator',
                    'keypress .uv-element-block.to .uv-dropdown-other': 'addToInput',
                    'click .uv-element-block.to .uv-dropdown-list li': 'addTo',
                    'click .to-list .uv-btn-tag': 'removeTo',
                    'change .uv-element-block.cc-bcc .cc-bcc-toggle': 'showCcBccBlock',
                    'keypress .uv-element-block.cc-bcc .uv-group-field.uv-dropdown-other': 'addCcBccInput',
                    'click .uv-element-block.cc-bcc .uv-dropdown-list li': 'addCcBcc',
                    'click .cc-bcc-list .uv-btn-tag, .to-list .uv-btn-tag': 'removeEmail',
                    'click .next-view .uv-dropdown-list li': 'setNextView',
                    'click .uv-dropdown.reply .uv-dropdown-list li, .uv-btn.forward': 'validateForm',
                    'click #edit-ticket-modal .uv-btn.update': 'updateTicket',
                    'click .message .uv-icon-ellipsis': 'showReplyQuote',
                    'input .uv-aside-brick .uv-field.uv-dropdown-other': 'searchFilterXhr',
                    'click .uv-dropdown-container.prepared-responses a:not(.create-new)': 'confirmPreparedResponses',

                    'click .uv-header-fix': 'fixheader',
                    'click .uv-ticket-action .uv-dropdown-list li[data-action="print"]': 'printTicket',
                    'blur .uv-manual-enter': 'enterManualAdd',
                },
                ticketNavigationTemplate : _.template($("#ticket_quick_navigation_tmp").html()),
                loaderTemplate : _.template($("#loader-tmp").html()),
                targetPreparedResponseUrl: '',
                initialize: function() {
                    Backbone.Validation.bind(this);
                    InitTinyMce('#uv-edit-create-thread');
                    $('.uv-ticket-fixed-region .uv-ticket-fixed-region-rt').html(this.ticketNavigationTemplate(ticketNavigation))
                    var threadTab = localStorage.getItem("threadTab");
                    if (threadTab){
                        $('.uv-ticket-action-bar-lt .uv-tabs li').removeClass('uv-tab-active');
                        $('.uv-ticket-action-bar-lt .uv-tabs [data-type="' + threadTab + '"]').addClass('uv-tab-active');
                    }
                    nextView = localStorage.getItem("nextView");
                    if (nextView) {
                        $(".next-view input").val(nextView)
                        $(".next-view .uv-dropdown-btn").text($("#reply .next-view .uv-dropdown-list li[data-value='" + nextView + "']").text())
                    }
                    if (!localStorage.getItem('ticketTour')) {
                        $('.uv-ticket-tour').show()
                    }
                    this.fixHeaderInit();
                },
                printTicket: function(e) {
                    window.print();
                },
                enterManualAdd: function(e) {
                    var target = $(e.target);
                    if (target.val()) {
                        var e = $.Event("keypress");
                        e.which = 13; //choose the one you want
                        target.trigger(e);
                    }
                },
                fixheader: function(e){
                    e.preventDefault();
                    var header = localStorage.getItem("fixHeader");
                    header = !(header == 'true');
                    localStorage.setItem("fixHeader", header);
                    this.fixHeaderInit();
                },
                fixHeaderInit: function(){
                    var header = localStorage.getItem("fixHeader");
                    if (header == 'true') {
                        $('a.uv-icon-pin').addClass('uv-icon-pinned');
                        $('.uv-ticket-action-bar').addClass('uv-ticket-action-bar-fixed');
                    } else {
                        $('a.uv-icon-pin').removeClass('uv-icon-pinned');
                        $('.uv-ticket-action-bar').removeClass('uv-ticket-action-bar-fixed');
                    }
                },
                markSpamAndClosed: function(e) {
                    var currentElement = Backbone.$(e.currentTarget);
                    var value = currentElement.attr('data-index');
                    $(".uv-aside-select .uv-dropdown-list ul.status li[data-index='" + value + "']").trigger('click')
                },
                editTicketProperty: function(e) {
                    var currentElement = Backbone.$(e.currentTarget);
                    var uvSelect = currentElement.parents('.uv-aside-select');
                    var field = currentElement.parent().attr('data-action');
                    var value = currentElement.attr('data-index');
                    if(uvSelect.find('.uv-aside-select-value').attr('data-id') != value) {
                        var name = currentElement.text().trim();
                        app.appView.showLoader();
                        this.model.save({attribute: field, value: value, id: this.model.id}, {
                            patch: true,
                            success: function (model, response, options) {
                                uvSelect.find('.uv-aside-select-value').attr('data-id', value).text(name)
                                if (field == 'priority') {
                                    uvSelect.find('.uv-list-ticket-priority').attr('style', 'background:' + currentElement.attr('data-color'));
                                } else if (field == 'agent') {
                                    $('.uv-ticket-strip .agent-info').show()
                                    $('.uv-ticket-strip .agent-info .name').text(name)
                                }
                                app.appView.hideLoader();
                                app.appView.renderResponseAlert(response);
                            },
                            error: function (model, xhr, options) {
                                if (url = xhr.getResponseHeader('Location'))
                                    window.location = url;
                                var response = warningResponse;
                                if (xhr.responseJSON)
                                    response = xhr.responseJSON;

                                app.appView.hideLoader();
                                app.appView.renderResponseAlert(response);
                            }
                        });
                    }
                },
                showCustomerUpdateBlock: function() {
                    $('.uv-main-info-update-block').show()
                    $('.uv-main-info-block').hide()
                },
                updateStar: function(e) {
                    e.preventDefault();
                    var currentElement = Backbone.$(e.currentTarget);
                    currentElement.toggleClass('uv-star-active')
                    this.model.save({id: this.model.id}, {
                        patch: true,
                        url : "/public/en/member/ticket/bookmark/xhr",
                        success: function (model, response, options) {
                        },
                        error: function (model, xhr, options) {
                            if (url = xhr.getResponseHeader('Location'))
                                window.location = url;
                        }
                    });
                },
                filterThread: function(e) {
                    var currentElement = Backbone.$(e.currentTarget);
                    if(type = currentElement.attr('data-type')) {
                        localStorage.setItem("threadTab", type);
                        if (type != 'all')
                            $('.uv-ticket-main.create').hide()
                        else
                            $('.uv-ticket-main.create').show()
                        $('.uv-ticket-wrapper.thread-list').html('')
                        models = []
                        threadCollection.each(function(model) {
                            models.push(model)
                        })
                        total = threadCollection.models.length;
                        count = 0;
                        if (total) {
                            _.each(models, function (model) {
                                threadCollection.remove(model)
                                count++;
                                if(total == count) {
                                    threadCollection.reset()
                                    threadCollection.state.currentPage = 1;
                                    threadCollection.syncData()
                                }
                            });
                        } else {
                            threadCollection.reset()
                            threadCollection.state.currentPage = 1;
                            threadCollection.syncData()
                        }
                    }
                },
                confirmRemove: function(e) {
                    app.appView.openConfirmModal(this);
                },
                removeItem : function() {
                    if (this.model.attributes.isTrashed)
                        window.location.href = "/public/en/member/ticket/delete/2";
                    else
                        window.location.href = "/public/en/member/ticket/trash/2";
                },
                addCCCollaborators: function() {
                    if (collaboratorCollection.length) {
                        var collaboratorContainer = $('.uv-element-block.collaborators');
                        collaboratorContainer.find('.uv-field-block').html('');
                        collaboratorContainer.show()
                        _.each(collaboratorCollection.models, function (item) {
                            var json = item.attributes;
                            collaboratorContainer.find('.uv-field-block').append("<span><input type='hidden' name='cccol[]' value='" + json.email + "'/><a class='uv-btn-tag' href='#'><span class='uv-icon-remove-dark-before'></span>" + json.name + "</a></span>")
                        }, this);
                    }
                },
                removeCcCollaborator: function(e) {
                    e.preventDefault()
                    Backbone.$(e.currentTarget).parent().remove();
                    var collaboratorContainer = $('.uv-element-block.collaborators');
                    if (!collaboratorContainer.find('.uv-btn-tag').length)
                        collaboratorContainer.hide()
                },
                addToInput: function(e) {
                    var inputElement = Backbone.$(e.currentTarget);
                    var currentTab = inputElement.parents('.uv-tab-view');
                    var email = inputElement.val().trim();
                    if (e.which === 13 && email) {
                        e.preventDefault()
                        if (!this.model.preValidate({name: 'email', email: email})) {
                            inputElement.val('').trigger('input')
                            inputElement.removeClass('uv-dropdown-btn-active')
                            inputElement.siblings('.uv-dropdown-list').hide()
                            if (!currentTab.find(".to-list input[value='" + email + "'].to").length) {
                                currentTab.find('.to-list').append("<span><input type='hidden' name='to[]' value='" + email + "' class='to'/><a class='uv-btn-tag' href='#'><span class='uv-icon-remove-dark-before'></span>" + email + "</span></a></span>")
                            }
                        }
                    }
                },
                addTo: function(e) {
                    var currentTab = Backbone.$(e.currentTarget).parents('.uv-tab-view');
                    var email =  Backbone.$(e.currentTarget).attr('data-id');
                    if (!currentTab.find(".to-list input[value='" + email + "'].to").length) {
                        currentTab.find('.to-list').append("<span><input type='hidden' name='to[]' value='" + email + "' class='to'/><a class='uv-btn-tag' href='#'><span class='uv-icon-remove-dark-before'></span>" + email + "</span></a></span>")
                    }
                },
                showCcBccBlock: function(e) {
                    var currentElement = Backbone.$(e.currentTarget);
                    var currentTab = currentElement.parents('.uv-tab-view');
                    if (currentElement.is(':checked')) {
                        currentTab.find('.uv-element-block.cc-bcc').find('.uv-field-block').show()
                    } else {
                        currentTab.find('.uv-element-block.cc-bcc').find('.uv-field-block').hide()
                        currentTab.find('.uv-element-block .cc-bcc-list').html('')
                    }
                },
                addCcBccInput: function(e) {
                    var inputElement = Backbone.$(e.currentTarget);
                    var currentTab = inputElement.parents('.uv-tab-view');
                    var email = inputElement.val().trim();
                    if (e.which === 13 && email) {
                        e.preventDefault()
                        type = currentTab.find('.cc-bcc-select option:selected').text()
                        if (!this.model.preValidate({name: 'email', email: email})) {
                            inputName = $('.cc-bcc-select').val()
                            inputElement.val('').trigger('input')
                            inputElement.removeClass('uv-dropdown-btn-active')
                            inputElement.siblings('.uv-dropdown-list').hide()
                            if (!currentTab.find(".cc-bcc-list input[value='" + email + "']." + inputName).length) {
                                currentTab.find('.cc-bcc-list').append("<span><input type='hidden' name='" + inputName + "[]' value='" + email + "' class='" + inputName + "'/><a class=uv-btn-tag uv-lowercase' href='#'><span class='uv-icon-remove-dark-before'></span>" + email + " : <span class='uv-uppercase'>" + type + "</span></a></span>")
                            }
                        }
                    }
                },
                addCcBcc: function(e) {
                    var currentTab = Backbone.$(e.currentTarget).parents('.uv-tab-view');
                    var email =  Backbone.$(e.currentTarget).attr('data-id');
                    type = currentTab.find('.cc-bcc-select option:selected').text()
                    inputName = currentTab.find('.cc-bcc-select').val()
                    if (!currentTab.find(".cc-bcc-list input[value='" + email + "']." + inputName).length) {
                        currentTab.find('.uv-element-block.cc-bcc .uv-group-field.uv-dropdown-other').val('').trigger('input')
                        currentTab.find('.cc-bcc-list').append("<span><input type='hidden' name='" + inputName + "[]' value='" + email + "' class='" + inputName + "'/><a class=uv-btn-tag uv-lowercase' href='#'><span class='uv-icon-remove-dark-before'></span>" + email + " : <span class='uv-uppercase'>" + type + "</span></a></span>")
                    }
                },
                removeEmail: function(e) {
                    e.preventDefault()
                    Backbone.$(e.currentTarget).parent().remove();
                },
                setNextView: function(e) {
                    var currentElement = Backbone.$(e.currentTarget);
                    var nextView = currentElement.attr('data-value');
                    localStorage.setItem("nextView", nextView);
                    $(".next-view input").val(nextView)
                    $(".next-view .uv-dropdown-btn").text(currentElement.text())
                },
                validateForm : function(e) {
                    e.preventDefault();
                    var element = Backbone.$(e.currentTarget);
                    formType = element.parents('.uv-tab-view.uv-tab-view-active').attr('id');
                    form = element.parents('form');
                    form.find('.reply-status').val(element.attr('data-id'));
                    form.find('.uv-field-message').remove()

                    var html = tinyMCE.get(formType + "-area").getContent();
                    if (app.appView.htmlText(html) != '' || -1 != html.indexOf('<img')) {
                        if (formType == 'forward') {
                            if (!form.find(".to-list input.to").length) {
                                $('.uv-element-block.to').append("<span class='uv-field-message'>This field is mandatory</span>")
                            } else {
                                this.stopDraftSaveFlag = 1;

                                app.appView.showLoader();
                                tinyMCE.activeEditor.uploadImages(function(response) {
                                    app.appView.hideLoader();

                                    form.submit();
                                    $('.uv-btn.forward').attr('disabled', 'disabled');
                                });
                            }
                        } else {
                            this.stopDraftSaveFlag = 1;
                            if (localStorage) {
                                localStorage.setItem("threadTab", "all");
                            }

                            app.appView.showLoader();
                            tinyMCE.activeEditor.uploadImages(function(response) {
                                app.appView.hideLoader();

                                form.submit();
                                $('.uv-dropdown.reply').find('.uv-btn').attr('disabled', 'disabled');
                            });
                        }
                    } else {
                        form.find('.uv-element-block-textarea').append("<span class='uv-field-message'>This field is mandatory</span>");
                        if (formType == 'forward') {
                            if(!form.find(".to-list input.to").length) {
                                $('.uv-element-block.to').append("<span class='uv-field-message'>This field is mandatory</span>")
                            }
                        }
                    }
                },
                updateTicket: function(e) {
                    e.preventDefault();
                    this.model.set($('#edit-ticket-modal form').serializeObject());
                    if (this.model.isValid(['subject', 'reply'])) {
                        $('#edit-ticket-modal form').find('.uv-btn').attr('disabled', 'disabled');
                        $('#edit-ticket-modal form').submit();
                    }
                },
                showReplyQuote: function(e) {
                    Backbone.$(e.currentTarget).next().toggle();
                },
                searchFilterXhr: _.debounce(function(e) {
                    currentElement = Backbone.$(e.currentTarget);
                    var parent = currentElement.parent();
                    if ($('.uv-dropdown-other.uv-dropdown-btn-active').parent().attr('id') != parent.attr('id'))
                        return;
                    parent.find("li:not(.uv-no-results, .uv-filter-info)").remove();
                    parent.find(".uv-filter-info").show()
                    if (currentElement.val().length > 1) {
                        parent.append(this.loaderTemplate())
                        parent.find('.uv-filter-info').text("Searching ...")
                        if(self.xhrReq)
                            self.xhrReq.abort();

                        self.xhrReq = $.ajax({
                            url : "/public/en/member/ticket/search-filter-options",
                            type : 'GET',
                            data: {"type" : currentElement.attr('data-type'), "query": currentElement.val()},
                            dataType : 'json',
                            success : function(response) {
                                self.xhrReq = 0;
                                parent.find('.uv-loader').remove()
                                parent.find('.uv-filter-info').text("Type at least 2 letters").hide();
                                if (response.length == 0) {
                                    parent.find('.uv-no-results').show();
                                    parent.find('.uv-no-results').disabled = true;
                                } else {
                                    parent.find('.uv-no-results').hide();
                                    _.each(response, function(item) {
                                        parent.find('.uv-dropdown-list ul').append("<li data-id='" + item.id + "'>" + item.name + "</li>")
                                    });
                                }
                            },
                            error: function (xhr) {
                                self.xhrReq = 0;
                                parent.find('.uv-loader').remove()
                                parent.find('.uv-no-results').hide();
                                parent.find('.uv-filter-info').text("Type at least 2 letters").show();

                                if (url = xhr.getResponseHeader('Location'))
                                    window.location = url;
                            }
                        });
                    } else {
                        parent.find('.uv-no-results').hide();
                    }
                },1000)
            });

            // Ticket Thread View
            var ThreadItem = Backbone.View.extend({
                tagName : "div",
                className : "uv-ticket-main",
                template : _.template($("#thread_list_item_tmp").html()),
                editThreadTemplate : _.template($("#edit_thread_tmp").html()),
                events : {
                    'click .uv-thread-action .uv-dropdown-list li[data-action="delete"]': 'confirmRemove',
                    'click .uv-thread-action .uv-dropdown-list li[data-action="lock"]': 'lockAndUnlockThread',
                    'click .uv-thread-action .uv-dropdown-list li[data-action="pin"]': 'pinThread',
                    'click .uv-thread-action .uv-dropdown-list li[data-action="mark"]': 'markForTask',
                    'click .uv-thread-action .uv-dropdown-list li[data-action="forward"]' : 'forwardThread',
                    'click .uv-thread-action .uv-dropdown-list li[data-action="edit"]' : 'editThread',
                    'click .uv-btn.cancel-edit' : 'cancelEdit',
                    'click .uv-btn.saveThread' : 'updateThread',
                    'click .copy-thread-link' : 'copyThreadLink',
                    'blur .input-copy-thread-link': 'removeCopyThreadLink'
                },
                render : function () {
                    this.$el.html(this.template(this.model.toJSON()));

                    this.$el.addClass("thread-" + this.model.id)
                    if (this.model.attributes.threadType == 'note')
                        this.$el.addClass('uv-ticket-note')
                    return this;
                },
                unrender : function(response) {
                    if(response.alertMessage != undefined) {
                        var self = this;
                                                threadCollection.models = threadCollection.models.filter(thread => {
                            if(thread.id == self.model.id) {
                                return false;
                            }

                            return true;
                        });
                        this.remove();
                        threadCollection.syncData();
                        app.appView.renderResponseAlert(response);
                    }
                },
                confirmRemove: function(e) {
                    app.appView.openConfirmModal(this);
                },
                removeItem : function() {
                    self = this;
                    var index = threadIds.indexOf(this.model.id);
                    if (index > -1)
                        threadIds.splice(index, 1);
                    app.appView.showLoader();
                    this.model.destroy({
                        url : "/public/en/member/threads/ajax/action/" + this.model.id,
                        data : { 'ticketId' : ticketModel.attributes.id },
                        success : function (model, response, options) {
                            app.appView.hideLoader();
                            self.unrender(response);
                        },
                        error: function (model, xhr, options) {
                            if(url = xhr.getResponseHeader('Location'))
                                window.location = url;
                            var response = warningResponse;
                            if(xhr.responseJSON)
                                response = xhr.responseJSON;

                            app.appView.hideLoader();
                            app.appView.renderResponseAlert(response);
                        }
                    });
                },
                lockAndUnlockThread :function(e) {
                    self = this;
                    currentElement = Backbone.$(e.currentTarget);
                    var isLocked = 0;
                    if(this.model.get('isLocked')) {
                        this.model.set('isLocked', 0);
                        currentElement.attr('data-id', isLocked).text("Lock Thread");
                    } else {
                        isLocked = 1;
                        this.model.set('isLocked', 1);
                        currentElement.attr('data-id', isLocked).text("Unlock Thread");
                    }
                    app.appView.showLoader();
                    this.model.save({
                        isLocked: isLocked,
                        id: this.model.id,
                        ticketId: ticketModel.attributes.id,
                        updateType: 'lock'
                    }, {
                        patch: true,
                        url : "/public/en/member/threads/ajax/action/" + this.model.id,
                        success : function (model, response, options) {
                            self.toggleThreadPropertyIcon()
                            app.appView.hideLoader();
                            app.appView.renderResponseAlert(response);
                        },
                        error: function (model, xhr, options) {
                            if(url = xhr.getResponseHeader('Location'))
                                window.location = url;
                            var response = warningResponse;
                            if(xhr.responseJSON)
                                response = xhr.responseJSON;

                            app.appView.hideLoader();
                            app.appView.renderResponseAlert(response);
                        }
                    });
                },
                pinThread :function(e) {
                    self = this;
                    currentElement = Backbone.$(e.currentTarget);
                    var bookmark = 0;
                    if(this.model.get('bookmark')) {
                        this.model.set('bookmark', 0);
                        currentElement.attr('data-id', bookmark).text("Pin Thread");
                    } else {
                        bookmark = 1;
                        this.model.set('bookmark', 1);
                        currentElement.attr('data-id', bookmark).text("Unpin Thread");
                    }
                    app.appView.showLoader();
                    this.model.save({
                        bookmark: bookmark,
                        id: this.model.id,
                        ticketId: ticketModel.attributes.id,
                        updateType: 'bookmark'
                    }, {
                        patch: true,
                        url : "/public/en/member/threads/ajax/action/" + this.model.id,
                        success : function (model, response, options) {
                            self.toggleThreadPropertyIcon()
                            app.appView.hideLoader();
                            app.appView.renderResponseAlert(response);
                        },
                        error: function (model, xhr, options) {
                            if(url = xhr.getResponseHeader('Location'))
                                window.location = url;
                            var response = warningResponse;
                            if(xhr.responseJSON)
                                response = xhr.responseJSON;

                            app.appView.hideLoader();
                            app.appView.renderResponseAlert(response);
                        }
                    });
                },
                forwardThread : function(e) {
                    var element = Backbone.$(e.currentTarget);
                    tinymce.get('forward-area').setContent(this.model.attributes.reply);
                    $('#forward-area').parent().find('img').removeAttr('crossorigin');
                    $(".uv-tabs li[for='forward']").trigger('click');

                    $('.uv-ticket-scroll-region').animate({
                        scrollTop: $('#default').outerHeight()
                    }, 'slow');
                },
                cancelEdit : function(e) {
                    this.initEditThread();
                    tinymce.get('uv-edit-thread').destroy()
                },
                editThread : function(e) {
                    $('.thread-edit-container .cancel-edit').trigger('click');
                    this.initEditThread();
                    this.$el.find('.message').hide().after(this.editThreadTemplate());
                    this.$el.find('.uv-ticket-uploads').hide()

                    InitTinyMce('#uv-edit-thread');
                    tinymce.get('uv-edit-thread').setContent(this.model.attributes.reply);
                    this.$el.find('img').removeAttr('crossorigin');
                },
                initEditThread: function() {
                    $('.thread-edit-container').remove();
                    messageElement = this.$el.find('.message');
                    messageElement.show();
                    this.$el.find('.uv-ticket-uploads').show()
                },
                updateThread : function(e) {
                    e.preventDefault();
                    var currentElement = Backbone.$(e.currentTarget);
                    parent = currentElement.parents('.thread-edit-container')
                    parent.find('.uv-field-message').remove()

                    var html = tinyMCE.get("uv-edit-thread").getContent();
                    if(app.appView.stripHTML(html) != '') {
                        var self = this;
                        currentElement.attr("disabled", "disabled");
                        this.model.set('reply', html);
                        app.appView.showLoader()
                        this.model.save({}, {
                            url : "/public/en/member/threads/update/" + this.model.id,
                            success : function (model, response, options) {
                                app.appView.hideLoader()
                                messageElement = self.$el.find('.message');
                                if(response.alertClass == 'success') {
                                    messageElement.html(self.model.attributes.reply).show();
                                    messageElement.find('.uv-icon-ellipsis').remove();
                                    messageElement.find('.helpdesk_blockquote').eq(0).before("<span class='uv-icon-ellipsis uv-ellipsis-mirror'></span>").hide();
                                }

                                self.initEditThread();
                                tinymce.get('uv-edit-thread').destroy()
                                app.appView.renderResponseAlert(response);
                            },
                            error: function (model, xhr, options) {
                                self.initEditThread();
                                tinymce.get('uv-edit-thread').destroy()
                                if(url = xhr.getResponseHeader('Location'))
                                    window.location = url;
                                var response = warningResponse;
                                if(xhr.responseJSON)
                                    response = xhr.responseJSON;
                                app.appView.hideLoader()
                                app.appView.renderResponseAlert(response);
                            }
                        });
                    } else {
                        this.$el.find('.uv-element-block-textarea').append("<span class='uv-field-message'>This field is mandatory</span>");
                    }
                },
                toggleCreateTaskBar : function() {
                    if(threadIds.length) {
                        $("#uv-task-view").css('right', '0px');
                        $("#uv-task-view .uv-create-task").show()
                        $("#uv-task-view .uv-task-list").hide()
                    } else {
                        $("#uv-task-view").css('right', '-300px');
                        $("#uv-task-view .uv-create-task").hide()
                        $("#uv-task-view .uv-task-list").show()
                    }
                },
                copyThreadLink: function(e){
                    _.delay(function(){
                        $(e.currentTarget).before('<input type="text" class="input-copy-thread-link uv-field" value="' + window.location.href + '"/>');
                        $(e.currentTarget).prev().focus().select();
                    }, 100);
                },
                removeCopyThreadLink: function(e){
                    $(e.currentTarget).remove();
                },
                toggleThreadPropertyIcon: function(e) {
                    if(jQuery.inArray(this.model.id, threadIds) !== -1 || this.model.get('bookmark') || this.model.get('isLocked')) {
                        this.$el.find('.uv-icon-pinned').parents('.uv-ticket-strip').show()
                    } else {
                        this.$el.find('.uv-icon-pinned').parents('.uv-ticket-strip').hide()
                    }

                    if(jQuery.inArray(this.model.id, threadIds) !== -1)
                        this.$el.find('.uv-icon-marked-task').parent().show()
                    else
                        this.$el.find('.uv-icon-marked-task').parent().hide()

                    if(this.model.get('bookmark'))
                        this.$el.find('.uv-icon-pinned').parent().show()
                    else
                        this.$el.find('.uv-icon-pinned').parent().hide()

                    if(this.model.get('isLocked'))
                        this.$el.find('.uv-icon-locked').parent().show()
                    else
                        this.$el.find('.uv-icon-locked').parent().hide()
                }
            });

            // Ticket Thread List
            var ThreadList = Backbone.View.extend({
                el : $(".thread-list"),
                initialize : function() {
                    this.listenTo(threadCollection.fullCollection, "add", this.renderThread);
                },
                renderThread : function (item) {
                    var threadItem = new ThreadItem({
                        model: item
                    });
                    if(item.id < threadCollection.fullCollection.at(0).id)
                        this.$el.prepend(threadItem.render().el);
                    else
                        this.$el.append(threadItem.render().el);
                    threadItem.$el.find('.helpdesk_blockquote').eq(0).before("<span class='uv-icon-ellipsis uv-ellipsis-mirror'></span>").hide();
                    //emojifyRun();
                    this.$el.find('img').removeAttr('crossorigin');
                    this.$el.find('div.message a').attr('target', '_blank');
                    app.appView.relativeTime();
                }
            });

            // Ticket Pagination View
            var Pagination = Backbone.View.extend({
                el: $('.uv-ticket-accordion'),
                events: {
                    'click .uv-ticket-count-stat': 'loadMore',
                },
                renderPagination: function(pagination) {
                    if(pagination.totalCount - pagination.lastItemNumber > 0 && pagination.lastItemNumber > 0) {
                        var remain = pagination.totalCount - pagination.lastItemNumber;
                        $('.uv-ticket-count-stat').text(remain)
                        $('.uv-ticket-accordion').removeClass('uv-ticket-accordion-expanded').removeClass('uv-ticket-accordion-no-count')
                    } else {
                        $('.uv-ticket-accordion').addClass('uv-ticket-accordion-expanded').addClass('uv-ticket-accordion-no-count')
                    }
                },
                loadMore: function() {
                    threadCollection.syncData();
                }
            });

            // Ticket collaborator Item View
            var CollaboratorItem = Backbone.View.extend({
                tagName : "a",
                className: 'uv-btn-tag',
                template : _.template("<span class='uv-tag'><span class='uv-icon-remove-dark-before'></span><%- name %></span>"),
                events : {
                    'click .uv-tag' : 'confirmRemove'
                },
                render : function () {
                    this.$el.html(this.template(this.model.toJSON()));
                    return this;
                },
                unrender : function(response) {
                    if(response.alertMessage != undefined) {
                        app.appView.renderResponseAlert(response);
                    }
                },
                removeItem: function() {
                                            self = this;
                        app.appView.showLoader();
                        this.model.destroy({
                            data : { 'ticketId' : this.model.attributes.ticketId },
                            success : function (model, response, options) {
                                app.appView.hideLoader();
                                self.$el.remove();
                                self.unrender(response);
                            },
                            error: function (model, xhr, options) {
                                if(url = xhr.getResponseHeader('Location'))
                                    window.location = url;
                                var response = warningResponse;
                                if(xhr.responseJSON)
                                    response = xhr.responseJSON;

                                app.appView.hideLoader();
                                app.appView.renderResponseAlert(response);
                            }
                        });
                                    },
                confirmRemove: function(e) {
                    e.preventDefault();
                                            app.appView.openConfirmModal(this);
                                    }
            });

            // Ticket Collaborator View
            var CollaboratorList = Backbone.View.extend({
                el : $(".collaborator-list-block"),
                events : {
                    'keypress .uv-field' : 'addCollaborator',
                    'focusout .uv-field' : 'removeErrorClass'
                },
                initialize : function() {
                    //Backbone.Validation.bind(this);
                },
                render : function() {
                    this.$el.find(".collaborator-list").html('');
                    var self = this;
                    collaboratorOptionHtml = '';

                    if(collaboratorCollection.length) {
                        _.each(collaboratorCollection.models, function (item) {
                            this.renderCollaborator(item);
                        }, this);
                    }
                    ticketView.addCCCollaborators()
                },
                renderCollaborator : function (item) {
                    var collaborator = new CollaboratorItem({
                        model: item
                    });
                    this.$el.find('.collaborator-list').append(collaborator.render().el);
                },
                removeErrorClass: function(e) {
                    var inputElement = Backbone.$(e.currentTarget);
                    inputElement.removeClass('uv-field-error');
                    inputElement.parents('.uv-element-block').find('.uv-field-message').remove()
                },
                addCollaborator : function(e) {
                                            var inputElement = Backbone.$(e.currentTarget);
                        inputElement.removeClass('uv-field-error');
                        inputElement.parents('.uv-element-block').find('.uv-field-message').remove()
                        var text = inputElement.val().trim();

                        if (e.which === 13 && text) {
                            this.model = new CollaboratorModel();
                            self = this;
                            this.model.set({email: text})

                            if(this.model.isValid(true)) {
                                app.appView.showLoader();
                                this.model.save({},{
                                    success : function (model, response, options) {
                                        inputElement.val('');
                                        if(response.alertClass == "success") {
                                            collaboratorCollection.add(model);
                                        }
                                        self.render();
                                        app.appView.hideLoader();
                                        app.appView.renderResponseAlert(response);
                                    },
                                    error: function (model, xhr, options) {
                                        if(url = xhr.getResponseHeader('Location'))
                                            window.location = url;
                                        var response = warningResponse;
                                        if(xhr.responseJSON)
                                            response = xhr.responseJSON;

                                        app.appView.hideLoader();
                                        app.appView.renderResponseAlert(response);
                                    }
                                });
                            } else {
                                inputElement.addClass('uv-field-error');
                                if(text)
                                    inputElement.parents('.uv-element-block').append("<span class='uv-field-message'>Email address is invalid</span>");
                            }
                        }
                                    }
            });


            // Ticket Tag Item View
            var TagItem = Backbone.View.extend({
                tagName : "a",
                className : "uv-btn-tag",
                template : _.template("<span class='uv-tag'><span class='uv-icon-remove-dark-before'></span><%- name %></span>"),
                events : {
                    'click .uv-tag' : "confirmRemove"
                },
                render : function () {
                    this.$el.html(this.template(this.model.toJSON()));

                    return this;
                },
                unrender : function(response) {
                    if(response.alertMessage != undefined) {
                        tagListView.render();
                        app.appView.renderResponseAlert(response);
                    }
                },
                removeItem : function () {
                                        self = this;
                    app.appView.showLoader();
                    this.model.destroy({
                        data : { 'ticketId' : ticketModel.id } ,
                        success : function (model, response, options) {
                            app.appView.hideLoader();
                            self.$el.remove();
                            self.unrender(response);
                        },
                        error: function (model, xhr, options) {
                            if(url = xhr.getResponseHeader('Location'))
                                window.location = url;
                            var response = warningResponse;
                            if(xhr.responseJSON)
                                response = xhr.responseJSON;

                            app.appView.hideLoader();
                            app.appView.renderResponseAlert(response);
                        }
                    });
                                    },
                confirmRemove: function(e) {
                    e.preventDefault();
                                            app.appView.openConfirmModal(this)
                                    }
            });

            // Ticket Tag View
            var TagList = Backbone.View.extend({
                el : $(".tag-list-block"),
                events : {
                    'keypress .uv-field' : 'addTag',
                    'focusout .uv-field' : 'removeErrorClass',
                    'click .uv-dropdown-list li': 'addTag'
                },
                render : function() {
                    var self = this;
                    this.$el.find(".tag-list").html('');
                    if (tagCollection.length) {
                        _.each(tagCollection.models, function (item) {
                            this.renderTag(item);
                        }, this);
                    }
                },
                renderTag : function (item) {
                    var tag = new TagItem({
                        model: item
                    });
                    this.$el.find('.tag-list').append(tag.render().el);
                },
                addTag : function(e) {
                                            var currentElement = Backbone.$(e.currentTarget);
                        if (currentElement.is('li')) {
                            var inputElement = currentElement.parents('.uv-field-block').find('.uv-dropdown-other');
                            var text = currentElement.text().trim();
                        } else {
                            var inputElement = currentElement;
                            var text = inputElement.val().trim();
                        }
                        inputElement.removeClass('uv-field-error');
                        inputElement.parents('.uv-element-block').find('.uv-field-message').remove()

                        if (currentElement.is('li') || (e.which === 13 && text)) {
                            if (text.length <= 20) {
                                if (tagCollection.isTagExist(text)) {
                                    var self = this;
                                    inputElement.val('');
                                    this.model = new TagModel();
                                    this.model.set({name:text});
                                    self = this;

                                    app.appView.showLoader();
                                    this.model.save({}, {
                                        success: function (model, response, options) {
                                            inputElement.parent().find("li:not(.uv-no-results)").remove()
                                            inputElement.parent().find(".uv-no-results").show()
                                            if (!currentElement.is('li')) {
                                                inputElement.trigger('click')
                                            }
                                            if (response.alertClass == "success") {
                                                tagCollection.add(model);
                                                self.render();
                                            }

                                            app.appView.hideLoader();
                                            app.appView.renderResponseAlert(response);
                                        },
                                        error: function (model, xhr, options) {
                                            if (url = xhr.getResponseHeader('Location'))
                                                window.location = url;
                                            var response = warningResponse;
                                            if (xhr.responseJSON)
                                                response = xhr.responseJSON;

                                            app.appView.hideLoader();
                                            app.appView.renderResponseAlert(response);
                                        }
                                    });
                                } else {
                                    inputElement.addClass('uv-field-error');
                                    inputElement.parents('.uv-element-block').append("<span class='uv-field-message'>Tag with this name already exist</span>");
                                }
                            } else {
                                inputElement.addClass('uv-field-error');
                                inputElement.parents('.uv-element-block').append("<span class='uv-field-message'>Must be less than 20 characters</span>");
                            }
                        }
                                    },
                removeErrorClass: function(e) {
                    var inputElement = Backbone.$(e.currentTarget);
                    inputElement.removeClass('uv-field-error');
                    inputElement.parents('.uv-element-block').find('.uv-field-message').remove()
                },
            });

            // Ticket Label Item View
            var LabelItem = Backbone.View.extend({
                tagName : "a",
                className : "uv-btn-label",
                template : _.template("<span class='uv-tag'><span class='uv-icon-remove-before'></span><%- name %></span>"),
                events : {
                    'click .uv-tag' : "confirmRemove"
                },
                render : function () {
                    this.$el.html(this.template(this.model.toJSON()));

                    return this;
                },
                unrender : function(response) {
                    if (response.alertMessage != undefined) {
                        labelListView.render();
                        app.appView.renderResponseAlert(response);
                    }
                },
                removeItem : function () {
                    self = this;
                    app.appView.showLoader();

                    this.model.destroy({
                        url : "/public/en/member/ticket/update/attributes",
                        data : { attribute :'label', 'ticketId': ticketModel.id, 'labelId': this.model.get('id') },
                        success : function (model, response, options) {
                            app.appView.hideLoader();
                            self.$el.remove();
                            self.unrender(response);
                        },
                        error: function (model, xhr, options) {
                            if (url = xhr.getResponseHeader('Location'))
                                window.location = url;
                            var response = warningResponse;
                            if (xhr.responseJSON)
                                response = xhr.responseJSON;

                            app.appView.hideLoader();
                            app.appView.renderResponseAlert(response);
                        }
                    });
                },
                confirmRemove: function(e) {
                    e.preventDefault();
                    app.appView.openConfirmModal(this)
                }
            });

            // Ticket Label View
            var LabelList = Backbone.View.extend({
                el: $(".label-list-block"),
                events: {
                    'keypress .uv-field' : 'addLabel',
                    'focusout .uv-field' : 'removeErrorClass',
                    'click .uv-dropdown-list li': 'addLabel'
                },
                render : function() {
                    var self = this;
                    this.$el.find(".label-list").html('');
                    if (labelCollection.length) {
                        _.each(labelCollection.models, function (item) {
                            this.renderLabel(item);
                        }, this);
                    }
                },
                renderLabel : function (item) {
                    var label = new LabelItem({
                        model: item
                    });
                    lavelItem = label.render().el;
                    $(lavelItem).attr('style', 'background:' + item.attributes.color)
                    this.$el.find('.label-list').append(lavelItem);
                },
                addLabel : function(e) {
                    var currentElement = Backbone.$(e.currentTarget);
                    if (currentElement.is('li')) {
                        var inputElement = currentElement.parents('.uv-field-block').find('.uv-dropdown-other');
                        var text = currentElement.text().trim();
                    } else {
                        var inputElement = currentElement;
                        var text = inputElement.val().trim();
                    }
                    inputElement.removeClass('uv-field-error');
                    inputElement.parents('.uv-element-block').find('.uv-field-message').remove()

                    if (currentElement.is('li') || (e.which === 13 && text)) {
                        if (text.length <= 20) {
                            if (labelCollection.isLabelExist(text)) {
                                var self = this;
                                inputElement.val('');
                                this.model = new LabelModel();
                                this.model.set({name:text});
                                self = this;

                                app.appView.showLoader();
                                this.model.save({}, {
                                    success: function (model, response, options) {
                                        inputElement.parent().find("li:not(.uv-no-results)").remove()
                                        inputElement.parent().find(".uv-no-results").show()
                                        if (!currentElement.is('li')) {
                                            inputElement.trigger('click')
                                        }
                                        if (response.alertClass == "success") {
                                            labelCollection.add(model);
                                            self.render();
                                        }

                                        app.appView.hideLoader();
                                        app.appView.renderResponseAlert(response);
                                    },
                                    error: function (model, xhr, options) {
                                        if (url = xhr.getResponseHeader('Location'))
                                            window.location = url;
                                        var response = warningResponse;
                                        if (xhr.responseJSON)
                                            response = xhr.responseJSON;

                                        app.appView.hideLoader();
                                        app.appView.renderResponseAlert(response);
                                    }
                                });
                            } else {
                                inputElement.addClass('uv-field-error');
                                inputElement.parents('.uv-element-block').append("<span class='uv-field-message'>Label with same name already exist</span>");
                            }
                        } else {
                            inputElement.addClass('uv-field-error');
                            inputElement.parents('.uv-element-block').append("<span class='uv-field-message'>Must be less than 20 characters</span>");
                        }
                    }
                },
                removeErrorClass: function(e) {
                    var inputElement = Backbone.$(e.currentTarget);
                    inputElement.removeClass('uv-field-error');
                    inputElement.parents('.uv-element-block').find('.uv-field-message').remove()
                },
            });

            // Ticket Router
            var Router = Backbone.Router.extend({
                routes: {
                    'thread/:thread' : 'threadRequestedId'
                },
                threadRequestedId: function(thread){
                    threadCollection.threadRequestedId = thread;
                },
                scrollPage : function(divId) {
                    if ($(divId).length){
                        $('li a[href="'+divId+'"]').trigger('click');
                        $('.uv-ticket-scroll-region').animate({
                            scrollTop: $(divId).offset().top
                        }, 'slow');
                    } else if (divId == '#') { //scroll to last thread added
                        if (threadCollection.fullCollection.length)
                            this.scrollPage('#thread' + threadCollection.fullCollection.at(0).id);
                    }
                }
            });

            var customerForm = new CustomerForm({
                el : $(".uv-main-info-update-block"),
                model : new CustomerModel()
            });

            var ticketNavigation = $.parseJSON('{"next":1,"prev":0}');

            var ticketModel = new TicketModel({
                id : "2",
                status : "1",
                priority : "1",
                group : "",
                subGroup : "",
                agent : "",
                profileImage : "",
                isTrashed : ""
            });

            ticketApp.ticketView = ticketView = new TicketView({
                model: ticketModel
            });

            uvdesk.ticket.model = ticketModel;

            threadCollection = new ThreadCollection();
            var threadList = new ThreadList();
            var pagination = new Pagination();

            var collaboratorCollection = new CollaboratorCollection($.parseJSON('[{"id":3,"email":"seyiidowu24@yahoo.com","name":"test agent","profileImagePath":null,"smallThumbnail":null}]'));
            var collaboratorList = new CollaboratorList();
            collaboratorList.render();

            var tagCollection = new TagCollection($.parseJSON('[]'));
            var tagListView = new TagList();
            tagListView.render();

            var labelCollection = new LabelCollection($.parseJSON('[]'));
            var labelListView = new LabelList();
            labelListView.render();

            var router = new Router();
            Backbone.history.start({push_state:true});

            threadCollection.syncData();
        });
    </script>

    <script>
        var sfTinyMceNew = $.extend({}, sfTinyMce);
        var toolbarOptions = sfTinyMce.options.toolbar;

        sfTinyMce.init({
            selector : '.uv-ticket-reply textarea',
            toolbar: toolbarOptions + ' | translate',
            mentions : getMentions(),
            images_upload_url: "",
            setup: function(editor) {
                editor.on('keydown', function(e) { /** for pageup, pagedown keys **/
                    if(e.keyCode == 34 || e.keyCode == 33){
                        e.preventDefault();
                    }
                });
                addTranslateButton(editor);
            }
        });

        function InitTinyMce(selector) {
            let sfTinyMceNew2 = $.extend({}, sfTinyMceNew);
            sfTinyMceNew2.init({
                selector : selector,
                mentions : getMentions(),
                setup: function(editor) {
                    addTranslateButton(editor);
                }
            });
        }

        function getMentions(){
            return {
                delimiter: ['#'],
                items: 15,
                source: function(){
                    return [
                        {
                            name : "Ticket Id",
                            value : "2",
                        },
                        {
                            name : "Subject",
                            value : "test again",
                        },
                        {
                            name : "Status",
                            value : "Open",
                        },
                        {
                            name : "Priority",
                            value : "Low",
                        },
                        {
                            name : "Type",
                            value : "Support",
                        },
                        {
                            name : "Group",
                            value : "Not Assigned",
                        },
                        {
                            name : "Team",
                            value : "Not Assigned",
                        },
                        {
                            name : "Customer Name",
                            value : "test user 1",
                        },
                        {
                            name : "Customer Email",
                            value : "test@user.com",
                        },
                        {
                            name : "Agent Name",
                            value : "Not Assigned",
                        },
                        {
                            name : "Agent Email",
                            value : "Not Assigned",
                        }
                    ];
                },
                insert: function(item) {
                    return '<span>' + item.value + '</span>';
                }
            };
        }
    </script>

                            <script src="/public/bundles/uvdeskcoreframework/js/tickets/quick-actions/saved-replies.js" type="text/javascript"></script>
                    <script src="/public/bundles/uvdeskautomation/js/tickets/quick-actions/prepared-responses.js" type="text/javascript"></script>

<div id="sfwdt999849" class="sf-toolbar sf-display-none" role="region" aria-label="Symfony Web Debug Toolbar">    <!-- START of Symfony Web Debug Toolbar --><div id="sfMiniToolbar-999849" class="sf-minitoolbar" data-no-turbolink data-turbo="false">    <button type="button" title="Show Symfony toolbar" id="sfToolbarMiniToggler-999849" accesskey="D" aria-expanded="false" aria-controls="sfToolbarMainContent-999849">        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#AAA" d="M12 .9C5.8.9.9 5.8.9 12a11 11 0 1 0 22.2 0A11 11 0 0 0 12 .9zm6.5 6c-.6 0-.9-.3-.9-.8 0-.2 0-.4.2-.6l.2-.4c0-.3-.5-.4-.6-.4-1.8.1-2.3 2.5-2.7 4.4l-.2 1c1 .2 1.8 0 2.2-.3.6-.4-.2-.7-.1-1.2.1-.3.5-.5.7-.6.5 0 .7.5.7.9 0 .7-1 1.8-3 1.8l-.6-.1-.6 2.4c-.4 1.6-.8 3.8-2.4 5.7-1.4 1.7-2.9 1.9-3.5 1.9-1.2 0-1.9-.6-2-1.5 0-.8.7-1.3 1.2-1.3.6 0 1.1.5 1.1 1s-.2.6-.4.6c-.1.1-.3.2-.3.4 0 .1.1.3.4.3.5 0 .8-.3 1.1-.5 1.2-.9 1.6-2.7 2.2-5.7l.1-.7.7-3.2c-.8-.6-1.3-1.4-2.4-1.7-.6-.1-1.1.1-1.5.5-.4.5-.2 1.1.2 1.5l.7.6c.7.8 1.2 1.6 1 2.5-.3 1.5-2 2.6-4 1.9-1.8-.6-2-1.8-1.8-2.5.2-.6.6-.7 1.1-.6.5.2.6.7.6 1.2l-.1.3c-.2.1-.3.3-.3.4-.1.4.4.6.7.7.7.3 1.6-.2 1.8-.8a1 1 0 0 0-.4-1.1l-.7-.8c-.4-.4-1.1-1.4-.7-2.6.1-.5.4-.9.7-1.3a4 4 0 0 1 2.8-.6c1.2.4 1.8 1.1 2.6 1.8.5-1.2 1-2.4 1.8-3.5.9-.9 1.9-1.6 3.1-1.7 1.3.2 2.2.7 2.2 1.6 0 .4-.2 1.1-.9 1.1z"/></svg>    </button></div><div id="sfToolbarClearer-999849" class="sf-toolbar-clearer"></div><div id="sfToolbarMainContent-999849" class="sf-toolbarreset clear-fix" data-no-turbolink data-turbo="false">                                                    <div class="sf-toolbar-block sf-toolbar-block-request sf-toolbar-status-normal " >    <a href="http://localhost:8888/public/_profiler/999849?panel=request">        <div class="sf-toolbar-icon">        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#AAA" d="M12 .9C5.8.9.9 5.8.9 12a11 11 0 1 0 22.2 0A11 11 0 0 0 12 .9zm6.5 6c-.6 0-.9-.3-.9-.8 0-.2 0-.4.2-.6l.2-.4c0-.3-.5-.4-.6-.4-1.8.1-2.3 2.5-2.7 4.4l-.2 1c1 .2 1.8 0 2.2-.3.6-.4-.2-.7-.1-1.2.1-.3.5-.5.7-.6.5 0 .7.5.7.9 0 .7-1 1.8-3 1.8l-.6-.1-.6 2.4c-.4 1.6-.8 3.8-2.4 5.7-1.4 1.7-2.9 1.9-3.5 1.9-1.2 0-1.9-.6-2-1.5 0-.8.7-1.3 1.2-1.3.6 0 1.1.5 1.1 1s-.2.6-.4.6c-.1.1-.3.2-.3.4 0 .1.1.3.4.3.5 0 .8-.3 1.1-.5 1.2-.9 1.6-2.7 2.2-5.7l.1-.7.7-3.2c-.8-.6-1.3-1.4-2.4-1.7-.6-.1-1.1.1-1.5.5-.4.5-.2 1.1.2 1.5l.7.6c.7.8 1.2 1.6 1 2.5-.3 1.5-2 2.6-4 1.9-1.8-.6-2-1.8-1.8-2.5.2-.6.6-.7 1.1-.6.5.2.6.7.6 1.2l-.1.3c-.2.1-.3.3-.3.4-.1.4.4.6.7.7.7.3 1.6-.2 1.8-.8a1 1 0 0 0-.4-1.1l-.7-.8c-.4-.4-1.1-1.4-.7-2.6.1-.5.4-.9.7-1.3a4 4 0 0 1 2.8-.6c1.2.4 1.8 1.1 2.6 1.8.5-1.2 1-2.4 1.8-3.5.9-.9 1.9-1.6 3.1-1.7 1.3.2 2.2.7 2.2 1.6 0 .4-.2 1.1-.9 1.1z"/></svg>        <span class="sf-toolbar-value sf-toolbar-ajax-request-counter">            Loading&hellip;        </span>    </div>    </a>        <div class="sf-toolbar-info">        <div class="sf-toolbar-info-piece">            <b>Loading the web debug toolbar&hellip;</b>        </div>        <div class="sf-toolbar-info-piece">            Attempt #<span id="sfLoadCounter-999849"></span>        </div>        <div class="sf-toolbar-info-piece">            <b>                <button class="sf-cancel-button" type="button" id="sfLoadCancel-999849" title="Cancel loading">Cancel</button>            </b>        </div>    </div></div>                                <button class="hide-button" type="button" id="sfToolbarHideButton-999849" title="Close Toolbar" accesskey="D" aria-expanded="true" aria-controls="sfToolbarMainContent-999849">        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="#AAA" d="M21.1 18.3c.8.8.8 2 0 2.8-.4.4-.9.6-1.4.6s-1-.2-1.4-.6L12 14.8l-6.3 6.3c-.4.4-.9.6-1.4.6s-1-.2-1.4-.6a2 2 0 0 1 0-2.8L9.2 12 2.9 5.7a2 2 0 0 1 0-2.8 2 2 0 0 1 2.8 0L12 9.2l6.3-6.3a2 2 0 0 1 2.8 0c.8.8.8 2 0 2.8L14.8 12l6.3 6.3z"/></svg>    </button></div><!-- END of Symfony Web Debug Toolbar --></div><script nonce="a8228b9ee8ecffb6f573cf265f260af0">/*<![CDATA[*/    if (typeof Sfjs === 'undefined' || typeof Sfjs.loadToolbar === 'undefined') {    Sfjs = (function() {        "use strict";        if ('classList' in document.documentElement) {            var hasClass = function (el, cssClass) { return el.classList.contains(cssClass); };            var removeClass = function(el, cssClass) { el.classList.remove(cssClass); };            var addClass = function(el, cssClass) { el.classList.add(cssClass); };            var toggleClass = function(el, cssClass) { el.classList.toggle(cssClass); };        } else {            var hasClass = function (el, cssClass) { return el.className.match(new RegExp('\\b' + cssClass + '\\b')); };            var removeClass = function(el, cssClass) { el.className = el.className.replace(new RegExp('\\b' + cssClass + '\\b'), ' '); };            var addClass = function(el, cssClass) { if (!hasClass(el, cssClass)) { el.className += " " + cssClass; } };            var toggleClass = function(el, cssClass) { hasClass(el, cssClass) ? removeClass(el, cssClass) : addClass(el, cssClass); };        }        var noop = function() {};        var profilerStorageKey = 'symfony/profiler/';        var addEventListener;        var el = document.createElement('div');        if (!('addEventListener' in el)) {            addEventListener = function (element, eventName, callback) {                element.attachEvent('on' + eventName, callback);            };        } else {            addEventListener = function (element, eventName, callback) {                element.addEventListener(eventName, callback, false);            };        }        if (navigator.clipboard) {            document.querySelectorAll('[data-clipboard-text]').forEach(function(element) {                removeClass(element, 'hidden');                element.addEventListener('click', function() {                    navigator.clipboard.writeText(element.getAttribute('data-clipboard-text'));                })            });        }        var request = function(url, onSuccess, onError, payload, options, tries) {            var xhr = window.XMLHttpRequest ? new XMLHttpRequest() : new ActiveXObject('Microsoft.XMLHTTP');            options = options || {};            options.retry = options.retry || false;            tries = tries || 1;            /* this delays for 125, 375, 625, 875, and 1000, ... */            var delay = tries < 5 ? (tries - 0.5) * 250 : 1000;            xhr.open(options.method || 'GET', url, true);            xhr.setRequestHeader('X-Requested-With', 'XMLHttpRequest');            xhr.onreadystatechange = function(state) {                if (4 !== xhr.readyState) {                    return null;                }                if (xhr.status == 404 && options.retry && !options.stop) {                    setTimeout(function() {                        if (options.stop) {                            return;                        }                        request(url, onSuccess, onError, payload, options, tries + 1);                    }, delay);                    return null;                }                if (200 === xhr.status) {                    (onSuccess || noop)(xhr);                } else {                    (onError || noop)(xhr);                }            };            if (options.onSend) {                options.onSend(tries);            }            xhr.send(payload || '');        };        var getPreference = function(name) {            if (!window.localStorage) {                return null;            }            return localStorage.getItem(profilerStorageKey + name);        };        var setPreference = function(name, value) {            if (!window.localStorage) {                return null;            }            localStorage.setItem(profilerStorageKey + name, value);        };        var requestStack = [];        var extractHeaders = function(xhr, stackElement) {            /* Here we avoid to call xhr.getResponseHeader in order to */            /* prevent polluting the console with CORS security errors */            var allHeaders = xhr.getAllResponseHeaders();            var ret;            if (ret = allHeaders.match(/^x-debug-token:\s+(.*)$/im)) {                stackElement.profile = ret[1];            }            if (ret = allHeaders.match(/^x-debug-token-link:\s+(.*)$/im)) {                stackElement.profilerUrl = ret[1];            }            if (ret = allHeaders.match(/^Symfony-Debug-Toolbar-Replace:\s+(.*)$/im)) {                stackElement.toolbarReplaceFinished = false;                stackElement.toolbarReplace = '1' === ret[1];            }        };        var successStreak = 4;        var pendingRequests = 0;        var renderAjaxRequests = function() {            var requestCounter = document.querySelector('.sf-toolbar-ajax-request-counter');            if (!requestCounter) {                return;            }            requestCounter.textContent = requestStack.length;            var infoSpan = document.querySelector(".sf-toolbar-ajax-info");            if (infoSpan) {                infoSpan.textContent = requestStack.length + ' AJAX request' + (requestStack.length !== 1 ? 's' : '');            }            var ajaxToolbarPanel = document.querySelector('.sf-toolbar-block-ajax');            if (requestStack.length) {                ajaxToolbarPanel.style.display = 'block';            } else {                ajaxToolbarPanel.style.display = 'none';            }            if (pendingRequests > 0) {                addClass(ajaxToolbarPanel, 'sf-ajax-request-loading');            } else if (successStreak < 4) {                addClass(ajaxToolbarPanel, 'sf-toolbar-status-red');                removeClass(ajaxToolbarPanel, 'sf-ajax-request-loading');            } else {                removeClass(ajaxToolbarPanel, 'sf-ajax-request-loading');                removeClass(ajaxToolbarPanel, 'sf-toolbar-status-red');            }        };        var startAjaxRequest = function(index) {            var tbody = document.querySelector('.sf-toolbar-ajax-request-list');            if (!tbody) {                return;            }            var nbOfAjaxRequest = tbody.rows.length;            if (nbOfAjaxRequest >= 100) {                tbody.deleteRow(0);            }            var request = requestStack[index];            pendingRequests++;            var row = document.createElement('tr');            request.DOMNode = row;            var requestNumberCell = document.createElement('td');            requestNumberCell.textContent = index + 1;            row.appendChild(requestNumberCell);            var profilerCell = document.createElement('td');            profilerCell.textContent = 'n/a';            row.appendChild(profilerCell);            var methodCell = document.createElement('td');            methodCell.textContent = request.method;            row.appendChild(methodCell);            var typeCell = document.createElement('td');            typeCell.textContent = request.type;            row.appendChild(typeCell);            var statusCodeCell = document.createElement('td');            var statusCode = document.createElement('span');            statusCode.textContent = 'n/a';            statusCodeCell.appendChild(statusCode);            row.appendChild(statusCodeCell);            var pathCell = document.createElement('td');            pathCell.className = 'sf-ajax-request-url';            if ('GET' === request.method) {                var pathLink = document.createElement('a');                pathLink.setAttribute('href', request.url);                pathLink.textContent = request.url;                pathCell.appendChild(pathLink);            } else {                pathCell.textContent = request.url;            }            pathCell.setAttribute('title', request.url);            row.appendChild(pathCell);            var durationCell = document.createElement('td');            durationCell.className = 'sf-ajax-request-duration';            durationCell.textContent = 'n/a';            row.appendChild(durationCell);            request.liveDurationHandle = setInterval(function() {                durationCell.textContent = (new Date() - request.start) + ' ms';            }, 100);            row.className = 'sf-ajax-request sf-ajax-request-loading';            tbody.insertBefore(row, null);            var toolbarInfo = document.querySelector('.sf-toolbar-block-ajax .sf-toolbar-info');            toolbarInfo.scrollTop = toolbarInfo.scrollHeight;            renderAjaxRequests();        };        var finishAjaxRequest = function(index) {            var request = requestStack[index];            clearInterval(request.liveDurationHandle);            if (!request.DOMNode) {                return;            }            if (request.toolbarReplace && !request.toolbarReplaceFinished && request.profile) {                /* Flag as complete because finishAjaxRequest can be called multiple times. */                request.toolbarReplaceFinished = true;                /* Search up through the DOM to find the toolbar's container ID. */                for (var elem = request.DOMNode; elem && elem !== document; elem = elem.parentNode) {                    if (elem.id.match(/^sfwdt/)) {                        Sfjs.loadToolbar(elem.id.replace(/^sfwdt/, ''), request.profile);                        break;                    }                }            }            pendingRequests--;            var row = request.DOMNode;            /* Unpack the children from the row */            var profilerCell = row.children[1];            var methodCell = row.children[2];            var statusCodeCell = row.children[4];            var statusCodeElem = statusCodeCell.children[0];            var durationCell = row.children[6];            if (request.error) {                row.className = 'sf-ajax-request sf-ajax-request-error';                methodCell.className = 'sf-ajax-request-error';                successStreak = 0;            } else {                row.className = 'sf-ajax-request sf-ajax-request-ok';                successStreak++;            }            if (request.statusCode) {                if (request.statusCode < 300) {                    statusCodeElem.setAttribute('class', 'sf-toolbar-status');                } else if (request.statusCode < 400) {                    statusCodeElem.setAttribute('class', 'sf-toolbar-status sf-toolbar-status-yellow');                } else {                    statusCodeElem.setAttribute('class', 'sf-toolbar-status sf-toolbar-status-red');                }                statusCodeElem.textContent = request.statusCode;            } else {                statusCodeElem.setAttribute('class', 'sf-toolbar-status sf-toolbar-status-red');            }            if (request.duration) {                durationCell.textContent = request.duration + ' ms';            }            if (request.profilerUrl) {                profilerCell.textContent = '';                var profilerLink = document.createElement('a');                profilerLink.setAttribute('href', request.profilerUrl);                profilerLink.textContent = request.profile;                profilerCell.appendChild(profilerLink);            }            renderAjaxRequests();        };                    if (window.fetch && window.fetch.polyfill === undefined) {                var oldFetch = window.fetch;                window.fetch = function () {                    var promise = oldFetch.apply(this, arguments);                    var url = arguments[0];                    var params = arguments[1];                    var paramType = Object.prototype.toString.call(arguments[0]);                    if (paramType === '[object Request]') {                        url = arguments[0].url;                        params = {                            method: arguments[0].method,                            credentials: arguments[0].credentials,                            headers: arguments[0].headers,                            mode: arguments[0].mode,                            redirect: arguments[0].redirect                        };                    } else {                        url = String(url);                    }                    if (!url.match(new RegExp("^\/((index|app(_[\\w]+)?)\\.php\/)?_wdt"))) {                        var method = 'GET';                        if (params && params.method !== undefined) {                            method = params.method;                        }                        var stackElement = {                            error: false,                            url: url,                            method: method,                            type: 'fetch',                            start: new Date()                        };                        var idx = requestStack.push(stackElement) - 1;                        promise.then(function (r) {                            stackElement.duration = new Date() - stackElement.start;                            stackElement.error = r.status < 200 || r.status >= 400;                            stackElement.statusCode = r.status;                            stackElement.profile = r.headers.get('x-debug-token');                            stackElement.profilerUrl = r.headers.get('x-debug-token-link');                            stackElement.toolbarReplaceFinished = false;                            stackElement.toolbarReplace = '1' === r.headers.get('Symfony-Debug-Toolbar-Replace');                            finishAjaxRequest(idx);                        }, function (e){                            stackElement.error = true;                            finishAjaxRequest(idx);                        });                        startAjaxRequest(idx);                    }                    return promise;                };            }            if (window.XMLHttpRequest && XMLHttpRequest.prototype.addEventListener) {                var proxied = XMLHttpRequest.prototype.open;                XMLHttpRequest.prototype.open = function(method, url, async, user, pass) {                    var self = this;                    /* prevent logging AJAX calls to static and inline files, like templates */                    var path = url;                    if (url.slice(0, 1) === '/') {                        if (0 === url.indexOf('\/public')) {                            path = url.slice(7);                        }                    }                    else if (0 === url.indexOf('http\u003A\/\/localhost\u003A8888\/public')) {                        path = url.slice(28);                    }                    if (!path.match(new RegExp("^\/((index|app(_[\\w]+)?)\\.php\/)?_wdt"))) {                        var stackElement = {                            error: false,                            url: url,                            method: method,                            type: 'xhr',                            start: new Date()                        };                        var idx = requestStack.push(stackElement) - 1;                        this.addEventListener('readystatechange', function() {                            if (self.readyState == 4) {                                stackElement.duration = new Date() - stackElement.start;                                stackElement.error = self.status < 200 || self.status >= 400;                                stackElement.statusCode = self.status;                                extractHeaders(self, stackElement);                                finishAjaxRequest(idx);                            }                        }, false);                        startAjaxRequest(idx);                    }                    proxied.apply(this, Array.prototype.slice.call(arguments));                };            }                return {            hasClass: hasClass,            removeClass: removeClass,            addClass: addClass,            toggleClass: toggleClass,            getPreference: getPreference,            setPreference: setPreference,            addEventListener: addEventListener,            request: request,            renderAjaxRequests: renderAjaxRequests,            getSfwdt: function(token) {                if (!this.sfwdt) {                    this.sfwdt = document.getElementById('sfwdt' + token);                }                return this.sfwdt;            },            load: function(selector, url, onSuccess, onError, options) {                var el = document.getElementById(selector);                if (el && el.getAttribute('data-sfurl') !== url) {                    request(                        url,                        function(xhr) {                            el.innerHTML = xhr.responseText;                            el.setAttribute('data-sfurl', url);                            removeClass(el, 'loading');                            var pending = pendingRequests;                            for (var i = 0; i < requestStack.length; i++) {                                startAjaxRequest(i);                                if (requestStack[i].duration) {                                    finishAjaxRequest(i);                                }                            }                            /* Revert the pending state in case there was a start called without a finish above. */                            pendingRequests = pending;                            (onSuccess || noop)(xhr, el);                        },                        function(xhr) { (onError || noop)(xhr, el); },                        '',                        options                    );                }                return this;            },            showToolbar: function(token) {                var sfwdt = this.getSfwdt(token);                removeClass(sfwdt, 'sf-display-none');                if (getPreference('toolbar/displayState') == 'none') {                    document.getElementById('sfToolbarMainContent-' + token).style.display = 'none';                    document.getElementById('sfToolbarClearer-' + token).style.display = 'none';                    document.getElementById('sfMiniToolbar-' + token).style.display = 'block';                } else {                    document.getElementById('sfToolbarMainContent-' + token).style.display = 'block';                    document.getElementById('sfToolbarClearer-' + token).style.display = 'block';                    document.getElementById('sfMiniToolbar-' + token).style.display = 'none';                }            },            hideToolbar: function(token) {                var sfwdt = this.getSfwdt(token);                addClass(sfwdt, 'sf-display-none');            },            initToolbar: function(token) {                this.showToolbar(token);                var hideButton = document.getElementById('sfToolbarHideButton-' + token);                var hideButtonSvg = hideButton.querySelector('svg');                hideButtonSvg.setAttribute('aria-hidden', 'true');                hideButtonSvg.setAttribute('focusable', 'false');                addEventListener(hideButton, 'click', function (event) {                    event.preventDefault();                    var p = this.parentNode;                    p.style.display = 'none';                    (p.previousElementSibling || p.previousSibling).style.display = 'none';                    document.getElementById('sfMiniToolbar-' + token).style.display = 'block';                    setPreference('toolbar/displayState', 'none');                });                var showButton = document.getElementById('sfToolbarMiniToggler-' + token);                var showButtonSvg = showButton.querySelector('svg');                showButtonSvg.setAttribute('aria-hidden', 'true');                showButtonSvg.setAttribute('focusable', 'false');                addEventListener(showButton, 'click', function (event) {                    event.preventDefault();                    var elem = this.parentNode;                    if (elem.style.display == 'none') {                        document.getElementById('sfToolbarMainContent-' + token).style.display = 'none';                        document.getElementById('sfToolbarClearer-' + token).style.display = 'none';                        elem.style.display = 'block';                    } else {                        document.getElementById('sfToolbarMainContent-' + token).style.display = 'block';                        document.getElementById('sfToolbarClearer-' + token).style.display = 'block';                        elem.style.display = 'none'                    }                    setPreference('toolbar/displayState', 'block');                });            },            loadToolbar: function(token, newToken) {                var that = this;                var triesCounter = document.getElementById('sfLoadCounter-' + token);                var options = {                    retry: true,                    onSend: function (count) {                        if (count === 3) {                            that.initToolbar(token);                        }                        if (triesCounter) {                            triesCounter.textContent = count;                        }                    },                };                var cancelButton = document.getElementById('sfLoadCancel-' + token);                if (cancelButton) {                    addEventListener(cancelButton, 'click', function (event) {                        event.preventDefault();                        options.stop = true;                        that.hideToolbar(token);                    });                }                newToken = (newToken || token);                this.load(                    'sfwdt' + token,                    'http\u003A\/\/localhost\u003A8888\/public\/_wdt\/xxxxxx'.replace(/xxxxxx/, newToken),                    function(xhr, el) {                        /* Do nothing in the edge case where the toolbar has already been replaced with a new one */                        if (!document.getElementById('sfToolbarMainContent-' + newToken)) {                            return;                        }                        /* Evaluate in global scope scripts embedded inside the toolbar */                        var i, scripts = [].slice.call(el.querySelectorAll('script'));                        for (i = 0; i < scripts.length; ++i) {                            if (scripts[i].firstChild) {                                eval.call({}, scripts[i].firstChild.nodeValue);                            }                        }                        el.style.display = -1 !== xhr.responseText.indexOf('sf-toolbarreset') ? 'block' : 'none';                        if (el.style.display == 'none') {                            return;                        }                        that.initToolbar(newToken);                        /* Handle toolbar-info position */                        var toolbarBlocks = [].slice.call(el.querySelectorAll('.sf-toolbar-block'));                        for (i = 0; i < toolbarBlocks.length; ++i) {                            toolbarBlocks[i].onmouseover = function () {                                var toolbarInfo = this.querySelectorAll('.sf-toolbar-info')[0];                                var pageWidth = document.body.clientWidth;                                var elementWidth = toolbarInfo.offsetWidth;                                var leftValue = (elementWidth + this.offsetLeft) - pageWidth;                                var rightValue = (elementWidth + (pageWidth - this.offsetLeft)) - pageWidth;                                /* Reset right and left value, useful on window resize */                                toolbarInfo.style.right = '';                                toolbarInfo.style.left = '';                                if (elementWidth > pageWidth) {                                    toolbarInfo.style.left = 0;                                }                                else if (leftValue > 0 && rightValue > 0) {                                    toolbarInfo.style.right = (rightValue * -1) + 'px';                                } else if (leftValue < 0) {                                    toolbarInfo.style.left = 0;                                } else {                                    toolbarInfo.style.right = '0px';                                }                            };                        }                        renderAjaxRequests();                        addEventListener(document.querySelector('.sf-toolbar-ajax-clear'), 'click', function() {                            requestStack = [];                            renderAjaxRequests();                            successStreak = 4;                            document.querySelector('.sf-toolbar-ajax-request-list').innerHTML = '';                        });                        addEventListener(document.querySelector('.sf-toolbar-block-ajax'), 'mouseenter', function (event) {                            var elem = document.querySelector('.sf-toolbar-block-ajax .sf-toolbar-info');                            elem.scrollTop = elem.scrollHeight;                        });                        addEventListener(document.querySelector('.sf-toolbar-block-ajax > .sf-toolbar-icon'), 'click', function (event) {                            event.preventDefault();                            toggleClass(this.parentNode, 'hover');                        });                        var dumpInfo = document.querySelector('.sf-toolbar-block-dump .sf-toolbar-info');                        if (null !== dumpInfo) {                            addEventListener(dumpInfo, 'sfbeforedumpcollapse', function () {                                dumpInfo.style.minHeight = dumpInfo.getBoundingClientRect().height+'px';                            });                            addEventListener(dumpInfo, 'mouseleave', function () {                                dumpInfo.style.minHeight = '';                            });                        }                    },                    function(xhr) {                        if (xhr.status !== 0 && !options.stop) {                            var sfwdt = that.getSfwdt(token);                            sfwdt.innerHTML = '\                                <div class="sf-toolbarreset">\                                    <div class="sf-toolbar-icon"><svg width="26" height="28" xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" viewBox="0 0 26 28" enable-background="new 0 0 26 28" xml:space="preserve"><path fill="#FFFFFF" d="M13 0C5.8 0 0 5.8 0 13c0 7.2 5.8 13 13 13c7.2 0 13-5.8 13-13C26 5.8 20.2 0 13 0z M20 7.5 c-0.6 0-1-0.3-1-0.9c0-0.2 0-0.4 0.2-0.6c0.1-0.3 0.2-0.3 0.2-0.4c0-0.3-0.5-0.4-0.7-0.4c-2 0.1-2.5 2.7-2.9 4.8l-0.2 1.1 c1.1 0.2 1.9 0 2.4-0.3c0.6-0.4-0.2-0.8-0.1-1.3C18 9.2 18.4 9 18.7 8.9c0.5 0 0.8 0.5 0.8 1c0 0.8-1.1 2-3.3 1.9 c-0.3 0-0.5 0-0.7-0.1L15 14.1c-0.4 1.7-0.9 4.1-2.6 6.2c-1.5 1.8-3.1 2.1-3.8 2.1c-1.3 0-2.1-0.6-2.2-1.6c0-0.9 0.8-1.4 1.3-1.4 c0.7 0 1.2 0.5 1.2 1.1c0 0.5-0.2 0.6-0.4 0.7c-0.1 0.1-0.3 0.2-0.3 0.4c0 0.1 0.1 0.3 0.4 0.3c0.5 0 0.9-0.3 1.2-0.5 c1.3-1 1.7-2.9 2.4-6.2l0.1-0.8c0.2-1.1 0.5-2.3 0.8-3.5c-0.9-0.7-1.4-1.5-2.6-1.8c-0.8-0.2-1.3 0-1.7 0.4C8.4 10 8.6 10.7 9 11.1 l0.7 0.7c0.8 0.9 1.3 1.7 1.1 2.7c-0.3 1.6-2.1 2.8-4.3 2.1c-1.9-0.6-2.2-1.9-2-2.7c0.2-0.6 0.7-0.8 1.2-0.6 c0.5 0.2 0.7 0.8 0.6 1.3c0 0.1 0 0.1-0.1 0.3C6 15 5.9 15.2 5.9 15.3c-0.1 0.4 0.4 0.7 0.8 0.8c0.8 0.3 1.7-0.2 1.9-0.9 c0.2-0.6-0.2-1.1-0.4-1.2l-0.8-0.9c-0.4-0.4-1.2-1.5-0.8-2.8c0.2-0.5 0.5-1 0.9-1.4c1-0.7 2-0.8 3-0.6c1.3 0.4 1.9 1.2 2.8 1.9 c0.5-1.3 1.1-2.6 2-3.8c0.9-1 2-1.7 3.3-1.8C20 4.8 21 5.4 21 6.3C21 6.7 20.8 7.5 20 7.5z"/></svg></div>\                                    An error occurred while loading the web debug toolbar. <a href="http\u003A\/\/localhost\u003A8888\/public\/_profiler\/' + newToken + '">Open the web profiler.</a>\                                </div>\                            ';                            sfwdt.setAttribute('class', 'sf-toolbar sf-error-toolbar');                        }                    },                    options                );                return this;            },            toggle: function(selector, elOn, elOff) {                var tmp = elOn.style.display,                    el = document.getElementById(selector);                elOn.style.display = elOff.style.display;                elOff.style.display = tmp;                if (el) {                    el.style.display = 'none' === tmp ? 'none' : 'block';                }                return this;            },            createTabs: function() {                var tabGroups = document.querySelectorAll('.sf-tabs:not([data-processed=true])');                /* create the tab navigation for each group of tabs */                for (var i = 0; i < tabGroups.length; i++) {                    var tabs = tabGroups[i].querySelectorAll(':scope > .tab');                    var tabNavigation = document.createElement('ul');                    tabNavigation.className = 'tab-navigation';                    var selectedTabId = 'tab-' + i + '-0'; /* select the first tab by default */                    for (var j = 0; j < tabs.length; j++) {                        var tabId = 'tab-' + i + '-' + j;                        var tabTitle = tabs[j].querySelector('.tab-title').innerHTML;                        var tabNavigationItem = document.createElement('li');                        tabNavigationItem.setAttribute('data-tab-id', tabId);                        if (hasClass(tabs[j], 'active')) { selectedTabId = tabId; }                        if (hasClass(tabs[j], 'disabled')) { addClass(tabNavigationItem, 'disabled'); }                        tabNavigationItem.innerHTML = tabTitle;                        tabNavigation.appendChild(tabNavigationItem);                        var tabContent = tabs[j].querySelector('.tab-content');                        tabContent.parentElement.setAttribute('id', tabId);                    }                    tabGroups[i].insertBefore(tabNavigation, tabGroups[i].firstChild);                    addClass(document.querySelector('[data-tab-id="' + selectedTabId + '"]'), 'active');                }                /* display the active tab and add the 'click' event listeners */                for (i = 0; i < tabGroups.length; i++) {                    tabNavigation = tabGroups[i].querySelectorAll(':scope > .tab-navigation li');                    for (j = 0; j < tabNavigation.length; j++) {                        tabId = tabNavigation[j].getAttribute('data-tab-id');                        document.getElementById(tabId).querySelector('.tab-title').className = 'hidden';                        if (hasClass(tabNavigation[j], 'active')) {                            document.getElementById(tabId).className = 'block';                        } else {                            document.getElementById(tabId).className = 'hidden';                        }                        tabNavigation[j].addEventListener('click', function(e) {                            var activeTab = e.target || e.srcElement;                            /* needed because when the tab contains HTML contents, user can click */                            /* on any of those elements instead of their parent '<li>' element */                            while (activeTab.tagName.toLowerCase() !== 'li') {                                activeTab = activeTab.parentNode;                            }                            /* get the full list of tabs through the parent of the active tab element */                            var tabNavigation = activeTab.parentNode.children;                            for (var k = 0; k < tabNavigation.length; k++) {                                var tabId = tabNavigation[k].getAttribute('data-tab-id');                                document.getElementById(tabId).className = 'hidden';                                removeClass(tabNavigation[k], 'active');                            }                            addClass(activeTab, 'active');                            var activeTabId = activeTab.getAttribute('data-tab-id');                            document.getElementById(activeTabId).className = 'block';                        });                    }                    tabGroups[i].setAttribute('data-processed', 'true');                }            },            createToggles: function() {                var toggles = document.querySelectorAll('.sf-toggle:not([data-processed=true])');                for (var i = 0; i < toggles.length; i++) {                    var elementSelector = toggles[i].getAttribute('data-toggle-selector');                    var element = document.querySelector(elementSelector);                    addClass(element, 'sf-toggle-content');                    if (toggles[i].hasAttribute('data-toggle-initial') && toggles[i].getAttribute('data-toggle-initial') == 'display') {                        addClass(toggles[i], 'sf-toggle-on');                        addClass(element, 'sf-toggle-visible');                    } else {                        addClass(toggles[i], 'sf-toggle-off');                        addClass(element, 'sf-toggle-hidden');                    }                    addEventListener(toggles[i], 'click', function(e) {                        e.preventDefault();                        if ('' !== window.getSelection().toString()) {                            /* Don't do anything on text selection */                            return;                        }                        var toggle = e.target || e.srcElement;                        /* needed because when the toggle contains HTML contents, user can click */                        /* on any of those elements instead of their parent '.sf-toggle' element */                        while (!hasClass(toggle, 'sf-toggle')) {                            toggle = toggle.parentNode;                        }                        var element = document.querySelector(toggle.getAttribute('data-toggle-selector'));                        toggleClass(toggle, 'sf-toggle-on');                        toggleClass(toggle, 'sf-toggle-off');                        toggleClass(element, 'sf-toggle-hidden');                        toggleClass(element, 'sf-toggle-visible');                        /* the toggle doesn't change its contents when clicking on it */                        if (!toggle.hasAttribute('data-toggle-alt-content')) {                            return;                        }                        if (!toggle.hasAttribute('data-toggle-original-content')) {                            toggle.setAttribute('data-toggle-original-content', toggle.innerHTML);                        }                        var currentContent = toggle.innerHTML;                        var originalContent = toggle.getAttribute('data-toggle-original-content');                        var altContent = toggle.getAttribute('data-toggle-alt-content');                        toggle.innerHTML = currentContent !== altContent ? altContent : originalContent;                    });                    /* Prevents from disallowing clicks on links inside toggles */                    var toggleLinks = toggles[i].querySelectorAll('a');                    for (var j = 0; j < toggleLinks.length; j++) {                        addEventListener(toggleLinks[j], 'click', function(e) {                            e.stopPropagation();                        });                    }                    /* Prevents from disallowing clicks on "copy to clipboard" elements inside toggles */                    var copyToClipboardElements = toggles[i].querySelectorAll('span[data-clipboard-text]');                    for (var k = 0; k < copyToClipboardElements.length; k++) {                        addEventListener(copyToClipboardElements[k], 'click', function(e) {                            e.stopPropagation();                        });                    }                    toggles[i].setAttribute('data-processed', 'true');                }            },            initializeLogsTable: function() {                Sfjs.updateLogsTable();                document.querySelectorAll('.log-filter input').forEach((input) => {                    input.addEventListener('change', () => { Sfjs.updateLogsTable(); });                });                document.querySelectorAll('.filter-select-all-or-none button').forEach((link) => {                    link.addEventListener('click', () => {                        const selectAll = link.classList.contains('select-all');                        link.closest('.log-filter-content').querySelectorAll('input').forEach((input) => {                            input.checked = selectAll;                        });                        Sfjs.updateLogsTable();                    });                });                document.body.addEventListener('click', (event) => {                    document.querySelectorAll('details.log-filter').forEach((filterElement) => {                        if (!filterElement.contains(event.target) && filterElement.open) {                            filterElement.open = false;                        }                    });                });            },            updateLogsTable: function() {                const selectedType = document.querySelector('#log-filter-type input:checked').value;                const priorities = document.querySelectorAll('#log-filter-priority input');                const allPriorities = Array.from(priorities).map((input) => input.value);                const selectedPriorities = Array.from(priorities).filter((input) => input.checked).map((input) => input.value);                const channels = document.querySelectorAll('#log-filter-channel input');                const selectedChannels = Array.from(channels).filter((input) => input.checked).map((input) => input.value);                const logs = document.querySelector('table.logs');                if (null === logs) {                    return;                }                /* hide rows that don't match the current filters */                let numVisibleRows = 0;                logs.querySelectorAll('tbody tr').forEach((row) => {                    if ('all' !== selectedType && selectedType !== row.getAttribute('data-type')) {                        row.style.display = 'none';                        return;                    }                    const priority = row.getAttribute('data-priority');                    if (false === selectedPriorities.includes(priority) && true === allPriorities.includes(priority)) {                        row.style.display = 'none';                        return;                    }                    if ('' !== row.getAttribute('data-channel') && false === selectedChannels.includes(row.getAttribute('data-channel'))) {                        row.style.display = 'none';                        return;                    }                    row.style.display = 'table-row';                    numVisibleRows++;                });                document.querySelector('table.logs').style.display = 0 === numVisibleRows ? 'none' : 'table';                document.querySelector('.no-logs-message').style.display = 0 === numVisibleRows ? 'block' : 'none';                /* update the selected totals of all filters */                document.querySelector('#log-filter-priority .filter-active-num').innerText = (priorities.length === selectedPriorities.length) ? 'All' : selectedPriorities.length;                document.querySelector('#log-filter-channel .filter-active-num').innerText = (channels.length === selectedChannels.length) ? 'All' : selectedChannels.length;                /* update the currently selected "log type" tab */                document.querySelectorAll('#log-filter-type li').forEach((tab) => tab.classList.remove('active'));                document.querySelector(`#log-filter-type input[value="${selectedType}"]`).parentElement.classList.add('active');            },        };    })();    Sfjs.addEventListener(document, 'DOMContentLoaded', function() {        Sfjs.createTabs();        Sfjs.createToggles();    });}/*]]>*/</script><style nonce="da55d2f98ebe42b43a48cafd6db860dc">    .sf-minitoolbar {    background-color: #222;    border-top-left-radius: 4px;    bottom: 0;    box-sizing: border-box;    display: none;    height: 36px;    padding: 6px;    position: fixed;    right: 0;    z-index: 99999;}.sf-minitoolbar button {    background-color: transparent;    padding: 0;    border: none;}.sf-minitoolbar svg,.sf-minitoolbar img {    max-height: 24px;    max-width: 24px;    display: inline;}.sf-toolbar-clearer {    clear: both;    height: 36px;}.sf-display-none {    display: none;}.sf-toolbarreset * {    box-sizing: content-box;    vertical-align: baseline;    letter-spacing: normal;    width: auto;}.sf-toolbarreset {    background-color: #222;    bottom: 0;    box-shadow: 0 -1px 0 rgba(0, 0, 0, 0.2);    color: #EEE;    font: 11px Arial, sans-serif;    left: 0;    margin: 0;    padding: 0 36px 0 0;    position: fixed;    right: 0;    text-align: left;    text-transform: none;    z-index: 99999;    direction: ltr;    /* neutralize the aliasing defined by external CSS styles */    -webkit-font-smoothing: subpixel-antialiased;    -moz-osx-font-smoothing: auto;}.sf-toolbarreset abbr {    border: dashed #777;    border-width: 0 0 1px;}.sf-toolbarreset svg,.sf-toolbarreset img {    height: 20px;    width: 20px;    display: inline-block;}.sf-toolbarreset .sf-cancel-button {    color: #444;}.sf-toolbarreset .hide-button {    background: #444;    display: block;    position: absolute;    top: 0;    right: 0;    width: 36px;    height: 36px;    cursor: pointer;    text-align: center;    border: none;    margin: 0;    padding: 0;}.sf-toolbarreset .hide-button svg {    max-height: 18px;    margin-top: 1px;}.sf-toolbar-block {    cursor: default;    display: block;    float: left;    height: 36px;    margin-right: 0;    white-space: nowrap;    max-width: 15%;}.sf-toolbar-block > a,.sf-toolbar-block > a:hover {    display: block;    text-decoration: none;    background-color: transparent;    color: inherit;}.sf-toolbar-block span {    display: inline-block;}.sf-toolbar-block .sf-toolbar-value {    color: #F5F5F5;    font-size: 13px;    line-height: 36px;    padding: 0;}.sf-toolbar-block .sf-toolbar-label,.sf-toolbar-block .sf-toolbar-class-separator {    color: #AAA;    font-size: 12px;}.sf-toolbar-block .sf-toolbar-info {    border-collapse: collapse;    display: table;    z-index: 100000;}.sf-toolbar-block hr {    border-top: 1px solid #777;    margin: 4px 0;    padding-top: 4px;}.sf-toolbar-block .sf-toolbar-info-piece {    /* this 'border-bottom' trick is needed because 'margin-bottom' doesn't work for table rows */    border-bottom: solid transparent 3px;    display: table-row;}.sf-toolbar-block .sf-toolbar-info-piece-additional,.sf-toolbar-block .sf-toolbar-info-piece-additional-detail {    display: none;}.sf-toolbar-block .sf-toolbar-info-group {    margin-bottom: 4px;    padding-bottom: 2px;    border-bottom: 1px solid #333333;}.sf-toolbar-block .sf-toolbar-info-group:last-child {    margin-bottom: 0;    padding-bottom: 0;    border-bottom: none;}.sf-toolbar-block .sf-toolbar-info-piece .sf-toolbar-status {    padding: 2px 5px;    margin-bottom: 0;}.sf-toolbar-block .sf-toolbar-info-piece .sf-toolbar-status + .sf-toolbar-status {    margin-left: 4px;}.sf-toolbar-block .sf-toolbar-info-piece:last-child {    margin-bottom: 0;}div.sf-toolbar .sf-toolbar-block .sf-toolbar-info-piece a {    color: #99CDD8;    text-decoration: underline;}div.sf-toolbar .sf-toolbar-block a:hover {    text-decoration: none;}.sf-toolbar-block .sf-toolbar-info-piece b {    color: #AAA;    display: table-cell;    font-size: 11px;    padding: 4px 8px 4px 0;}.sf-toolbar-block:not(.sf-toolbar-block-dump) .sf-toolbar-info-piece span {    color: #F5F5F5;}.sf-toolbar-block .sf-toolbar-info-piece span {    font-size: 12px;}.sf-toolbar-block .sf-toolbar-info {    background-color: #444;    bottom: 36px;    color: #F5F5F5;    display: none;    padding: 9px 0;    position: absolute;}.sf-toolbar-block .sf-toolbar-info:empty {    visibility: hidden;}.sf-toolbar-block .sf-toolbar-status {    display: inline-block;    color: #FFF;    background-color: #666;    padding: 3px 6px;    margin-bottom: 2px;    vertical-align: middle;    min-width: 15px;    min-height: 13px;    text-align: center;}.sf-toolbar-block .sf-toolbar-status-green {    background-color: #4F805D;}.sf-toolbar-block .sf-toolbar-status-red {    background-color: #B0413E;}.sf-toolbar-block .sf-toolbar-status-yellow {    background-color: #A46A1F;}.sf-toolbar-block.sf-toolbar-status-green {    background-color: #4F805D;    color: #FFF;}.sf-toolbar-block.sf-toolbar-status-red {    background-color: #B0413E;    color: #FFF;}.sf-toolbar-block.sf-toolbar-status-yellow {    background-color: #A46A1F;    color: #FFF;}.sf-toolbar-block-request .sf-toolbar-status {    color: #FFF;    display: inline-block;    font-size: 14px;    height: 36px;    line-height: 36px;    padding: 0 10px;}.sf-toolbar-block-request .sf-toolbar-info-piece a {    background-color: transparent;    text-decoration: none;}.sf-toolbar-block-request .sf-toolbar-info-piece a:hover {    text-decoration: underline;}.sf-toolbar-block-request .sf-toolbar-redirection-status {    font-weight: normal;    padding: 2px 4px;    line-height: 18px;}.sf-toolbar-block-request .sf-toolbar-info-piece span.sf-toolbar-redirection-method {    font-size: 12px;    height: 17px;    line-height: 17px;    margin-right: 5px;}.sf-toolbar-block-ajax .sf-toolbar-icon {    cursor: pointer;}.sf-toolbar-status-green .sf-toolbar-label,.sf-toolbar-status-yellow .sf-toolbar-label,.sf-toolbar-status-red .sf-toolbar-label {    color: #FFF;}.sf-toolbar-status-green svg path,.sf-toolbar-status-green svg .sf-svg-path,.sf-toolbar-status-red svg path,.sf-toolbar-status-red svg .sf-svg-path,.sf-toolbar-status-yellow svg path,.sf-toolbar-status-yellow svg .sf-svg-path {    fill: #FFF;}.sf-toolbar-block-config svg path,.sf-toolbar-block-config svg .sf-svg-path {    fill: #FFF;}.sf-toolbar-block .sf-toolbar-icon {    display: block;    height: 36px;    padding: 0 7px;    overflow: hidden;    text-overflow: ellipsis;}.sf-toolbar-block-request .sf-toolbar-icon {    padding-left: 0;    padding-right: 0;}.sf-toolbar-block .sf-toolbar-icon img,.sf-toolbar-block .sf-toolbar-icon svg {    border-width: 0;    position: relative;    top: 8px;    vertical-align: baseline;}.sf-toolbar-block .sf-toolbar-icon img + span,.sf-toolbar-block .sf-toolbar-icon svg + span {    margin-left: 4px;}.sf-toolbar-block-config .sf-toolbar-icon .sf-toolbar-value {    margin-left: 4px;}.sf-toolbar-block:hover,.sf-toolbar-block.hover {    position: relative;}.sf-toolbar-block:hover .sf-toolbar-icon,.sf-toolbar-block.hover .sf-toolbar-icon {    background-color: #444;    position: relative;    z-index: 10002;}.sf-toolbar-block-ajax.hover .sf-toolbar-info {    z-index: 10001;}.sf-toolbar-block:hover .sf-toolbar-info,.sf-toolbar-block.hover .sf-toolbar-info {    display: block;    padding: 10px;    max-width: 525px;    max-height: 480px;    word-wrap: break-word;    overflow: hidden;    overflow-y: auto;}.sf-toolbar-info-piece b.sf-toolbar-ajax-info {    color: #F5F5F5;}.sf-toolbar-ajax-requests {    table-layout: auto;    width: 100%;}.sf-toolbar-ajax-requests td {    background-color: #444;    border-bottom: 1px solid #777;    color: #F5F5F5;    font-size: 12px;    padding: 4px;}.sf-toolbar-ajax-requests tr:last-child td {    border-bottom: 0;}.sf-toolbar-ajax-requests th {    background-color: #222;    border-bottom: 0;    color: #AAA;    font-size: 11px;    padding: 4px;}.sf-ajax-request-url {    max-width: 250px;    line-height: 9px;    overflow: hidden;    text-overflow: ellipsis;}.sf-toolbar-ajax-requests .sf-ajax-request-url a {    text-decoration: none;}.sf-toolbar-ajax-requests .sf-ajax-request-url a:hover {    text-decoration: underline;}.sf-ajax-request-duration {    text-align: right;}.sf-ajax-request-loading {    animation: sf-blink .5s ease-in-out infinite;}@keyframes sf-blink {    0% { background: #222; }    50% { background: #444; }    100% { background: #222; }}.sf-toolbar-block.sf-toolbar-block-dump .sf-toolbar-info {    max-width: none;    width: 100%;    position: fixed;    box-sizing: border-box;    left: 0;}.sf-toolbar-block-dump pre.sf-dump {    background-color: #222;    border-color: #777;    border-radius: 0;    margin: 6px 0 12px 0;}.sf-toolbar-block-dump pre.sf-dump:last-child {    margin-bottom: 0;}.sf-toolbar-block-dump pre.sf-dump .sf-dump-search-wrapper {    margin-bottom: 5px;}.sf-toolbar-block-dump pre.sf-dump span.sf-dump-search-count {    color: #333;    font-size: 12px;}.sf-toolbar-block-dump .sf-toolbar-info-piece {    display: block;}.sf-toolbar-block-dump .sf-toolbar-info-piece .sf-toolbar-file-line {    color: #AAA;    margin-left: 4px;}.sf-toolbar-block-dump .sf-toolbar-info img {    display: none;}/* Responsive Design */.sf-toolbar-icon .sf-toolbar-label,.sf-toolbar-icon .sf-toolbar-value {    display: none;}.sf-toolbar-block-config .sf-toolbar-icon .sf-toolbar-label {    display: inline-block;}/* Legacy Design - these styles are maintained to make old panels look   a bit better on the new toolbar */.sf-toolbar-block .sf-toolbar-info-piece-additional-detail {    color: #AAA;    font-size: 12px;}.sf-toolbar-status-green .sf-toolbar-info-piece-additional-detail,.sf-toolbar-status-yellow .sf-toolbar-info-piece-additional-detail,.sf-toolbar-status-red .sf-toolbar-info-piece-additional-detail {    color: #FFF;}@media (min-width: 768px) {    .sf-toolbar-icon .sf-toolbar-label,    .sf-toolbar-icon .sf-toolbar-value {        display: inline;    }    .sf-toolbar-block .sf-toolbar-icon img,    .sf-toolbar-block .sf-toolbar-icon svg {        top: 6px;    }    .sf-toolbar-block-time .sf-toolbar-icon svg,    .sf-toolbar-block-memory .sf-toolbar-icon svg {        display: none;    }    .sf-toolbar-block-time .sf-toolbar-icon svg + span,    .sf-toolbar-block-memory .sf-toolbar-icon svg + span {        margin-left: 0;    }    .sf-toolbar-block .sf-toolbar-icon {        padding: 0 10px;    }    .sf-toolbar-block-time .sf-toolbar-icon {        padding-right: 5px;    }    .sf-toolbar-block-memory .sf-toolbar-icon {        padding-left: 5px;    }    .sf-toolbar-block-request .sf-toolbar-icon {        padding-left: 0;        padding-right: 0;    }    .sf-toolbar-block-request .sf-toolbar-label {        margin-left: 5px;    }    .sf-toolbar-block-request .sf-toolbar-status + svg {        margin-left: 5px;    }    .sf-toolbar-block-request .sf-toolbar-icon svg + .sf-toolbar-label {        margin-left: 0;     }    .sf-toolbar-block-request .sf-toolbar-label + .sf-toolbar-value {        margin-right: 10px;    }    .sf-toolbar-block-request:hover .sf-toolbar-info {        max-width: none;    }    .sf-toolbar-block .sf-toolbar-info-piece b {        font-size: 12px;    }    .sf-toolbar-block .sf-toolbar-info-piece span {        font-size: 13px;    }    .sf-toolbar-block-right {        float: right;        margin-left: 0;        margin-right: 0;    }}@media (min-width: 1024px) {    .sf-toolbar-block .sf-toolbar-info-piece-additional,    .sf-toolbar-block .sf-toolbar-info-piece-additional-detail {        display: inline;    }    .sf-toolbar-block .sf-toolbar-info-piece-additional:empty,    .sf-toolbar-block .sf-toolbar-info-piece-additional-detail:empty {        display: none;    }}/***** Error Toolbar *****/.sf-error-toolbar .sf-toolbarreset {    background: #222;    color: #f5f5f5;    font: 13px/36px Arial, sans-serif;    height: 36px;    padding: 0 15px;    text-align: left;}.sf-error-toolbar .sf-toolbarreset svg {    height: auto;}.sf-error-toolbar .sf-toolbarreset a {    color: #99cdd8;    margin-left: 5px;    text-decoration: underline;}.sf-error-toolbar .sf-toolbarreset a:hover {    text-decoration: none;}.sf-error-toolbar .sf-toolbarreset .sf-toolbar-icon {    float: left;    padding: 5px 0;    margin-right: 10px;}.sf-full-stack {    left: 0px;    font-size: 12px;}/***** Media query print: Do not print the Toolbar. *****/@media print {    .sf-toolbar {        display: none !important;    }}</style><script nonce="a8228b9ee8ecffb6f573cf265f260af0">/*<![CDATA[*/    (function () {        Sfjs.loadToolbar('999849');    })();/*]]>*/</script>
</body>
</html>
